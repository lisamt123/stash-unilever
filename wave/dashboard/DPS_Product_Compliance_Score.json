{
    "label": "Product Compliance Dashboard",
    "description": "updated version - with mobile",
    "state": {
        "gridLayouts": [],
        "layouts": [
            {
                "device": "default",
                "pages": [
                    {
                        "rows": [
                            " | box_15 {rowspan=4}",
                            "row:{height=40}",
                            "header_period {colspan=2}",
                            "datefilter_2 {colspan=2}",
                            "row:{height=40}",
                            "header_geo {colspan=2}",
                            "dimfilter_cluster | dimfilter_city",
                            "dimfilter_country | dimfilter_salesA",
                            "dimfilter_region | dimfilter_salesT",
                            "dimfilter_province",
                            "row:{height=40}",
                            "header_customer {colspan=2}",
                            "dimfilter_TradeFormat | dimfilter_banner",
                            "dimfilter_channel | dimfilter_customerType",
                            "dimfilter_subchannel | dimfilter_customerSubType",
                            "dimfilter_4p5p6p | dimfilter_customer",
                            "row:{height=40}",
                            "header_product {colspan=2}",
                            "dimfilter_prodCategory | dimfilter_prodBrand",
                            "dimfilter_prodDivision | dimfilter_SKU",
                            "dimfilter_prodMarket",
                            "dimfilter_prodSector",
                            "row:{height=40}"
                        ]
                    },
                    {
                        "rows": [
                            "row:{height=40}",
                            "header_prodComCountry {colspan=2}",
                            "chart_prodComCountry {colspan=2}",
                            "chartdesc_prodComCountry {colspan=2}",
                            "row:{height=40}",
                            "header_prodComTrend {colspan=2}",
                            "chart_prodComTrend {colspan=2}",
                            "chartdesc_prodComTrend {colspan=2}",
                            "row:{height=40}",
                            "header_prodCom4p5p6p {colspan=2}",
                            "chart_prodCom4p5p6p {colspan=2}",
                            "chartdesc_prodCom4p5p6p {colspan=2}",
                            "row:{height=40}",
                            "header_prodComRegion {colspan=2}",
                            "chart_prodComRegion {colspan=2}",
                            "chartdesc_prodComRegion {colspan=2}",
                            "row:{height=40}",
                            "header_prodComChannel {colspan=2}",
                            "chart_prodComChannel {colspan=2}",
                            "chartdesc_prodComChannel{colspan=2}",
                            "row:{height=40}",
                            "header_prodComCat {colspan=2}",
                            "chart_prodComCat {colspan=2}",
                            "chartdesc_prodComCat {colspan=2}",
                            "row:{height=40}",
                            "header_prodComCustomers {colspan=2}",
                            "chart_prodComCustomers {colspan=2}",
                            "chartdesc_prodComCust {colspan=2}",
                            "row:{height=40}",
                            "row:{height=40}",
                            "header_countAuditScores {colspan=2}",
                            "number_countAuditScores {colspan=2}",
                            "row:{height=30}"
                        ]
                    },
                    {
                        "rows": [
                            "row:{height=40}",
                            "header_prodScoreCountry {colspan=2}",
                            "chart_prodScoreCountry {colspan=2}",
                            "chartdesc_prodScoreCountry {colspan=2}",
                            "| link_prodScoreCountry",
                            "row:{height=40}",
                            "header_prodScoreTrend {colspan=2}",
                            "chart_prodScoreTrend {colspan=2}",
                            "chartdesc_prodScoreTrend {colspan=2}",
                            "| link_prodScoreTrend",
                            "row:{height=40}",
                            "header_prodScore4p5p6p {colspan=2}",
                            "chart_prodScore4p5p6p {colspan=2}",
                            "chartdesc_prodScore4p5p6p {colspan=2}",
                            "| link_prodScore4p5p6p",
                            "row:{height=40}",
                            "header_prodScoreRegion {colspan=2}",
                            "chart_prodScoreRegion {colspan=2}",
                            "chartdesc_prodScoreRegion {colspan=2}",
                            "| link_prodScoreRegion",
                            "row:{height=40}",
                            "header_prodScoreChannel {colspan=2}",
                            "chart_prodScoreChannel {colspan=2}",
                            "chartdesc_prodScoreChannel {colspan=2}",
                            "| link_prodScoreChannel",
                            "row:{height=40}",
                            "header_prodScoreCat {colspan=2}",
                            "chart_prodScoreCat {colspan=2}",
                            "chartdesc_prodScoreCat {colspan=2}",
                            "| link_prodScoreCat",
                            "row:{height=40}",
                            "header_prodScoreCustomers {colspan=2}",
                            "chart_prodScoreCustomers {colspan=2}",
                            "chartdesc_prodScoreCustomers {colspan=2}",
                            "| link_prodScoreCust",
                            "row:{height=30}"
                        ]
                    }
                ],
                "version": 1
            }
        ],
        "steps": {
            "X4P_5P_6P_63": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "X4P_5P_6P"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Subchannel_29": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Subchannel"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "SKU_39": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "SKU"
                    ]
                },
                "selectMode": "single",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "X4P_5P_6P_64": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "X4P_5P_6P"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Country_21": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Country"
                    ]
                },
                "selectMode": "multi",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Product_category_35": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_category"
                    ]
                },
                "selectMode": "single",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Product_brand_69": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_brand"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Trade_Format_27": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Trade_Format"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Region_72": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Region"
                    ],
                    "filters": [
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "year",
                                        -1
                                    ],
                                    [
                                        "year",
                                        1
                                    ]
                                ]
                            ]
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "vbar"
                }
            },
            "Customer_32": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Customer"
                    ]
                },
                "selectMode": "multi",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Local_Outlet_Name_76": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "Local_Outlet_Name"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "X4P_5P_6P_KPI_Type_65": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": " q = load \"DPS_PRODUCT_AGGREGATED\";q = filter q by 'Country' in {{ selection(Country_2) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_64) }}; q = filter q by 'Region' in {{ selection(Region_72) }}; q = filter q by 'Channel' in {{ selection(Channel_6) }}; q = filter q by 'Product_category' in {{ selection(Product_category_5) }}; q = filter q by 'Customer' in {{ selection(Customer_7) }};q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }};q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }};  q = filter q by 'Region' in {{ selection(Region_22) }}; q = filter q by 'Province' in {{ selection(Province_23) }};  q = filter q by 'City' in {{ selection(City_24) }};  q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};  q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};  q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};  q = filter q by 'Channel' in {{ selection(Channel_28) }};  q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};  q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }};  q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};  q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};  q = filter q by 'Customer' in {{ selection(Customer_32) }};  q = filter q by 'Banner' in {{ selection(Banner_33) }};  q = filter q by 'Product_division' in {{ selection(Product_division_53) }};  q = filter q by 'Product_category' in {{ selection(Product_category_54) }};  OSA = group q by 'X4P_5P_6P'; OOS = group q by 'X4P_5P_6P'; Void = group q by 'X4P_5P_6P'; OSA = foreach OSA generate 'X4P_5P_6P' as 'X4P_5P_6P', sum('Total_OSA')/sum('Total_Audited') as 'product_score', \" OSA\" as 'KPI Type'; OOS = foreach OOS generate 'X4P_5P_6P' as 'X4P_5P_6P', sum('Total_OOS')/sum('Total_Audited') as 'product_score', \"OOS\" as 'KPI Type'; Void = foreach Void generate 'X4P_5P_6P' as 'X4P_5P_6P', sum('Total_Void')/sum('Total_Audited') as 'product_score', \"Void\" as 'KPI Type'; Product = group OSA by 'X4P_5P_6P', OOS by 'X4P_5P_6P', Void by 'X4P_5P_6P';Product = union OSA, OOS, Void;",
                    "measures": [
                        [
                            "product",
                            "score",
                            "product_score",
                            {
                                "display": "KPI Score",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "X4P_5P_6P",
                        "KPI Type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "options": {
                        "normalize": true
                    },
                    "visualizationType": "stackhbar"
                }
            },
            "Date_of_audit_Year_Date_of_audit_Month_KPI_Type_66": {
                "isFacet": false,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "product",
                            "Score",
                            "product_score",
                            {
                                "display": "KPI Score",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "pigql": " q = load \"DPS_PRODUCT_AGGREGATED\"; q = filter q by 'Country' in {{ selection(Country_2) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_64) }}; q = filter q by 'Region' in {{ selection(Region_72) }}; q = filter q by 'Channel' in {{ selection(Channel_6) }}; q = filter q by 'Product_category' in {{ selection(Product_category_5) }}; q = filter q by 'Customer' in {{ selection(Customer_7) }}; q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }};  q = filter q by 'Region' in {{ selection(Region_22) }}; q = filter q by 'Province' in {{ selection(Province_23) }};  q = filter q by 'City' in {{ selection(City_24) }};  q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};  q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};  q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};  q = filter q by 'Channel' in {{ selection(Channel_28) }};  q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};  q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }};  q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};  q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};  q = filter q by 'Customer' in {{ selection(Customer_32) }};  q = filter q by 'Banner' in {{ selection(Banner_33) }};  q = filter q by 'Product_division' in {{ selection(Product_division_53) }};  q = filter q by 'Product_category' in {{ selection(Product_category_54) }}; OSA = group q by ('Date_of_audit_Year', 'Date_of_audit_Month'); OOS = group q by ('Date_of_audit_Year', 'Date_of_audit_Month'); Void = group q by ('Date_of_audit_Year', 'Date_of_audit_Month'); OSA = foreach OSA generate 'Date_of_audit_Year' + \"~~~\" + 'Date_of_audit_Month' as 'Date_of_audit_Year~~~Date_of_audit_Month', sum('Total_OSA')/sum('Total_Audited') as 'product_score', \" OSA\" as 'KPI Type'; OOS = foreach OOS generate 'Date_of_audit_Year' + \"~~~\" + 'Date_of_audit_Month' as 'Date_of_audit_Year~~~Date_of_audit_Month', sum('Total_OOS')/sum('Total_Audited') as 'product_score', \"OOS\" as 'KPI Type'; Void = foreach Void generate 'Date_of_audit_Year' + \"~~~\" + 'Date_of_audit_Month' as 'Date_of_audit_Year~~~Date_of_audit_Month', sum('Total_Void')/sum('Total_Audited') as 'product_score', \"Void\" as 'KPI Type'; Product = group OSA by all, OOS by all, Void by all; Product = union OSA, OOS, Void;",
                    "groups": [
                        [
                            "Date_of_audit_Year",
                            "Date_of_audit_Month"
                        ],
                        "KPI Type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "time"
                }
            },
            "all_77": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "order": [
                        [
                            -1,
                            {
                                "ascending": false
                            }
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "compare_15": {
                "isFacet": true,
                "isGlobal": false,
                "selectMode": "single",
                "type": "multi",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "comparisontable"
                },
                "columns": [
                    {
                        "format": "percentage",
                        "header": "Last Month",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA_Compliance"
                                ]
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -2
                                            ],
                                            [
                                                "month",
                                                -2
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "This Month",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA_Compliance"
                                ]
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -1
                                            ],
                                            [
                                                "month",
                                                -1
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Diff from Last Month",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA_Compliance"
                                ]
                            ],
                            "formula": "B-A",
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                0
                                            ],
                                            [
                                                "month",
                                                0
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Diff from Last Month",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA_Compliance"
                                ]
                            ],
                            "formula": "B-A",
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                0
                                            ],
                                            [
                                                "month",
                                                0
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        },
                        "showBars": true
                    }
                ],
                "globalQuery": {}
            },
            "compare_16": {
                "isFacet": true,
                "isGlobal": false,
                "selectMode": "single",
                "type": "multi",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "comparisontable"
                },
                "columns": [
                    {
                        "format": "percentage",
                        "header": "Last Month",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA"
                                ]
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -2
                                            ],
                                            [
                                                "month",
                                                -2
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "This Month",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA"
                                ]
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -1
                                            ],
                                            [
                                                "month",
                                                -1
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Diff from Last Month",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA_Compliance"
                                ]
                            ],
                            "formula": "B-A",
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                0
                                            ],
                                            [
                                                "month",
                                                0
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Diff from Last Month",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA_Compliance"
                                ]
                            ],
                            "formula": "B-A",
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                0
                                            ],
                                            [
                                                "month",
                                                0
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        },
                        "showBars": true
                    }
                ],
                "globalQuery": {}
            },
            "OSA_Compliance_56": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance"
                        ]
                    ],
                    "filters": [
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "month",
                                        -2
                                    ],
                                    [
                                        "month",
                                        -2
                                    ]
                                ]
                            ],
                            ">=<="
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Channel_28": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Channel"
                    ]
                },
                "selectMode": "multi",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "OSA_Compliance_58": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": "q = load \"DPS_PRODUCT_AGGREGATED\"; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }}; q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};q = filter q by 'City' in {{ selection(City_24) }};q = filter q by 'Region' in {{ selection(Region_22) }};q = filter q by 'Province' in {{ selection(Province_23) }};q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};q = filter q by 'Customer' in {{ selection(Customer_32) }};q = filter q by 'Banner' in {{ selection(Banner_33) }};q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};q = filter q by 'Cluster' in {{ selection(Cluster_20) }};q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};q = filter q by 'Channel' in {{ selection(Channel_28) }};q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};q = filter q by 'Product_division' in {{ selection(Product_division_53) }};q = filter q by 'Product_category' in {{ selection(Product_category_54) }};q = filter q by 'Country' in {{ selection(Country_21) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 month ago\"..\"1 month ahead\"];r = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 month ago\"..\"2 month ago\"];w = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"1 month ago\"..\"1 month ago\"];c = cogroup q by all, r by all, w by all; c = foreach c generate avg(w.OSA_Compliance) - avg(r.OSA_Compliance) as 'Percent_Diff';",
                    "measures": [
                        [
                            "Percent",
                            "Diff"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Date_of_audit_Year_Date_of_audit_Month_KPI_Type_62": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*",
                            "count_score",
                            {
                                "display": "OSA PS Score"
                            }
                        ]
                    ],
                    "groups": [
                        [
                            "Date_of_audit_Year",
                            "Date_of_audit_Month"
                        ],
                        "KPI_Type"
                    ],
                    "filters": [
                        [
                            "X4P_5P_6P",
                            "{{ selection(X4P_5P_6P_63) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_21) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_Year_Date_Month_14) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_Year_Date_Month_14) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Region_22) }}"
                        ],
                        [
                            "Province",
                            "{{ selection(Province_23) }}"
                        ],
                        [
                            "City",
                            "{{ selection(City_24) }}"
                        ],
                        [
                            "Sales_area",
                            "{{ selection(Sales_area_25) }}"
                        ],
                        [
                            "Trade_Format",
                            "{{ selection(Trade_Format_27) }}"
                        ],
                        [
                            "Channel",
                            "{{ selection(Channel_28) }}"
                        ],
                        [
                            "Subchannel",
                            "{{ selection(Subchannel_29) }}"
                        ],
                        [
                            "Banner",
                            "{{ selection(Banner_33) }}"
                        ],
                        [
                            "Customer_type",
                            "{{ selection(Customer_type_30) }}"
                        ],
                        [
                            "Customer_subtype",
                            "{{ selection(Customer_subtype_31) }}"
                        ],
                        [
                            "Customer",
                            "{{ selection(Customer_32) }}"
                        ],
                        [
                            "Cluster",
                            "{{ selection(Cluster_20) }}"
                        ],
                        [
                            "Cluster",
                            "{{ selection(Cluster_1) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_2) }}"
                        ],
                        [
                            "Product_category",
                            "{{ selection(Product_category_5) }}"
                        ],
                        [
                            "Channel",
                            "{{ selection(Channel_6) }}"
                        ],
                        [
                            "Customer",
                            "{{ selection(Customer_7) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Country_Region_3) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_Region_3) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Banner",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Country_Region_14) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_Region_14) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Product_category",
                            "{{ selection(Product_category_54) }}"
                        ],
                        [
                            "Product_division",
                            "{{ selection(Product_division_53) }}"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "time"
                }
            },
            "OSA_Compliance_57": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance"
                        ]
                    ],
                    "filters": [
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "month",
                                        -1
                                    ],
                                    [
                                        "month",
                                        -1
                                    ]
                                ]
                            ],
                            ">=<="
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Cluster_44": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Cluster"
                    ]
                },
                "selectMode": "single",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Customer_subtype_31": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Customer_subtype"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Customer_7": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "limit": 10,
                    "groups": [
                        "Customer"
                    ],
                    "order": [
                        [
                            -1,
                            {
                                "ascending": false
                            }
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Product_market_67": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_market"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Region_22": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Region"
                    ]
                },
                "selectMode": "multi",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Date_of_audit_Year_Date_of_audit_Month_4": {
                "isFacet": false,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        [
                            "Date_of_audit_Year",
                            "Date_of_audit_Month"
                        ]
                    ],
                    "filters": [
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "month",
                                        -12
                                    ],
                                    [
                                        "month",
                                        0
                                    ]
                                ]
                            ],
                            ">=<="
                        ],
                        [
                            "X4P_5P_6P",
                            "{{ selection(X4P_5P_6P_63) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_21) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Region_22) }}"
                        ],
                        [
                            "Province",
                            "{{ selection(Province_23) }}"
                        ],
                        [
                            "City",
                            "{{ selection(City_24) }}"
                        ],
                        [
                            "Sales_area",
                            "{{ selection(Sales_area_25) }}"
                        ],
                        [
                            "Trade_Format",
                            "{{ selection(Trade_Format_27) }}"
                        ],
                        [
                            "Channel",
                            "{{ selection(Channel_28) }}"
                        ],
                        [
                            "Subchannel",
                            "{{ selection(Subchannel_29) }}"
                        ],
                        [
                            "Banner",
                            "{{ selection(Banner_33) }}"
                        ],
                        [
                            "Customer_type",
                            "{{ selection(Customer_type_30) }}"
                        ],
                        [
                            "Customer_subtype",
                            "{{ selection(Customer_subtype_31) }}"
                        ],
                        [
                            "Customer",
                            "{{ selection(Customer_32) }}"
                        ],
                        [
                            "Cluster",
                            "{{ selection(Cluster_20) }}"
                        ],
                        [
                            "Cluster",
                            "{{ selection(Cluster_1) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_2) }}"
                        ],
                        [
                            "Product_category",
                            "{{ selection(Product_category_5) }}"
                        ],
                        [
                            "Channel",
                            "{{ selection(Channel_6) }}"
                        ],
                        [
                            "Customer",
                            "{{ selection(Customer_7) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Country_Region_3) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_Region_3) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Country_Region_14) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_Region_14) }}"
                        ],
                        [
                            "Product_category",
                            "{{ selection(Product_category_54) }}"
                        ],
                        [
                            "Product_division",
                            "{{ selection(Product_division_53) }}"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "time"
                }
            },
            "Country_KPI_Type_9": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": " q = load \"DPS_PRODUCT_AGGREGATED\"; q = filter q by 'Country' in {{ selection(Country_2) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_64) }}; q = filter q by 'Region' in {{ selection(Region_72) }}; q = filter q by 'Channel' in {{ selection(Channel_6) }}; q = filter q by 'Product_category' in {{ selection(Product_category_5) }}; q = filter q by 'Customer' in {{ selection(Customer_7) }};q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }};q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }};  q = filter q by 'Region' in {{ selection(Region_22) }}; q = filter q by 'Province' in {{ selection(Province_23) }};  q = filter q by 'City' in {{ selection(City_24) }};  q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};  q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};  q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};  q = filter q by 'Channel' in {{ selection(Channel_28) }};  q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};  q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }};  q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};  q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};  q = filter q by 'Customer' in {{ selection(Customer_32) }};  q = filter q by 'Banner' in {{ selection(Banner_33) }};  q = filter q by 'Product_division' in {{ selection(Product_division_53) }};  q = filter q by 'Product_category' in {{ selection(Product_category_54) }}; OSA = group q by 'Country'; OOS = group q by 'Country'; Void = group q by 'Country'; OSA = foreach OSA generate 'Country' as 'Country', sum('Total_OSA')/sum('Total_Audited') as 'product_score', \" OSA\" as 'KPI Type'; OOS = foreach OOS generate 'Country' as 'Country', sum('Total_OOS')/sum('Total_Audited') as 'product_score', \"OOS\" as 'KPI Type'; Void = foreach Void generate 'Country' as 'Country', sum('Total_Void')/sum('Total_Audited') as 'product_score', \"Void\" as 'KPI Type'; Product = group OSA by 'Country', OOS by 'Country', Void by 'Country';Product = union OSA, OOS, Void; Product = order Product by 'Country' asc;",
                    "measures": [
                        [
                            "product",
                            "score",
                            "product_score",
                            {
                                "display": "KPI Score",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Country",
                        "KPI Type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "options": {
                        "normalize": true
                    },
                    "visualizationType": "stackhbar"
                }
            },
            "Product_division_34": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_division"
                    ]
                },
                "selectMode": "single",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "SKU_70": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "SKU"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Date_of_audit_Year_Date_of_audit_Month_KPI_Type_55": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "total",
                            "count",
                            "total_count",
                            {
                                "display": "OSA Score (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "pigql": "q = load \"DPS_PRODUCT_RAW\";\nq = group q by ('Date_of_audit_Year', 'Date_of_audit_Month', 'KPI_Type');\nq = foreach q generate 'Date_of_audit_Year' + \"~~~\" + 'Date_of_audit_Month' as 'Date_of_audit_Year~~~Date_of_audit_Month', 'KPI_Type' as 'KPI_Type', count()/4158 as 'total_count';",
                    "groups": [
                        [
                            "Date_of_audit_Year",
                            "Date_of_audit_Month"
                        ],
                        "KPI_Type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "time"
                }
            },
            "Customer_52": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Customer"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Country_2": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Country"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Customer_KPI_Type_12": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": " q = load \"DPS_PRODUCT_AGGREGATED\";q = filter q by 'Country' in {{ selection(Country_2) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_64) }}; q = filter q by 'Region' in {{ selection(Region_72) }}; q = filter q by 'Channel' in {{ selection(Channel_6) }}; q = filter q by 'Product_category' in {{ selection(Product_category_5) }}; q = filter q by 'Customer' in {{ selection(Customer_7) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }}; q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }};  q = filter q by 'Region' in {{ selection(Region_22) }}; q = filter q by 'Province' in {{ selection(Province_23) }};  q = filter q by 'City' in {{ selection(City_24) }};  q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};  q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};  q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};  q = filter q by 'Channel' in {{ selection(Channel_28) }};  q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};  q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }};  q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};  q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};  q = filter q by 'Customer' in {{ selection(Customer_32) }};  q = filter q by 'Banner' in {{ selection(Banner_33) }};  q = filter q by 'Product_division' in {{ selection(Product_division_53) }};  q = filter q by 'Product_category' in {{ selection(Product_category_54) }}; OSA = group q by 'Customer'; OOS = group q by 'Customer'; Void = group q by 'Customer'; OSA = foreach OSA generate 'Customer' as 'Customer', sum('Total_OSA')/sum('Total_Audited') as 'product_score', \" OSA\" as 'KPI Type'; OOS = foreach OOS generate 'Customer' as 'Customer', sum('Total_OOS')/sum('Total_Audited') as 'product_score', \"OOS\" as 'KPI Type'; Void = foreach Void generate 'Customer' as 'Customer', sum('Total_Void')/sum('Total_Audited') as 'product_score', \"Void\" as 'KPI Type'; Product = group OSA by all, OOS by all, Void by all; Product = union OSA, OOS, Void; ",
                    "measures": [
                        [
                            "product",
                            "score",
                            "product_score",
                            {
                                "display": "KPI Score",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Customer",
                        "KPI Type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "options": {
                        "normalize": true
                    },
                    "visualizationType": "stackhbar"
                }
            },
            "Total_OSA_60": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": "q = load \"DPS_PRODUCT_RAW\"; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }}; q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};q = filter q by 'City' in {{ selection(City_24) }};q = filter q by 'Region' in {{ selection(Region_22) }};q = filter q by 'Province' in {{ selection(Province_23) }};q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};q = filter q by 'Customer' in {{ selection(Customer_32) }};q = filter q by 'Banner' in {{ selection(Banner_33) }};q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};q = filter q by 'Cluster' in {{ selection(Cluster_20) }};q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};q = filter q by 'Channel' in {{ selection(Channel_28) }};q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};q = filter q by 'Product_division' in {{ selection(Product_division_53) }};q = filter q by 'Product_category' in {{ selection(Product_category_54) }};q = filter q by 'Country' in {{ selection(Country_21) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"1 month ago\"..\"1 month ago\"]; q = group q by ('Date_of_audit_Year', 'Date_of_audit_Month'); q = foreach q generate 'Date_of_audit_Year' as 'Date_of_audit_Year', 'Date_of_audit_Month' as 'Date_of_audit_Month', 'Date_of_audit_Year' + \"~~~\" + 'Date_of_audit_Month' as 'Date_of_audit_Year~~~Date_of_audit_Month', (sum('OSA')/count()) as 'ave_Score'; q = limit q 2000;",
                    "measures": [
                        [
                            "ave",
                            "Score"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Country_KPI_Type_71": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*",
                            "null",
                            {
                                "display": "KPI Score"
                            }
                        ]
                    ],
                    "groups": [
                        "Country",
                        "KPI_Type"
                    ],
                    "filters": [
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "year",
                                        -1
                                    ],
                                    [
                                        "year",
                                        1
                                    ]
                                ]
                            ]
                        ],
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "year",
                                        -1
                                    ],
                                    [
                                        "year",
                                        1
                                    ]
                                ]
                            ]
                        ],
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "year",
                                        -1
                                    ],
                                    [
                                        "year",
                                        1
                                    ]
                                ]
                            ]
                        ]
                    ],
                    "order": [
                        [
                            -1,
                            {
                                "ascending": false
                            }
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "pie"
                }
            },
            "Subchannel_49": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Subchannel"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Customer_type_30": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Customer_type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Trade_Format_47": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Trade_Format"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Country_45": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Country"
                    ]
                },
                "selectMode": "single",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Date_of_audit_Year_Date_of_audit_Month_13": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA",
                            "OSAScore",
                            {
                                "display": "OSA Score (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        [
                            "Date_of_audit_Year",
                            "Date_of_audit_Month"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "time"
                }
            },
            "Product_category_54": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_category"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Channel_6": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Channel"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Product_market_36": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_market"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Channel_KPI_Type_11": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": " q = load \"DPS_PRODUCT_AGGREGATED\";q = filter q by 'Country' in {{ selection(Country_2) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_64) }}; q = filter q by 'Region' in {{ selection(Region_72) }}; q = filter q by 'Channel' in {{ selection(Channel_6) }}; q = filter q by 'Product_category' in {{ selection(Product_category_5) }}; q = filter q by 'Customer' in {{ selection(Customer_7) }};q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }}; q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }};  q = filter q by 'Region' in {{ selection(Region_22) }}; q = filter q by 'Province' in {{ selection(Province_23) }};  q = filter q by 'City' in {{ selection(City_24) }};  q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};  q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};  q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};  q = filter q by 'Channel' in {{ selection(Channel_28) }};  q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};  q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }};  q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};  q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};  q = filter q by 'Customer' in {{ selection(Customer_32) }};  q = filter q by 'Banner' in {{ selection(Banner_33) }};  q = filter q by 'Product_division' in {{ selection(Product_division_53) }};  q = filter q by 'Product_category' in {{ selection(Product_category_54) }};  OSA = group q by 'Channel'; OOS = group q by 'Channel'; Void = group q by 'Channel'; OSA = foreach OSA generate 'Channel' as 'Channel', sum('Total_OSA')/sum('Total_Audited') as 'product_score', \" OSA\" as 'KPI Type'; OOS = foreach OOS generate 'Channel' as 'Channel', sum('Total_OOS')/sum('Total_Audited') as 'product_score', \"OOS\" as 'KPI Type'; Void = foreach Void generate 'Channel' as 'Channel', sum('Total_Void')/sum('Total_Audited') as 'product_score', \"Void\" as 'KPI Type'; Product = group OSA by 'Channel', OOS by 'Channel', Void by 'Channel'; Product = union OSA, OOS, Void;",
                    "measures": [
                        [
                            "product",
                            "score",
                            "product_score",
                            {
                                "display": "KPI Score",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Channel",
                        "KPI Type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "options": {
                        "normalize": true
                    },
                    "visualizationType": "stackhbar"
                }
            },
            "Country_40": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "Country"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Product_sector_37": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_sector"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Region_KPI_Type_73": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": " q = load \"DPS_PRODUCT_AGGREGATED\";q = filter q by 'Country' in {{ selection(Country_2) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_64) }}; q = filter q by 'Region' in {{ selection(Region_72) }}; q = filter q by 'Channel' in {{ selection(Channel_6) }}; q = filter q by 'Product_category' in {{ selection(Product_category_5) }}; q = filter q by 'Customer' in {{ selection(Customer_7) }};q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }}; q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }};  q = filter q by 'Region' in {{ selection(Region_22) }}; q = filter q by 'Province' in {{ selection(Province_23) }};  q = filter q by 'City' in {{ selection(City_24) }};  q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};  q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};  q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};  q = filter q by 'Channel' in {{ selection(Channel_28) }};  q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};  q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }};  q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};  q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};  q = filter q by 'Customer' in {{ selection(Customer_32) }};  q = filter q by 'Banner' in {{ selection(Banner_33) }};  q = filter q by 'Product_division' in {{ selection(Product_division_53) }};  q = filter q by 'Product_category' in {{ selection(Product_category_54) }};  OSA = group q by 'Region'; OOS = group q by 'Region'; Void = group q by 'Region'; OSA = foreach OSA generate 'Region' as 'Region', sum('Total_OSA')/sum('Total_Audited') as 'product_score', \" OSA\" as 'KPI Type'; OOS = foreach OOS generate 'Region' as 'Region', sum('Total_OOS')/sum('Total_Audited') as 'product_score', \"OOS\" as 'KPI Type'; Void = foreach Void generate 'Region' as 'Region', sum('Total_Void')/sum('Total_Audited') as 'product_score', \"Void\" as 'KPI Type'; Product = group OSA by 'Region', OOS by 'Region', Void by 'Region'; Product = union OSA, OOS, Void; Product = order Product by 'product_score' desc;",
                    "measures": [
                        [
                            "product",
                            "score",
                            "product_score",
                            {
                                "display": "KPI Score",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Region",
                        "KPI Type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "options": {
                        "normalize": true
                    },
                    "visualizationType": "stackvbar"
                }
            },
            "Total_OSA_61": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": "q = load \"DPS_PRODUCT_RAW\"; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }}; q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};q = filter q by 'City' in {{ selection(City_24) }};q = filter q by 'Region' in {{ selection(Region_22) }};q = filter q by 'Province' in {{ selection(Province_23) }};q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};q = filter q by 'Customer' in {{ selection(Customer_32) }};q = filter q by 'Banner' in {{ selection(Banner_33) }};q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};q = filter q by 'Cluster' in {{ selection(Cluster_20) }};q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};q = filter q by 'Channel' in {{ selection(Channel_28) }};q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};q = filter q by 'Product_division' in {{ selection(Product_division_53) }};q = filter q by 'Product_category' in {{ selection(Product_category_54) }};q = filter q by 'Country' in {{ selection(Country_21) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 month ago\"..\"1 month ahead\"];r = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 month ago\"..\"2 month ago\"];w = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"1 month ago\"..\"1 month ago\"];c = cogroup q by all, r by all, w by all; c = foreach c generate (sum(w.OSA)/count(w)) - (sum(r.OSA)/count(r)) as 'Percent_Diff';",
                    "measures": [
                        [
                            "Percent",
                            "Diff"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Date_Year_Date_Month_15": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        [
                            "Date_of_audit_Year",
                            "Date_of_audit_Month"
                        ]
                    ]
                },
                "selectMode": "single",
                "start": [
                    [
                        [
                            "year",
                            -1
                        ],
                        [
                            "year",
                            1
                        ]
                    ]
                ],
                "type": "aggregate",
                "useGlobal": false,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "compare_75": {
                "isFacet": true,
                "isGlobal": false,
                "selectMode": "single",
                "type": "multi",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "comparisontable"
                },
                "columns": [
                    {
                        "header": "Availability",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -2
                                            ],
                                            [
                                                "month",
                                                -2
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ],
                                [
                                    "COTC",
                                    [
                                        [
                                            1
                                        ]
                                    ],
                                    "=="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "Difference",
                        "query": {
                            "pigql": "q = load \"DPS_PRODUCT_RAW\"; q = filter q by 'COTC' == 1; q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }}; q = filter q by 'Region' in {{ selection(Region_22) }};q = filter q by 'Province' in {{ selection(Province_23) }}; q = filter q by 'City' in {{ selection(City_24) }}; q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }}; q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }}; q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }}; q = filter q by 'Channel' in {{ selection(Channel_28) }}; q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }}; q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }}; q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }}; q = filter q by 'Customer' in {{ selection(Customer_32) }}; q = filter q by 'Banner' in {{ selection(Banner_33) }}; q = filter q by 'Product_division' in {{ selection(Product_division_53) }}; q = filter q by 'Product_category' in {{ selection(Product_category_54) }}; q = filter q by 'SKU' in {{ selection(SKU_70) }}; q = filter q by 'Product_sector' in {{ selection(Product_sector_68) }}; q = filter q by 'Product_brand' in {{ selection(Product_brand_69) }}; q = filter q by 'Product_market' in {{ selection(Product_market_67) }}; cur = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 months ago\"..\"2 months ago\"]; last = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"3 months ago\"..\"3 months ago\"]; diff = group cur by 'SKU', last by 'SKU'; diff = foreach diff generate last.SKU as 'SKU',avg(last['OSA']) as 'Last Month', avg(cur['OSA']) as 'Current Month', avg(cur['OSA'])-avg(last['OSA']) as 'Percent_Diff';",
                            "measures": [
                                [
                                    "Percent",
                                    "Diff"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "Difference",
                        "query": {
                            "pigql": "q = load \"DPS_PRODUCT_RAW\"; q = filter q by 'COTC' == 1;q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }}; q = filter q by 'Region' in {{ selection(Region_22) }};q = filter q by 'Province' in {{ selection(Province_23) }}; q = filter q by 'City' in {{ selection(City_24) }}; q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }}; q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }}; q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }}; q = filter q by 'Channel' in {{ selection(Channel_28) }}; q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }}; q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }}; q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }}; q = filter q by 'Customer' in {{ selection(Customer_32) }}; q = filter q by 'Banner' in {{ selection(Banner_33) }}; q = filter q by 'Product_division' in {{ selection(Product_division_53) }}; q = filter q by 'Product_category' in {{ selection(Product_category_54) }}; q = filter q by 'SKU' in {{ selection(SKU_70) }}; q = filter q by 'Product_sector' in {{ selection(Product_sector_68) }}; q = filter q by 'Product_brand' in {{ selection(Product_brand_69) }}; q = filter q by 'Product_market' in {{ selection(Product_market_67) }}; cur = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 months ago\"..\"2 months ago\"]; last = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"3 months ago\"..\"3 months ago\"]; diff = group cur by 'SKU', last by 'SKU'; diff = foreach diff generate last.SKU as 'SKU',avg(last['OSA']) as 'Last Month', avg(cur['OSA']) as 'Current Month', avg(cur['OSA'])-avg(last['OSA']) as 'Percent_Diff';",
                            "measures": [
                                [
                                    "Percent",
                                    "Diff"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ]
                        },
                        "showBars": true
                    }
                ],
                "globalQuery": {}
            },
            "Country_Region_3": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Country",
                        "Region"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "heatmap"
                }
            },
            "Date_Year_Date_Month_14": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        [
                            "Date_of_audit_Year",
                            "Date_of_audit_Month"
                        ]
                    ]
                },
                "selectMode": "single",
                "start": [
                    [
                        [
                            "month",
                            -6
                        ],
                        [
                            "month",
                            -6
                        ]
                    ]
                ],
                "type": "aggregate",
                "useGlobal": false,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Total_OSA_59": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": "q = load \"DPS_PRODUCT_RAW\"; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }}; q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};q = filter q by 'City' in {{ selection(City_24) }};q = filter q by 'Region' in {{ selection(Region_22) }};q = filter q by 'Province' in {{ selection(Province_23) }};q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};q = filter q by 'Customer' in {{ selection(Customer_32) }};q = filter q by 'Banner' in {{ selection(Banner_33) }};q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};q = filter q by 'Cluster' in {{ selection(Cluster_20) }};q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};q = filter q by 'Channel' in {{ selection(Channel_28) }};q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};q = filter q by 'Product_division' in {{ selection(Product_division_53) }};q = filter q by 'Product_category' in {{ selection(Product_category_54) }};q = filter q by 'Country' in {{ selection(Country_21) }}; q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 month ago\"..\"2 month ago\"]; q = group q by ('Date_of_audit_Year', 'Date_of_audit_Month'); q = foreach q generate 'Date_of_audit_Year' as 'Date_of_audit_Year', 'Date_of_audit_Month' as 'Date_of_audit_Month', 'Date_of_audit_Year' + \"~~~\" + 'Date_of_audit_Month' as 'Date_of_audit_Year~~~Date_of_audit_Month', (sum('OSA')/count()) as 'ave_Score'; q = limit q 2000;",
                    "measures": [
                        [
                            "ave",
                            "Score"
                        ]
                    ],
                    "filters": [
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "month",
                                        -2
                                    ],
                                    [
                                        "month",
                                        -2
                                    ]
                                ]
                            ],
                            ">=<="
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Country_Region_14": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA",
                            "OSAScore",
                            {
                                "display": "OSA Score (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Country",
                        "Region"
                    ],
                    "filters": [
                        [
                            "X4P_5P_6P",
                            "{{ selection(X4P_5P_6P_63) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_21) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_Year_Date_Month_14) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_Year_Date_Month_14) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Region_22) }}"
                        ],
                        [
                            "Province",
                            "{{ selection(Province_23) }}"
                        ],
                        [
                            "City",
                            "{{ selection(City_24) }}"
                        ],
                        [
                            "Sales_area",
                            "{{ selection(Sales_area_25) }}"
                        ],
                        [
                            "Trade_Format",
                            "{{ selection(Trade_Format_27) }}"
                        ],
                        [
                            "Channel",
                            "{{ selection(Channel_28) }}"
                        ],
                        [
                            "Subchannel",
                            "{{ selection(Subchannel_29) }}"
                        ],
                        [
                            "Banner",
                            "{{ selection(Banner_33) }}"
                        ],
                        [
                            "Customer_type",
                            "{{ selection(Customer_type_30) }}"
                        ],
                        [
                            "Customer_subtype",
                            "{{ selection(Customer_subtype_31) }}"
                        ],
                        [
                            "Customer",
                            "{{ selection(Customer_32) }}"
                        ],
                        [
                            "Cluster",
                            "{{ selection(Cluster_20) }}"
                        ],
                        [
                            "Cluster",
                            "{{ selection(Cluster_1) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_2) }}"
                        ],
                        [
                            "Product_category",
                            "{{ selection(Product_category_5) }}"
                        ],
                        [
                            "Channel",
                            "{{ selection(Channel_6) }}"
                        ],
                        [
                            "Customer",
                            "{{ selection(Customer_7) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Country_Region_3) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_Region_3) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Banner",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                        ],
                        [
                            "Region",
                            "{{ selection(Country_Region_14) }}"
                        ],
                        [
                            "Country",
                            "{{ selection(Country_Region_14) }}"
                        ],
                        [
                            "Date_of_audit_Month",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Date_of_audit_Year",
                            "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                        ],
                        [
                            "Product_category",
                            "{{ selection(Product_category_54) }}"
                        ],
                        [
                            "Product_division",
                            "{{ selection(Product_division_53) }}"
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "heatmap"
                }
            },
            "Channel_48": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Channel"
                    ]
                },
                "selectMode": "single",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "compare_74": {
                "isFacet": true,
                "isGlobal": false,
                "selectMode": "single",
                "type": "multi",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "comparisontable"
                },
                "columns": [
                    {
                        "header": "Availability",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "OSA"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -2
                                            ],
                                            [
                                                "month",
                                                -2
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "Difference",
                        "query": {
                            "pigql": "q = load \"DPS_PRODUCT_RAW\";q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }}; q = filter q by 'Region' in {{ selection(Region_22) }};q = filter q by 'Province' in {{ selection(Province_23) }}; q = filter q by 'City' in {{ selection(City_24) }}; q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }}; q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }}; q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }}; q = filter q by 'Channel' in {{ selection(Channel_28) }}; q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }}; q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }}; q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }}; q = filter q by 'Customer' in {{ selection(Customer_32) }}; q = filter q by 'Banner' in {{ selection(Banner_33) }}; q = filter q by 'Product_division' in {{ selection(Product_division_53) }}; q = filter q by 'Product_category' in {{ selection(Product_category_54) }}; q = filter q by 'SKU' in {{ selection(SKU_70) }}; q = filter q by 'Product_sector' in {{ selection(Product_sector_68) }}; q = filter q by 'Product_brand' in {{ selection(Product_brand_69) }}; q = filter q by 'Product_market' in {{ selection(Product_market_67) }}; cur = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 months ago\"..\"2 months ago\"]; last = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"3 months ago\"..\"3 months ago\"]; diff = group cur by 'SKU', last by 'SKU'; diff = foreach diff generate last.SKU as 'SKU',avg(last['OSA']) as 'Last Month', avg(cur['OSA']) as 'Current Month', avg(cur['OSA'])-avg(last['OSA']) as 'Percent_Diff';",
                            "measures": [
                                [
                                    "Percent",
                                    "Diff"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "Difference",
                        "query": {
                            "pigql": "q = load \"DPS_PRODUCT_RAW\";  q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }}; q = filter q by 'Region' in {{ selection(Region_22) }};q = filter q by 'Province' in {{ selection(Province_23) }}; q = filter q by 'City' in {{ selection(City_24) }}; q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }}; q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }}; q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }}; q = filter q by 'Channel' in {{ selection(Channel_28) }}; q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }}; q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }}; q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }}; q = filter q by 'Customer' in {{ selection(Customer_32) }}; q = filter q by 'Banner' in {{ selection(Banner_33) }}; q = filter q by 'Product_division' in {{ selection(Product_division_53) }}; q = filter q by 'Product_category' in {{ selection(Product_category_54) }}; q = filter q by 'SKU' in {{ selection(SKU_70) }}; q = filter q by 'Product_sector' in {{ selection(Product_sector_68) }}; q = filter q by 'Product_brand' in {{ selection(Product_brand_69) }}; q = filter q by 'Product_market' in {{ selection(Product_market_67) }}; cur = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"2 months ago\"..\"2 months ago\"]; last = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in [\"3 months ago\"..\"3 months ago\"]; diff = group cur by 'SKU', last by 'SKU'; diff = foreach diff generate last.SKU as 'SKU',avg(last['OSA']) as 'Last Month', avg(cur['OSA']) as 'Current Month', avg(cur['OSA'])-avg(last['OSA']) as 'Percent_Diff';",
                            "measures": [
                                [
                                    "Percent",
                                    "Diff"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ]
                        },
                        "showBars": true
                    }
                ],
                "globalQuery": {}
            },
            "Product_brand_38": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_brand"
                    ]
                },
                "selectMode": "single",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Date_of_audit_Year_Date_of_audit_Month_43": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA",
                            "OSAScore",
                            {
                                "display": "OSA Score (%)",
                                "format": "percentage"
                            }
                        ],
                        [
                            "avg",
                            "OOS",
                            "OOSScore",
                            {
                                "display": "OOS Score (%)",
                                "format": "percentage"
                            }
                        ],
                        [
                            "avg",
                            "Void",
                            "VOIDScore",
                            {
                                "display": "VOID Score (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        [
                            "Date_of_audit_Year",
                            "Date_of_audit_Month"
                        ]
                    ],
                    "filters": [
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "year",
                                        -1
                                    ],
                                    [
                                        "year",
                                        1
                                    ]
                                ]
                            ]
                        ],
                        [
                            "Date_of_audit",
                            [
                                [
                                    [
                                        "year",
                                        -1
                                    ],
                                    [
                                        "year",
                                        1
                                    ]
                                ]
                            ]
                        ]
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "time"
                }
            },
            "Customer_subtype_51": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Customer_subtype"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Cluster_20": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Cluster"
                    ]
                },
                "selectMode": "multi",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "compare_17": {
                "isFacet": true,
                "isGlobal": false,
                "selectMode": "single",
                "type": "multi",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "comparisontable"
                },
                "columns": [
                    {
                        "header": "Total OSA",
                        "query": {
                            "measures": [
                                [
                                    "sum",
                                    "OSA"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ],
                            "filters": [
                                [
                                    "X4P_5P_6P",
                                    "{{ selection(X4P_5P_6P_63) }}"
                                ],
                                [
                                    "Country",
                                    "{{ selection(Country_21) }}"
                                ],
                                [
                                    "Date_of_audit_Month",
                                    "{{ selection(Date_Year_Date_Month_14) }}"
                                ],
                                [
                                    "Date_of_audit_Year",
                                    "{{ selection(Date_Year_Date_Month_14) }}"
                                ],
                                [
                                    "Region",
                                    "{{ selection(Region_22) }}"
                                ],
                                [
                                    "Province",
                                    "{{ selection(Province_23) }}"
                                ],
                                [
                                    "City",
                                    "{{ selection(City_24) }}"
                                ],
                                [
                                    "Sales_area",
                                    "{{ selection(Sales_area_25) }}"
                                ],
                                [
                                    "Trade_Format",
                                    "{{ selection(Trade_Format_27) }}"
                                ],
                                [
                                    "Channel",
                                    "{{ selection(Channel_28) }}"
                                ],
                                [
                                    "Subchannel",
                                    "{{ selection(Subchannel_29) }}"
                                ],
                                [
                                    "Banner",
                                    "{{ selection(Banner_33) }}"
                                ],
                                [
                                    "Customer_type",
                                    "{{ selection(Customer_type_30) }}"
                                ],
                                [
                                    "Customer_subtype",
                                    "{{ selection(Customer_subtype_31) }}"
                                ],
                                [
                                    "Customer",
                                    "{{ selection(Customer_32) }}"
                                ],
                                [
                                    "Cluster",
                                    "{{ selection(Cluster_20) }}"
                                ],
                                [
                                    "Cluster",
                                    "{{ selection(Cluster_1) }}"
                                ],
                                [
                                    "Country",
                                    "{{ selection(Country_2) }}"
                                ],
                                [
                                    "Product_category",
                                    "{{ selection(Product_category_5) }}"
                                ],
                                [
                                    "Channel",
                                    "{{ selection(Channel_6) }}"
                                ],
                                [
                                    "Customer",
                                    "{{ selection(Customer_7) }}"
                                ],
                                [
                                    "Region",
                                    "{{ selection(Country_Region_3) }}"
                                ],
                                [
                                    "Country",
                                    "{{ selection(Country_Region_3) }}"
                                ],
                                [
                                    "Date_of_audit_Month",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                                ],
                                [
                                    "Date_of_audit_Year",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                                ],
                                [
                                    "Date_of_audit_Month",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                                ],
                                [
                                    "Date_of_audit_Year",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                                ],
                                [
                                    "Banner",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                                ],
                                [
                                    "Region",
                                    "{{ selection(Country_Region_14) }}"
                                ],
                                [
                                    "Country",
                                    "{{ selection(Country_Region_14) }}"
                                ],
                                [
                                    "Date_of_audit_Month",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                                ],
                                [
                                    "Date_of_audit_Year",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                                ],
                                [
                                    "Product_category",
                                    "{{ selection(Product_category_54) }}"
                                ],
                                [
                                    "Product_division",
                                    "{{ selection(Product_division_53) }}"
                                ]
                            ]
                        }
                    },
                    {
                        "header": "Total Outlet Audited",
                        "query": {
                            "measures": [
                                [
                                    "count",
                                    "*"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ],
                            "filters": [
                                [
                                    "X4P_5P_6P",
                                    "{{ selection(X4P_5P_6P_63) }}"
                                ],
                                [
                                    "Country",
                                    "{{ selection(Country_21) }}"
                                ],
                                [
                                    "Date_of_audit_Month",
                                    "{{ selection(Date_Year_Date_Month_14) }}"
                                ],
                                [
                                    "Date_of_audit_Year",
                                    "{{ selection(Date_Year_Date_Month_14) }}"
                                ],
                                [
                                    "Region",
                                    "{{ selection(Region_22) }}"
                                ],
                                [
                                    "Province",
                                    "{{ selection(Province_23) }}"
                                ],
                                [
                                    "City",
                                    "{{ selection(City_24) }}"
                                ],
                                [
                                    "Sales_area",
                                    "{{ selection(Sales_area_25) }}"
                                ],
                                [
                                    "Trade_Format",
                                    "{{ selection(Trade_Format_27) }}"
                                ],
                                [
                                    "Channel",
                                    "{{ selection(Channel_28) }}"
                                ],
                                [
                                    "Subchannel",
                                    "{{ selection(Subchannel_29) }}"
                                ],
                                [
                                    "Banner",
                                    "{{ selection(Banner_33) }}"
                                ],
                                [
                                    "Customer_type",
                                    "{{ selection(Customer_type_30) }}"
                                ],
                                [
                                    "Customer_subtype",
                                    "{{ selection(Customer_subtype_31) }}"
                                ],
                                [
                                    "Customer",
                                    "{{ selection(Customer_32) }}"
                                ],
                                [
                                    "Cluster",
                                    "{{ selection(Cluster_20) }}"
                                ],
                                [
                                    "Cluster",
                                    "{{ selection(Cluster_1) }}"
                                ],
                                [
                                    "Country",
                                    "{{ selection(Country_2) }}"
                                ],
                                [
                                    "Product_category",
                                    "{{ selection(Product_category_5) }}"
                                ],
                                [
                                    "Channel",
                                    "{{ selection(Channel_6) }}"
                                ],
                                [
                                    "Customer",
                                    "{{ selection(Customer_7) }}"
                                ],
                                [
                                    "Region",
                                    "{{ selection(Country_Region_3) }}"
                                ],
                                [
                                    "Country",
                                    "{{ selection(Country_Region_3) }}"
                                ],
                                [
                                    "Date_of_audit_Month",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                                ],
                                [
                                    "Date_of_audit_Year",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                                ],
                                [
                                    "Date_of_audit_Month",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                                ],
                                [
                                    "Date_of_audit_Year",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                                ],
                                [
                                    "Banner",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_4) }}"
                                ],
                                [
                                    "Region",
                                    "{{ selection(Country_Region_14) }}"
                                ],
                                [
                                    "Country",
                                    "{{ selection(Country_Region_14) }}"
                                ],
                                [
                                    "Date_of_audit_Month",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                                ],
                                [
                                    "Date_of_audit_Year",
                                    "{{ selection(Date_of_audit_Year_Date_of_audit_Month_43) }}"
                                ],
                                [
                                    "Product_category",
                                    "{{ selection(Product_category_54) }}"
                                ],
                                [
                                    "Product_division",
                                    "{{ selection(Product_division_53) }}"
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Availability of Product",
                        "query": {
                            "measures": [
                                [
                                    "count",
                                    "*"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ],
                            "formula": "A/B"
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Availability of Product",
                        "query": {
                            "measures": [
                                [
                                    "count",
                                    "*"
                                ]
                            ],
                            "groups": [
                                "SKU"
                            ],
                            "formula": "A/B"
                        },
                        "showBars": true
                    }
                ],
                "globalQuery": {}
            },
            "compare_18": {
                "isFacet": true,
                "isGlobal": false,
                "selectMode": "single",
                "type": "multi",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "comparisontable"
                },
                "columns": [
                    {
                        "format": "percentage",
                        "header": "Last Month COTC Compliance",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "COTC_Compliance"
                                ]
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -2
                                            ],
                                            [
                                                "month",
                                                -2
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "This Month COTC Compliance",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "COTC_Compliance"
                                ]
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -1
                                            ],
                                            [
                                                "month",
                                                -1
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Difference",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "COTC_Compliance"
                                ]
                            ],
                            "formula": "B-A",
                            "filters": []
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Difference",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "COTC_Compliance"
                                ]
                            ],
                            "formula": "B-A",
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                0
                                            ],
                                            [
                                                "month",
                                                0
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        },
                        "showBars": true
                    }
                ],
                "globalQuery": {}
            },
            "compare_19": {
                "isFacet": true,
                "isGlobal": false,
                "selectMode": "single",
                "type": "multi",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "comparisontable"
                },
                "columns": [
                    {
                        "format": "percentage",
                        "header": "Last Month COTC Score",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "COTC"
                                ]
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -2
                                            ],
                                            [
                                                "month",
                                                -2
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "This Month COTC Score",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "COTC"
                                ]
                            ],
                            "filters": [
                                [
                                    "Date_of_audit",
                                    [
                                        [
                                            [
                                                "month",
                                                -1
                                            ],
                                            [
                                                "month",
                                                -1
                                            ]
                                        ]
                                    ],
                                    ">=<="
                                ]
                            ]
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Difference",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "COTC_Compliance"
                                ]
                            ],
                            "formula": "B-A",
                            "filters": []
                        }
                    },
                    {
                        "format": "percentage",
                        "header": "% Difference",
                        "query": {
                            "measures": [
                                [
                                    "avg",
                                    "COTC_Compliance"
                                ]
                            ],
                            "formula": "B-A",
                            "filters": []
                        },
                        "showBars": true
                    }
                ],
                "globalQuery": {}
            },
            "Product_sector_68": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_sector"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Sales_area_25": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Sales_area"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Region_46": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Region"
                    ]
                },
                "selectMode": "single",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Banner_33": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Banner"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Product_division_53": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Product_division"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Province_23": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Province"
                    ]
                },
                "selectMode": "multi",
                "start": [],
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Product_category_5": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Product_category"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Product_category_KPI_Type_10": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "pigql": " q = load \"DPS_PRODUCT_AGGREGATED\"; q = filter q by 'Country' in {{ selection(Country_2) }}; q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_64) }}; q = filter q by 'Region' in {{ selection(Region_72) }}; q = filter q by 'Channel' in {{ selection(Channel_6) }}; q = filter q by 'Product_category' in {{ selection(Product_category_5) }}; q = filter q by 'Customer' in {{ selection(Customer_7) }};q = filter q by date('Date_of_audit_Year', 'Date_of_audit_Month', 'Date_of_audit_Day') in {{ selection(Date_Year_Date_Month_14) }}; q = filter q by 'Cluster' in {{ selection(Cluster_20) }}; q = filter q by 'Country' in {{ selection(Country_21) }};  q = filter q by 'Region' in {{ selection(Region_22) }}; q = filter q by 'Province' in {{ selection(Province_23) }};  q = filter q by 'City' in {{ selection(City_24) }};  q = filter q by 'Sales_area' in {{ selection(Sales_area_25) }};  q = filter q by 'Sales_territory' in {{ selection(Sales_territory_26) }};  q = filter q by 'Trade_Format' in {{ selection(Trade_Format_27) }};  q = filter q by 'Channel' in {{ selection(Channel_28) }};  q = filter q by 'Subchannel' in {{ selection(Subchannel_29) }};  q = filter q by 'X4P_5P_6P' in {{ selection(X4P_5P_6P_63) }};  q = filter q by 'Customer_type' in {{ selection(Customer_type_30) }};  q = filter q by 'Customer_subtype' in {{ selection(Customer_subtype_31) }};  q = filter q by 'Customer' in {{ selection(Customer_32) }};  q = filter q by 'Banner' in {{ selection(Banner_33) }};  q = filter q by 'Product_division' in {{ selection(Product_division_53) }};  q = filter q by 'Product_category' in {{ selection(Product_category_54) }};  OSA = group q by 'Product_category'; OOS = group q by 'Product_category'; Void = group q by 'Product_category'; OSA = foreach OSA generate 'Product_category' as 'Product_category', sum('Total_OSA')/sum('Total_Audited') as 'product_score', \" OSA\" as 'KPI Type'; OOS = foreach OOS generate 'Product_category' as 'Product_category', sum('Total_OOS')/sum('Total_Audited') as 'product_score', \"OOS\" as 'KPI Type'; Void = foreach Void generate 'Product_category' as 'Product_category', sum('Total_Void')/sum('Total_Audited') as 'product_score', \"Void\" as 'KPI Type'; Product = group OSA by 'Product_category', OOS by 'Product_category', Void by 'Product_category'; Product = union OSA, OOS, Void;",
                    "measures": [
                        [
                            "product",
                            "score",
                            "product_score",
                            {
                                "display": "KPI Score",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Product_category",
                        "KPI Type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "options": {
                        "normalize": true
                    },
                    "visualizationType": "stackhbar"
                }
            },
            "Customer_type_50": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Customer_type"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_RAW"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Cluster_1": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "avg",
                            "OSA_Compliance",
                            "OSACompliance",
                            {
                                "display": "Product Compliance (%)",
                                "format": "percentage"
                            }
                        ]
                    ],
                    "groups": [
                        "Cluster"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "City_24": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "City"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            },
            "Sales_territory_26": {
                "isFacet": true,
                "isGlobal": false,
                "query": {
                    "measures": [
                        [
                            "count",
                            "*"
                        ]
                    ],
                    "groups": [
                        "Sales_territory"
                    ]
                },
                "selectMode": "single",
                "type": "aggregate",
                "useGlobal": true,
                "datasets": [
                    {
                        "name": "DPS_PRODUCT_AGGREGATED"
                    }
                ],
                "visualizationParameters": {
                    "visualizationType": "hbar"
                }
            }
        },
        "widgets": {
            "dimfilter_4p5p6p": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 620,
                    "y": 360,
                    "zIndex": 100017
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "X4P_5P_6P_63"
                }
            },
            "chartdesc_MHSKU": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 3770,
                    "zIndex": 53
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart lists all the audited MH SKUs in the country, \nthe % of enrolled stores that they were available in\nthe latest month, and the variance in availability from \nthe previous month.",
                    "textAlignment": "left"
                }
            },
            "chartdesc_prodScoreChannel": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 2380,
                    "zIndex": 59
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of MH SKUs that were OSA, OOS and VOID \nin the enrolled stores across all the Channels in the country in the \nlatest month.",
                    "textAlignment": "left"
                }
            },
            "dimfilter_prodCategory": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 1170,
                    "y": 180,
                    "zIndex": 100032
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Product_category_54"
                }
            },
            "link_14": {
                "type": "link",
                "position": {
                    "x": 590,
                    "y": 2870,
                    "zIndex": 81
                },
                "parameters": {
                    "destination": "Customer_7",
                    "includeState": true,
                    "text": "🔎",
                    "destinationType": "explore"
                }
            },
            "dimfilter_prodDivision": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 1170,
                    "y": 240,
                    "zIndex": 100031
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Product_division_53"
                }
            },
            "link_12": {
                "type": "link",
                "position": {
                    "x": 590,
                    "y": 2040,
                    "zIndex": 79
                },
                "parameters": {
                    "destination": "Channel_6",
                    "text": "🔎",
                    "destinationType": "explore"
                }
            },
            "link_13": {
                "type": "link",
                "position": {
                    "x": 590,
                    "y": 2490,
                    "zIndex": 80
                },
                "parameters": {
                    "destination": "Product_category_5",
                    "includeState": true,
                    "text": "🔎",
                    "destinationType": "explore"
                }
            },
            "link_10": {
                "type": "link",
                "position": {
                    "x": 590,
                    "y": 1310,
                    "zIndex": 77
                },
                "parameters": {
                    "destination": "X4P_5P_6P_64",
                    "includeState": true,
                    "text": "🔎",
                    "destinationType": "explore"
                }
            },
            "link_11": {
                "type": "link",
                "position": {
                    "x": 590,
                    "y": 1610,
                    "zIndex": 78
                },
                "parameters": {
                    "destination": "Region_72",
                    "includeState": true,
                    "text": "🔎",
                    "destinationType": "explore"
                }
            },
            "dimfilter_customerSubType": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 880,
                    "y": 300,
                    "zIndex": 100011
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Customer_subtype_31"
                }
            },
            "chartdesc_prodComCust": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 3180,
                    "zIndex": 54
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of enrolled stores for Top\nCustomers within a country which were Product \nCompliant in the latest month.",
                    "textAlignment": "left"
                }
            },
            "chart_prodComCountry": {
                "type": "chart",
                "position": {
                    "h": 210,
                    "w": 700,
                    "x": 70,
                    "y": 550,
                    "zIndex": 1
                },
                "parameters": {
                    "legend": true,
                    "step": "Country_2",
                    "visualizationType": "hbar"
                }
            },
            "chartdesc_COTC": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 4370,
                    "zIndex": 52
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart lists all the audited COTC SKUs in the country, \nthe % of enrolled stores that they were available in the \nlatest month, and the variance in availability from the previous \nmonth.",
                    "textAlignment": "left"
                }
            },
            "box_1": {
                "type": "box",
                "position": {
                    "h": 420,
                    "w": 1650,
                    "x": 60,
                    "y": 20,
                    "zIndex": 50
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.95)"
                }
            },
            "box_3": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 490,
                    "zIndex": 52
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgb(0, 0, 0)"
                }
            },
            "chart_prodComRegion": {
                "type": "chart",
                "position": {
                    "h": 300,
                    "w": 710,
                    "x": 70,
                    "y": 1610,
                    "zIndex": 59
                },
                "parameters": {
                    "legend": true,
                    "step": "Region_72",
                    "visualizationType": "vbar"
                }
            },
            "dimfilter_region": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 70,
                    "y": 300,
                    "zIndex": 100003
                },
                "parameters": {
                    "expanded": false,
                    "instant": false,
                    "measureField": "count",
                    "step": "Region_22",
                    "selectModeOverride": "multi"
                }
            },
            "chartdesc_prodComChannel": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 2380,
                    "zIndex": 58
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of enrolled stores that were \nProduct compliant across all the Channels in the country in the\n latest month.",
                    "textAlignment": "left"
                }
            },
            "chartdesc_prodScore4p5p6p": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 1480,
                    "zIndex": 63
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of MH SKUs that were OSA, OOS and VOID \nin 4P, 5P and 6P stores in the country in the \nlatest month.",
                    "textAlignment": "left"
                }
            },
            "header_COTC": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 3880,
                    "zIndex": 38
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "COTC Availability"
                }
            },
            "dimfilter_country": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 70,
                    "y": 240,
                    "zIndex": 100002
                },
                "parameters": {
                    "expanded": false,
                    "instant": false,
                    "measureField": "count",
                    "step": "Country_21",
                    "selectModeOverride": "multi"
                }
            },
            "chartdesc_prodScoreCat": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 2750,
                    "zIndex": 57
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of MH SKUs that were OSA, OOS \nand VOID in MT enrolled stores across all the Product categories \nin the country in the latest month.",
                    "textAlignment": "left"
                }
            },
            "header_product": {
                "type": "text",
                "position": {
                    "x": 1220,
                    "y": 130,
                    "zIndex": 21
                },
                "parameters": {
                    "fontSize": 30,
                    "text": "Product",
                    "textAlignment": "left"
                }
            },
            "dimfilter_prodSector": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 1170,
                    "y": 360,
                    "zIndex": 100019
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Product_sector_68"
                }
            },
            "header_prodScoreRegion": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 1560,
                    "zIndex": 27
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Score by Region"
                }
            },
            "number_countAuditScores": {
                "type": "number",
                "position": {
                    "w": 300,
                    "x": 70,
                    "y": 4520,
                    "zIndex": 68
                },
                "parameters": {
                    "measureField": "count",
                    "step": "all_77",
                    "textAlignment": "center",
                    "textColor": "rgb(255, 2, 2)",
                    "title": ""
                }
            },
            "header_prodComTrend": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 830,
                    "zIndex": 30
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Compliance Trend"
                }
            },
            "chart_prodScoreCountry": {
                "type": "chart",
                "position": {
                    "h": 210,
                    "w": 700,
                    "x": 830,
                    "y": 550,
                    "zIndex": 8
                },
                "parameters": {
                    "legend": true,
                    "step": "Country_KPI_Type_9",
                    "exploreLink": false,
                    "visualizationType": "pie"
                }
            },
            "header_prodScoreCustomers": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 2820,
                    "zIndex": 37
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Score by Top Customers"
                }
            },
            "chart_prodCom4p5p6p": {
                "type": "chart",
                "position": {
                    "h": 170,
                    "w": 710,
                    "x": 70,
                    "y": 1310,
                    "zIndex": 45
                },
                "parameters": {
                    "step": "X4P_5P_6P_64",
                    "visualizationType": "hbar"
                }
            },
            "box_5": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 1560,
                    "zIndex": 54
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.97)"
                }
            },
            "box_7": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 1260,
                    "zIndex": 56
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.97)"
                }
            },
            "box_6": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 830,
                    "zIndex": 55
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.95)"
                }
            },
            "box_9": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 1990,
                    "zIndex": 58
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.96)"
                }
            },
            "chartdesc_prodComTrend": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 1180,
                    "zIndex": 64
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of enrolled stores that were \nProduct compliant for the country over a period of last \n12 months.",
                    "textAlignment": "left"
                }
            },
            "box_8": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 2440,
                    "zIndex": 57
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.97)"
                }
            },
            "header_prodComChannel": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 1990,
                    "zIndex": 34
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Compliance by Channel"
                }
            },
            "dimfilter_customer": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 880,
                    "y": 360,
                    "zIndex": 100012
                },
                "parameters": {
                    "expanded": false,
                    "instant": false,
                    "measureField": "count",
                    "step": "Customer_32",
                    "selectModeOverride": "multi"
                }
            },
            "dimfilter_salesT": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 330,
                    "y": 300,
                    "zIndex": 100006
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Sales_territory_26"
                }
            },
            "link_prodScoreCust": {
                "type": "link",
                "position": {
                    "x": 1390,
                    "y": 3020,
                    "zIndex": 74
                },
                "parameters": {
                    "destination": "Customer_KPI_Type_12",
                    "includeState": true,
                    "text": "🔎",
                    "visualizationType": "stackhbar",
                    "destinationType": "explore"
                }
            },
            "chart_prodScoreCustomers": {
                "type": "chart",
                "position": {
                    "h": 300,
                    "w": 710,
                    "x": 830,
                    "y": 2870,
                    "zIndex": 11
                },
                "parameters": {
                    "legend": true,
                    "normalize": true,
                    "step": "Customer_KPI_Type_12",
                    "exploreLink": false,
                    "visualizationType": "stackhbar"
                }
            },
            "dimfilter_salesA": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 330,
                    "y": 240,
                    "zIndex": 100005
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Sales_area_25"
                }
            },
            "chartdesc_prodCom4p5p6p": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 1480,
                    "zIndex": 62
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of 4P, 5P and 6P stores that were \nProduct compliant for the country in the \nlatest month.",
                    "textAlignment": "left"
                }
            },
            "header_prodComCat": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 2440,
                    "zIndex": 32
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Compliance by Category"
                }
            },
            "chart_prodComCustomers": {
                "type": "chart",
                "position": {
                    "h": 300,
                    "w": 700,
                    "x": 70,
                    "y": 2870,
                    "zIndex": 6
                },
                "parameters": {
                    "step": "Customer_7",
                    "visualizationType": "hbar"
                }
            },
            "link_9": {
                "type": "link",
                "position": {
                    "x": 590,
                    "y": 880,
                    "zIndex": 76
                },
                "parameters": {
                    "destination": "0FK2300000000ENGAY",
                    "text": "🔎",
                    "visualizationType": "hbar",
                    "destinationType": "lens"
                }
            },
            "header_customer": {
                "type": "text",
                "position": {
                    "x": 800,
                    "y": 130,
                    "zIndex": 20
                },
                "parameters": {
                    "fontSize": 30,
                    "text": "Customer",
                    "textAlignment": "left"
                }
            },
            "link_8": {
                "type": "link",
                "position": {
                    "x": 590,
                    "y": 550,
                    "zIndex": 75
                },
                "parameters": {
                    "destination": "Country_2",
                    "includeState": true,
                    "text": "🔎",
                    "destinationType": "explore"
                }
            },
            "header_prodScore4p5p6p": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 1260,
                    "zIndex": 48
                },
                "parameters": {
                    "text": "Product Score by  4P / 5P / 6P"
                }
            },
            "chart_prodScore4p5p6p": {
                "type": "chart",
                "position": {
                    "h": 170,
                    "w": 710,
                    "x": 830,
                    "y": 1310,
                    "zIndex": 46
                },
                "parameters": {
                    "legend": true,
                    "normalize": true,
                    "step": "X4P_5P_6P_KPI_Type_65",
                    "exploreLink": false,
                    "visualizationType": "stackhbar"
                }
            },
            "header_geo": {
                "type": "text",
                "position": {
                    "x": 230,
                    "y": 130,
                    "zIndex": 19
                },
                "parameters": {
                    "fontSize": 30,
                    "text": "Geography",
                    "textAlignment": "left"
                }
            },
            "chart_prodComChannel": {
                "type": "chart",
                "position": {
                    "h": 330,
                    "w": 700,
                    "x": 70,
                    "y": 2040,
                    "zIndex": 5
                },
                "parameters": {
                    "step": "Channel_6",
                    "visualizationType": "hbar"
                }
            },
            "dimfilter_prodMarket": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 1170,
                    "y": 300,
                    "zIndex": 100018
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Product_market_67"
                }
            },
            "chartdesc_prodScoreCountry": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 760,
                    "zIndex": 66
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of MH SKUs that were OSA, OOS and VOID \nin the enrolled stores for a country in the latest month.",
                    "textAlignment": "left"
                }
            },
            "link_prodScore4p5p6p": {
                "type": "link",
                "position": {
                    "x": 1390,
                    "y": 1450,
                    "zIndex": 70
                },
                "parameters": {
                    "destination": "0FK2300000000DeGAI",
                    "includeState": true,
                    "text": "🔎",
                    "visualizationType": "hbar",
                    "destinationType": "lens"
                }
            },
            "dimfilter_prodBrand": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 1440,
                    "y": 180,
                    "zIndex": 100020
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Product_brand_69"
                }
            },
            "datefilter_2": {
                "type": "dateselector",
                "position": {
                    "h": 80,
                    "w": 260,
                    "x": 200,
                    "y": 30,
                    "zIndex": 100013
                },
                "parameters": {
                    "expanded": false,
                    "step": "Date_Year_Date_Month_14",
                    "title": "Date"
                }
            },
            "chart_prodScoreCat": {
                "type": "chart",
                "position": {
                    "h": 250,
                    "w": 710,
                    "x": 830,
                    "y": 2490,
                    "zIndex": 9
                },
                "parameters": {
                    "legend": true,
                    "normalize": true,
                    "step": "Product_category_KPI_Type_10",
                    "exploreLink": false,
                    "visualizationType": "stackhbar"
                }
            },
            "dimfilter_channel": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 620,
                    "y": 240,
                    "zIndex": 100008
                },
                "parameters": {
                    "expanded": false,
                    "instant": false,
                    "measureField": "count",
                    "step": "Channel_28",
                    "selectModeOverride": "multi"
                }
            },
            "chart_prodScoreRegion": {
                "type": "chart",
                "position": {
                    "h": 300,
                    "w": 710,
                    "x": 830,
                    "y": 1610,
                    "zIndex": 56
                },
                "parameters": {
                    "legend": true,
                    "normalize": true,
                    "step": "Region_KPI_Type_73",
                    "exploreLink": false,
                    "visualizationType": "stackvbar"
                }
            },
            "box_18": {
                "type": "box",
                "position": {
                    "h": 10,
                    "w": 1470,
                    "x": 60,
                    "y": 4670,
                    "zIndex": 61
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0)"
                }
            },
            "chart_prodComTrend": {
                "type": "chart",
                "position": {
                    "h": 300,
                    "w": 700,
                    "x": 70,
                    "y": 890,
                    "zIndex": 3
                },
                "parameters": {
                    "step": "Date_of_audit_Year_Date_of_audit_Month_4",
                    "visualizationType": "time"
                }
            },
            "box_17": {
                "type": "box",
                "position": {
                    "h": 90,
                    "w": 320,
                    "x": 60,
                    "y": 4510,
                    "zIndex": 50
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0.01)",
                    "borderColor": "rgba(0, 0, 0, 0.97)"
                }
            },
            "box_16": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 4460,
                    "zIndex": 49
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgb(0, 0, 0)"
                }
            },
            "box_15": {
                "type": "box",
                "position": {
                    "h": 90,
                    "w": 360,
                    "x": 1340,
                    "y": 30,
                    "zIndex": 57
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0.02)",
                    "borderColor": "rgba(0, 0, 0, 0)",
                    "imageUrl": "01523000000Hvz6"
                }
            },
            "box_12": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 3260,
                    "zIndex": 61
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.99)"
                }
            },
            "chartdesc_prodComRegion": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 1920,
                    "zIndex": 60
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of enrolled stores that were \nProduct compliant in different regions of the country\n in the latest month.",
                    "textAlignment": "left"
                }
            },
            "dimfilter_subchannel": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 620,
                    "y": 300,
                    "zIndex": 100009
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Subchannel_29"
                }
            },
            "box_11": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 3880,
                    "zIndex": 60
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.97)"
                }
            },
            "box_10": {
                "type": "box",
                "position": {
                    "h": 40,
                    "w": 1470,
                    "x": 60,
                    "y": 2820,
                    "zIndex": 59
                },
                "parameters": {
                    "backgroundColor": "rgba(0, 140, 201, 0)",
                    "borderColor": "rgba(0, 0, 0, 0.97)"
                }
            },
            "header_MHSKU": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 3260,
                    "zIndex": 40
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "MHSKU Availability"
                }
            },
            "header_prodScoreTrend": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 830,
                    "zIndex": 31
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Score Trend"
                }
            },
            "header_prodScoreCountry": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 490,
                    "zIndex": 25
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Score by Country"
                }
            },
            "link_prodScoreCat": {
                "type": "link",
                "position": {
                    "x": 1390,
                    "y": 2640,
                    "zIndex": 73
                },
                "parameters": {
                    "destination": "Product_category_KPI_Type_10",
                    "includeState": true,
                    "text": "🔎",
                    "visualizationType": "stackhbar",
                    "destinationType": "explore"
                }
            },
            "header_prodComCustomers": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 2820,
                    "zIndex": 36
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Compliance by Top Customers"
                }
            },
            "chart_MHSKU": {
                "type": "comparetable",
                "position": {
                    "h": 450,
                    "w": 680,
                    "x": 70,
                    "y": 3310,
                    "zIndex": 56
                },
                "parameters": {
                    "step": "compare_74",
                    "selectModeOverride": "single"
                }
            },
            "chartdesc_prodComCountry": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 760,
                    "zIndex": 51
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of enrolled stores that were\n Product compliant for the latest month.",
                    "textAlignment": "left"
                }
            },
            "link_prodScoreTrend": {
                "type": "link",
                "position": {
                    "h": 50,
                    "w": 130,
                    "x": 1380,
                    "y": 1020,
                    "zIndex": 69
                },
                "parameters": {
                    "destination": "0FK2300000000DZGAY",
                    "includeState": true,
                    "text": "🔎",
                    "visualizationType": "hbar",
                    "destinationType": "lens"
                }
            },
            "dimfilter_city": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 330,
                    "y": 180,
                    "zIndex": 100007
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "City_24"
                }
            },
            "header_prodComRegion": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 1560,
                    "zIndex": 26
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Compliance by Region"
                }
            },
            "chartdesc_prodScoreCustomers": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 3180,
                    "zIndex": 55
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of MH SKUs that were OSA, \nOOS and VOID in the enrolled stores for Top Customers\n within a country in the latest month.",
                    "textAlignment": "left"
                }
            },
            "header_prodComCountry": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 490,
                    "zIndex": 24
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Compliance by Country"
                }
            },
            "link_prodScoreCountry": {
                "type": "link",
                "position": {
                    "x": 1380,
                    "y": 700,
                    "zIndex": 68
                },
                "parameters": {
                    "destination": "Country_KPI_Type_9",
                    "includeState": true,
                    "text": "🔎",
                    "textColor": "rgb(0, 0, 0)",
                    "visualizationType": "pie",
                    "destinationType": "explore"
                }
            },
            "chart_COTC": {
                "type": "comparetable",
                "position": {
                    "h": 450,
                    "w": 680,
                    "x": 70,
                    "y": 3930,
                    "zIndex": 56
                },
                "parameters": {
                    "step": "compare_75",
                    "selectModeOverride": "single"
                }
            },
            "chartdesc_prodScoreRegion": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 1920,
                    "zIndex": 61
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of MH SKUs that were OSA, OOS and VOID \nin enrolled stores in different regions of the country in the \nlatest month.",
                    "textAlignment": "left"
                }
            },
            "chartdesc_prodScoreTrend": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 1180,
                    "zIndex": 65
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of MH SKUs that were OSA, OOS and VOID \nin the enrolled stores for the country over a period of\n last 12 months.",
                    "textAlignment": "left"
                }
            },
            "header_prodCom4p5p6p": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 1260,
                    "zIndex": 47
                },
                "parameters": {
                    "text": "Product Compliance by 4P / 5P / 6P"
                }
            },
            "chart_prodScoreChannel": {
                "type": "chart",
                "position": {
                    "h": 330,
                    "w": 710,
                    "x": 830,
                    "y": 2040,
                    "zIndex": 10
                },
                "parameters": {
                    "legend": true,
                    "normalize": true,
                    "step": "Channel_KPI_Type_11",
                    "exploreLink": false,
                    "visualizationType": "stackhbar"
                }
            },
            "header_prodScoreCat": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 2440,
                    "zIndex": 33
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Score by Category"
                }
            },
            "chart_prodComCat": {
                "type": "chart",
                "position": {
                    "h": 250,
                    "w": 700,
                    "x": 70,
                    "y": 2490,
                    "zIndex": 4
                },
                "parameters": {
                    "step": "Product_category_5",
                    "visualizationType": "hbar"
                }
            },
            "chartdesc_prodComCat": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 2750,
                    "zIndex": 56
                },
                "parameters": {
                    "fontSize": 15,
                    "text": "This chart displays the % of MT enrolled stores that were\nProduct compliant across all the Product categories \nin the country in the latest month.",
                    "textAlignment": "left"
                }
            },
            "header_prodScoreChannel": {
                "type": "text",
                "position": {
                    "x": 830,
                    "y": 1990,
                    "zIndex": 35
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Product Score by Channel"
                }
            },
            "link_prodScoreChannel": {
                "type": "link",
                "position": {
                    "x": 1390,
                    "y": 2190,
                    "zIndex": 72
                },
                "parameters": {
                    "destination": "Channel_KPI_Type_11",
                    "includeState": true,
                    "text": "🔎",
                    "visualizationType": "stackhbar",
                    "destinationType": "explore"
                }
            },
            "dimfilter_SKU": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 1440,
                    "y": 240,
                    "zIndex": 100021
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "SKU_70"
                }
            },
            "header_countAuditScores": {
                "type": "text",
                "position": {
                    "x": 70,
                    "y": 4460,
                    "zIndex": 48
                },
                "parameters": {
                    "fontSize": 25,
                    "text": "Count of Audited Perfect Stores"
                }
            },
            "dimfilter_province": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 70,
                    "y": 360,
                    "zIndex": 100004
                },
                "parameters": {
                    "expanded": false,
                    "instant": false,
                    "measureField": "count",
                    "step": "Province_23",
                    "selectModeOverride": "multi"
                }
            },
            "dimfilter_customerType": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 880,
                    "y": 240,
                    "zIndex": 100010
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Customer_type_30"
                }
            },
            "dimfilter_TradeFormat": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 620,
                    "y": 180,
                    "zIndex": 100007
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Trade_Format_27"
                }
            },
            "header_period": {
                "type": "text",
                "position": {
                    "x": 50,
                    "y": 40,
                    "zIndex": 49
                },
                "parameters": {
                    "fontSize": 36,
                    "text": "Period",
                    "textAlignment": "left"
                }
            },
            "chart_prodScoreTrend": {
                "type": "chart",
                "position": {
                    "h": 300,
                    "w": 700,
                    "x": 830,
                    "y": 880,
                    "zIndex": 62
                },
                "parameters": {
                    "legend": true,
                    "step": "Date_of_audit_Year_Date_of_audit_Month_KPI_Type_66",
                    "exploreLink": false,
                    "visualizationType": "time"
                }
            },
            "link_prodScoreRegion": {
                "type": "link",
                "position": {
                    "x": 1390,
                    "y": 1760,
                    "zIndex": 71
                },
                "parameters": {
                    "destination": "Region_KPI_Type_73",
                    "includeState": true,
                    "text": "🔎",
                    "visualizationType": "stackvbar",
                    "destinationType": "explore"
                }
            },
            "dimfilter_banner": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 880,
                    "y": 180,
                    "zIndex": 100013
                },
                "parameters": {
                    "expanded": false,
                    "measureField": "count",
                    "step": "Banner_33"
                }
            },
            "dimfilter_cluster": {
                "type": "listselector",
                "position": {
                    "h": 50,
                    "w": 250,
                    "x": 70,
                    "y": 180,
                    "zIndex": 100001
                },
                "parameters": {
                    "expanded": false,
                    "instant": false,
                    "measureField": "count",
                    "step": "Cluster_20",
                    "selectModeOverride": "multi"
                }
            }
        }
    },
    "datasets": [
        {
            "id": "0Fb8A0000000SSSSA2",
            "name": "DPS_PRODUCT_AGGREGATED"
        },
        {
            "id": "0Fb8A0000000SSXSA2",
            "name": "DPS_PRODUCT_RAW"
        }
    ]
}
