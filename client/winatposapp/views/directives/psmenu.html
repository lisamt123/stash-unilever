<nav>
    <div class="navbar navbar-default" role="navigation">
        <div class="container">
            <div class="menu-items-container">
                <div ng-repeat="menuItem in menu" ng-if="menuItem.items" class="menu-items-subcontainer menu-{{menuItem.name}}">
                    <div ng-repeat="item in menuItem.items" class="menu-item {{ ((!( ($index+1) % 12) && menuItem.name == 'Brands') || (!(($index+1) % 4) && menuItem.name == 'Categories')) ? 'last' : ''}}">
                        <a href="{{item['href']}}" ng-click="collapseMenu()">
                            <div class="menu-item-content">
                                <div ng-if="item.image != '' && item.image != undefined">
                                    <div class="{{menuItem.name == 'Brands' ?  'brand-logo' : 'hidden'}}" style="background: url('{{item.image}}') no-repeat scroll 50% center / 100% auto transparent">
                                        <div class="categories-logo-container {{menuItem.name == 'Brands' ?  'hidden' : ''}}">
                                        <div class="categories-logo-icon"></div><div class="categories-logo-title"></div>
                                        </div>
                                    </div>  

                                    <div class="{{menuItem.name == 'Categories' ?  'categories-logo' : 'hidden'}}">
                                        <div class="categories-logo-container">
                                            <div class="categories-logo-icon" style="background: url('{{item.image}}') no-repeat scroll 40% 40% / 60% auto transparent"></div>
                                            <div class="categories-logo-title">
                                                <div class="categories-logo-title-label">{{item.name}}</div>
                                                <div class="categories-logo-title-sublabel">{{item.parentCategory}}</div>
                                            </div>
                                        </div>
                                    </div>                                
                                </div>
                                <div ng-if="item.image == '' || item.image == undefined">
                                    <div class="{{menuItem.name == 'Brands' ?  'brand-label' : 'hidden'}}"><span>{{item.name}}</span></div>
                                    <div class="{{menuItem.name == 'Categories' ?  'categories-logo' : 'hidden'}}">
                                        <div class="categories-logo-container">
                                            <div class="categories-logo-icon" style="background: url('{{item.image}}') no-repeat scroll 50% 40% / 60% auto transparent"></div>
                                            <div class="categories-logo-title">{{item.name}}</div>
                                        </div>
                                    </div>                                    
                                </div>
                            </div>
                        </a>
                        <!--
                        <div class="menu-item-content">
                            <a ui-sref="{{item['ui-sref']}}" ui-sref-opts="{{item['ui-sref-opts']}}">{{item.name}}</a>
                        </div>
                        -->
                    </div>
                    <div class="t" ng-if="menuItem.name === 'Brands' && menuItem.items.length % 12">
                        <div ng-repeat="i in getNum(menuItem.items.length % 12, 12) track by $index" class="menu-item {{$last ? 'last' : ''}}"></div>
                    </div>
                    <div class="empty-items" ng-if="menuItem.name === 'Categories' && menuItem.items.length % 4">
                        <div ng-repeat="i in getNum(menuItem.items.length % 4, 4) track by $index" class="menu-item {{$last ? 'last' : ''}}"></div>
                    </div>                    
                </div>
                <div class="clearfix"></div> 
            </div>

            <div class="navbar-header-items">
                <div class="collapse navbar-collapse unilever-navbar" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="unilever-col-xs-2"><a ui-sref="home" ng-click="expandMenu(menuItem.name)">Home</a><li>
                        <li ng-repeat="menuItem in menu" class="dropdown unilever-col-xs-2" ng-if="menuItem.items">
                            <a class="dropdown-toggle" data-toggle="dropdown" ng-click="expandMenu(menuItem.name)">{{menuItem.name}}<span class="unilever-caret caret-{{menuItem.name}}"></span></a>
                        </li>
                        <li ng-repeat="menuItem in menu" ng-if="!menuItem.items" class="unilever-col-xs-2">
                            <a ui-sref="{{menuItem['ui-sref']}}" ng-click="expandMenu(menuItem.name)">{{menuItem.name}}</a>                            
                        </li>
                        <li class="unilever-col-xs-2">
                           <a ui-sref="repetableSearch({ 'keyWord': ''})" ng-click="expandMenu(menuItem.name)" class="ng-binding">Repeatable Models</a>
                        </li>
                        <li class="unilever-col-xs-2">
                            <a ui-sref="ctaSearch({ 'keyWord': ''})" ng-click="expandMenu(menuItem.name)" class="ng-binding">Call To Action</a>
                        </li>
                        <li class="unilever-col-xs-2">
                            <a ui-sref="bestPracticesSearch({ 'keyWord': ''})" ng-click="expandMenu(menuItem.name)" class="ng-binding">Best Practices</a>
                        </li>                              
                    </ul>
                </div>
            </div>
            <div class="bottom-menu-background"></div>
        </div>
    </div>
</nav>