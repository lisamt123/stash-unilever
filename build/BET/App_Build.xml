<!--    *******************************************************************************************************************-->
<!--    Build Script in Ant for Unilever Salesforce Projects - BEGIN                                               -->
<!--    ******************************************************************************************************************* -->
<project name="salesforce" default="validate" basedir="." xmlns:sf="antlib:com.salesforce">

  <!-- *************************************************************** -->
  <!--   Properties for Salesforce ANT targets                         -->
  <!-- *************************************************************** -->
  <property file="${basedir}/build.properties"/>
  <property environment="env"/>
  <!-- Properties for salesforce dataloader CLI for IPM NG-->
  <property name="dataLoaderAPIVersion" value="35.0.0-uber" />
  <!-- *************************************************************** -->
  <!--   Set-Up of Salesforce Ant / CLI Jar Classpath for IPM NG       -->
  <!-- *************************************************************** -->
  <!-- Define required jars for salesforce dataloder CLI-->
  <path id="taskDependencies">
    <pathelement location="${basedir}/lib/ant.jar"/>
    <pathelement location="${basedir}/lib/antutils.jar"/>
    <pathelement location="${basedir}/lib/commons-io-2.4.jar"/>
    <pathelement location="${basedir}/lib/commons-lang-2.6.jar"/>
    <pathelement location="${basedir}/lib/commons-logging-1.1.3.jar"/>
    <pathelement location="${basedir}/lib/gson-2.2.4.jar"/>
    <pathelement location="${basedir}/lib/httpclient-4.3.5.jar"/>
    <pathelement location="${basedir}/lib/httpcore-4.3.2.jar"/>
    <pathelement location="${basedir}/lib/json-20080701.jar"/>
  </path>
  <!-- Define salesforce Ant Jar-->
  <taskdef resource="com/salesforce/antlib.xml" uri="antlib:com.salesforce">
    <classpath>
      <pathelement location="${basedir}/lib/ant-salesforce.jar" />
    </classpath>
  </taskdef>
  <!-- ***************************************************************************** -->
  <!-- ANT Import Files for invoking APEX inside ANT Scripts                         -->
  <!-- ***************************************************************************** -->
  <import file="${basedir}/lib/exec_anon.xml"/>
  <import file="${basedir}/lib/deploy.xml"/>
  <import file="${basedir}/lib/undeploy.xml"/>
  <import file="${basedir}/lib/run_tests.xml"/>
  <import file="${basedir}/lib/package_generator.xml"/>


<!-- ***************************************************************************** -->
  <!-- Validate the  set of BET meta-data before deployment                          -->
  <!-- ***************************************************************************** -->
  <target name="validate">
    <echo level="info">Testing the deployment of BET</echo>
    <sf:deploy username="${sf.username}"
      password="${sf.password}"
      serverurl="${sf.serverurl}"
      checkOnly="true"
      logType="Debugonly"
      testLevel="RunSpecifiedTests"
      allowMissingFiles="true"
      autoUpdatePackage="true"
      ignoreWarnings="true"
      deployRoot="src"
      pollWaitMillis="${sfdc.pollWaitMillis}"
      maxPoll="${sfdc.maxPoll}">
	   <runTest>CommunitiesLandingControllerTest</runTest>
      <runTest>CommunitiesLoginControllerTest</runTest>
      <runTest>CommunitiesSelfRegConfirmControllerTest</runTest>
      <runTest>CommunitiesSelfRegControllerTest</runTest>
      <runTest>ExceptionLoggingHelper_Test</runTest>
      <runTest>ExceptionsTest</runTest>
      <runTest>TriggerFactoryTest</runTest>
      <runTest>TestDataFactory</runTest>
      <runTest>UserTestUtil</runTest>
      <runTest>UserTrigger_Test</runTest>
      <runTest>BET_AccessServiceTest</runTest>
      <runTest>BET_ApproveProjectsComponentContrTest</runTest>
      <runTest>BET_AssetDispatcherControllerTest</runTest>
      <runTest>BET_AssetHandlerClsTest</runTest>
      <runTest>BET_AssetServiceTest</runTest>
      <runTest>BET_AssetsOrderController_Test</runTest>
      <runTest>BET_BatchAssetStatusMapping_Test</runTest>
      <runTest>BET_BatchBETStatusMapping_Test</runTest>
      <runTest>BET_BatchBrandDelete_Test</runTest>
      <runTest>BET_BatchBrandMapping_Test</runTest>
      <runTest>BET_BatchCategoryMapping_Test</runTest>
      <runTest>BET_BatchCopyBrandValues_Test</runTest>
      <runTest>BET_BatchDeniedMemberRequestDelete_Test</runTest>
      <runTest>BET_BatchMediaChannel1Mapping_Test</runTest>
      <runTest>BET_BatchOldAssetStatusMapping_Test</runTest>
      <runTest>BET_BatchScheduler_Test</runTest>
      <runTest>BET_BatchUpdateChatterGroupInfo_Test</runTest>
      <runTest>BET_BETHardDelete_BatchSchedule_Test</runTest>
      <runTest>BET_BETServiceTest</runTest>
      <runTest>BET_CategoryBrandSelectionControllerTest</runTest>
      <runTest>BET_ChatterController_Test</runTest>
      <runTest>BET_ChatterGroupAutoArchDis_BatchTest</runTest>
      <runTest>BET_CommonServiceTest</runTest>
      <runTest>BET_DataFixReleaseDate_BatchTest</runTest>
      <runTest>BET_EditAssetController1_Test</runTest>
      <runTest>BET_EditAssetController_Test</runTest>
      <runTest>BET_EmailNotificationServiceTest</runTest>
      <runTest>BET_ExpectedAssetsControllerTest</runTest>
      <runTest>BET_FollowRequestTriggerHandlerClsTest</runTest>
      <runTest>BET_InoplanToIPMMigration_Batch_Test</runTest>
      <runTest>BET_LinkedProjectsComponentContrTest</runTest>
      <runTest>BET_LinkingServiceHelperTest</runTest>
      <runTest>BET_LinkingServiceTest</runTest>
      <runTest>BET_LinkingServiceTestOne</runTest>
      <runTest>BET_ManageMembersController_Test</runTest>
      <runTest>BET_ManageMembersController_Test2</runTest>
      <runTest>BET_ManageMembersController_Test3</runTest>
      <runTest>BET_MasterDataServiceTest</runTest>
      <runTest>BET_MDODataMigrationAndTrans_BatchTest</runTest>
      <runTest>BET_MemberRequestHandlerClsTest</runTest>
      <runTest>BET_MultiUploadAssetsControllerTest</runTest>
      <runTest>BET_NewBETComponentControllerTest</runTest>
      <runTest>BET_NewBETControllerTest</runTest>
      <runTest>BET_PresentationBatch_Test</runTest>
      <runTest>BET_ReleaseDateEmails_Test</runTest>
      <runTest>BET_SCH_BatchDeniedMemberRequestDel_Test</runTest>
      <runTest>BET_SoslFieldsBatch_Test</runTest>
      <runTest>BET_SuggestedMemberServiceTest</runTest>
      <runTest>BET_SuggestMembersControllerTest</runTest>
      <runTest>BET_Team_MemberHandlerClsHelperTest</runTest>
      <runTest>BET_Team_MemberHandlerClsTest</runTest>
      <runTest>BET_TestingHelper</runTest>
      <runTest>BET_TestUtils</runTest>
      <runTest>BET_Triggers_Test</runTest>
      <runTest>BET_UpdateExpectedAssetsController_Test</runTest>
      <runTest>BET_UpsertBETControllerTest</runTest>
      <runTest>uw_ArticleExtensionTest</runTest>
      <runTest>uw_BatchJobHelper</runTest>
      <runTest>uw_BatchJobManagerController</runTest>
      <runTest>uw_BETAndAssetPromotionTest</runTest>
      <runTest>uw_BETDetailService_Test</runTest>
      <runTest>uw_BETDetailService_Test2</runTest>
      <runTest>uw_BETDetailService_Test3</runTest>
      <runTest>uw_BETEditController_Test</runTest>
      <runTest>uw_BETRemoteController_Test</runTest>
      <runTest>uw_BETSearchService_Test</runTest>
      <runTest>uw_BETUtil_Test</runTest>
      <runTest>uw_BET_before_delete_test_class</runTest>
      <runTest>uw_BET_schedule_batch_calculatemem_TEST</runTest>
      <runTest>uw_BET_update_totalnoof_BETmembers_TEST</runTest>
      <runTest>uw_BrandCentreExtensionTest</runTest>
      <runTest>uw_Constants</runTest>
      <runTest>uw_CustomAssetUploadExtensionTest</runTest>
      <runTest>uw_CustomAssetUploadExtensionTest2</runTest>
      <runTest>uw_CustomSettingsManager</runTest>
      <runTest>uw_DeleteObjectsHelper</runTest>
      <runTest>uw_FeedComments_Test</runTest>
      <runTest>uw_FetchFeedItems_Test</runTest>
      <runTest>uw_futureHandler</runTest>
      <runTest>uw_HelperMethods</runTest>
      <runTest>uw_HelperSOQLMethods</runTest>
      <runTest>uw_MakeAssetsVisibleTest</runTest>
      <runTest>uw_MiscTest</runTest>
      <runTest>uw_OwnerUpdate</runTest>
      <runTest>uw_PinnovateController_Test</runTest>
      <runTest>uw_RedirectArticle</runTest>
      <runTest>uw_Redirect_Brand_PageTest</runTest>
      <runTest>uw_TacHelper</runTest>
      <runTest>uw_TermsConditionsController</runTest>
      <runTest>uw_TermsOfUseControllerTest</runTest>
      <runTest>uw_testTrigger</runTest>
      <runTest>uw_TokenHelper</runTest>
      <runTest>uw_TriggerHandler_Test</runTest>
      <runTest>uw_UnitTestDataFactory</runTest>
  </sf:deploy>
  </target>
</project>