<!--    *******************************************************************************************************************-->
<!--    Build Script in Ant for Unilever Salesforce Projects - BEGIN                                               -->
<!--    ******************************************************************************************************************* -->
<project name="salesforce" default="validate" basedir="." xmlns:sf="antlib:com.salesforce">
    <!-- *************************************************************** -->
    <!--   Properties for Salesforce ANT targets                         -->
    <!-- *************************************************************** -->
    <property file="${basedir}/build.properties" />
    <property environment="env" />
    <!-- Properties for salesforce dataloader CLI for IPM NG-->
    <property name="dataLoaderAPIVersion" value="35.0.0-uber" />
    <!-- *************************************************************** -->
    <!--   Set-Up of Salesforce Ant / CLI Jar Classpath for IPM NG       -->
    <!-- *************************************************************** -->
    <!-- Define required jars for salesforce dataloder CLI-->
    <path id="taskDependencies">
        <pathelement location="${basedir}/lib/ant.jar" />
        <pathelement location="${basedir}/lib/antutils.jar" />
        <pathelement location="${basedir}/lib/commons-io-2.4.jar" />
        <pathelement location="${basedir}/lib/commons-lang-2.6.jar" />
        <pathelement location="${basedir}/lib/commons-logging-1.1.3.jar" />
        <pathelement location="${basedir}/lib/gson-2.2.4.jar" />
        <pathelement location="${basedir}/lib/httpclient-4.3.5.jar" />
        <pathelement location="${basedir}/lib/httpcore-4.3.2.jar" />
        <pathelement location="${basedir}/lib/json-20080701.jar" />
    </path>
    <!-- Define salesforce Ant Jar-->
    <taskdef resource="com/salesforce/antlib.xml" uri="antlib:com.salesforce">
        <classpath>
            <pathelement location="${basedir}/lib/ant-salesforce.jar" />
        </classpath>
    </taskdef>
    <!-- ***************************************************************************** -->
    <!-- ANT Import Files for invoking APEX inside ANT Scripts                         -->
    <!-- ***************************************************************************** -->
    <import file="${basedir}/lib/exec_anon.xml" />
    <import file="${basedir}/lib/deploy.xml" />
    <import file="${basedir}/lib/undeploy.xml" />
    <import file="${basedir}/lib/run_tests.xml" />
    <import file="${basedir}/lib/package_generator.xml" />
    <target name="validate">
        <echo level="info">Agent App Lightning Deployment</echo>
        <sf:deploy username="${sf.username}" password="${sf.password}" serverurl="${sf.serverurl}" checkOnly="true" logType="Debugonly" testLevel="RunSpecifiedTests" allowMissingFiles="true" autoUpdatePackage="true" ignoreWarnings="true" deployRoot="src" pollWaitMillis="${sfdc.pollWaitMillis}" maxPoll="${sfdc.maxPoll}">
            <runTest>CommunitiesLandingControllerTest</runTest>
            <runTest>CommunitiesLoginControllerTest</runTest>
            <runTest>CommunitiesSelfRegConfirmControllerTest</runTest>
            <runTest>CommunitiesSelfRegControllerTest</runTest>
            <runTest>ExceptionLoggingHelper_Test</runTest>
            <runTest>ExceptionsTest</runTest>
            <runTest>TriggerFactoryTest</runTest>
            <runTest>TestDataFactory</runTest>
            <runTest>UserTestUtil</runTest>
            <runTest>UserTrigger_Test</runTest>
            <runTest>VPM_ApprovalSubmit</runTest>
            <runTest>VPM_ApprovalSubmitTest</runTest>
			<runTest>VPM_CreateVendorFetchFieldDetails</runTest>
            <runTest>VPM_CreateVendorFieldDetailsWrapper</runTest>
			<runTest>VPM_CreateVendorServiceExceptionMock</runTest>
			<runTest>VPM_CreateVendorServiceHelper</runTest>
            <runTest>VPM_CreateVendorServiceHelper_Test</runTest>
			<runTest>VPM_ECCMaintainExtendHelper</runTest>
            <runTest>VPM_ECCVendorSearchServiceOutput</runTest>
			<runTest>VPM_ECCWebserviceHelper</runTest>
			<runTest>VPM_FetchVendorDetailsHttpMock</runTest>
			<runTest>VPM_FetchVendorDetailsHttpMockCodeMatch</runTest>
			<runTest>VPM_FetchVendorsDetails</runTest>
            <runTest>VPM_FetchVendorsDetails_Test</runTest>
			<runTest>VPM_GoldenDataController2</runTest>
			<runTest>VPM_GoldenDataController2Test</runTest>
			<runTest>VPM_HttpUtil</runTest>
			<runTest>VPM_maintainGlobalVendorCalloutMock</runTest>
			<runTest>VPM_MaintainGlobalVendorServiceHelper</runTest>
			<runTest>VPM_MaintainGlobalVendorService_Test</runTest>
			<runTest>VPM_MaintainVendorFetchFieldDetails</runTest>
			<runTest>VPM_PicklistHelper</runTest>
			<runTest>VPM_ProcurementCentralController</runTest>
			<runTest>VPM_ProcurementCentralController_Test</runTest>
			<runTest>VPM_PurchaseRequestsControllerExtension</runTest>
			<runTest>VPM_PurchaseRequestsExtensionTest</runTest>
			<runTest>VPM_RecordTypeHelper</runTest>
			<runTest>VPM_RegionalMaintainVendor</runTest>
			<runTest>VPM_RegionalMaintainVendorTest</runTest>
			<runTest>VPM_SearchVendor1</runTest>
			<runTest>VPM_SearchVendor1Test</runTest>
			<runTest>VPM_TestDataFactory</runTest>
			<runTest>VPM_VendorDetailsServicesHelper</runTest>
			<runTest>VPM_CheckRecursive</runTest>
        </sf:deploy>
    </target>
</project>