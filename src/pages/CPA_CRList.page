<apex:page standardController="CPA_project_work_order__c"  title="PWO List" extensions="CPA_CRListController"  docType="html-5.0"  id="thePage">

<apex:form >
    <apex:outputpanel id="lockRecordpanel">
        <apex:pageBlock title="PWO Items">
            <apex:outputPanel layout="block"  >
                <apex:pageBlockTable value="{!PwoObjList}" var="obj">
                    <apex:column style="width:20%;">
                        <apex:facet name="header">ID </apex:facet>
                        {!obj.Name}
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <apex:facet name="header" >Efforts </apex:facet>
                        <apex:outputPanel rendered="{!IF(obj.num_Estimated_Man_days_of_PWO__c !=null , 'true', 'false')}">
                            {!obj.num_Estimated_Man_days_of_PWO__c}
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(obj.num_Expense_charges_of_work_order__c==null , 'true', 'false')}">
                            --
                        </apex:outputPanel>
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <apex:facet name="header">Total Cost</apex:facet>
                        <apex:outputPanel rendered="{!IF(obj.num_Estimated_Value_of_PWO__c !=null , 'true', 'false')}">
                            {!obj.num_Estimated_Value_of_PWO__c}
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(obj.num_Estimated_Value_of_PWO__c ==null , 'true', 'false')}">
                            --
                        </apex:outputPanel>
                    </apex:column>
                    <apex:column style="width:20%; " >
                        <apex:facet name="header">Expense</apex:facet>
                        <apex:outputPanel rendered="{!IF(obj.num_Expense_charges_of_work_order__c!=null , 'true', 'false')}">
                        {!obj.num_Expense_charges_of_work_order__c}
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(obj.num_Expense_charges_of_work_order__c==null , 'true', 'false')}">
                        --
                        </apex:outputPanel>
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <apex:facet name="header">Blend Rate</apex:facet>
                        <apex:outputPanel rendered="{!IF(Blendrate !=null , 'true', 'false')}">
                            <apex:outputText value="{0,number,0.00}">
                                    <apex:param value="{!Blendrate}" />
                            </apex:outputText>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(Blendrate ==null , 'true', 'false')}">
                        --
                        </apex:outputPanel>
                    </apex:column>
                </apex:pageBlockTable>
                <apex:variable var="i" value="{!1}"/>
                <apex:pageBlockTable value="{!innerCrObj}" var="obj" >
                    <apex:column style="width:20%;">
                        <!--<apex:facet name="header">ID </apex:facet>-->
                        {!obj.Name}
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <!--<apex:facet name="header">Efforts </apex:facet>-->
                        <apex:outputText value="{0,number,0.00}">
                                <apex:param value="{!obj.efforts}" />
                        </apex:outputText>
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <!--<apex:facet name="header">Total Cost</apex:facet>-->
                        <apex:outputText value="{0,number,0.00}">
                                <apex:param value="{!obj.totalcost}" />
                        </apex:outputText>
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <!--<apex:facet name="header">Expense</apex:facet>-->
                        <apex:outputText value="{0,number,0.00}">
                                <apex:param value="{!obj.expense}" />
                        </apex:outputText>
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <!--<apex:facet name="header">Blend Rate</apex:facet>-->
                        <apex:outputText value="{0,number,0.00}">
                                <apex:param value="{!obj.BlendRate}" />
                        </apex:outputText>
                    </apex:column>
                    <apex:variable var="i" value="{!i+1}"/>      
                </apex:pageBlockTable>
                
                
                <apex:pageBlockTable value="{!PwoObjList}" var="obj">
                    <apex:column style="width:20%;">
                        <apex:facet name="footer">Summary</apex:facet>
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <apex:facet name="footer">
                            <apex:outputText value="{0,number,0.00}">
                                <apex:param value="{!effortstotal}" />
                            </apex:outputText>
                        </apex:facet>
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <apex:facet name="footer">
                            <apex:outputText value="{0,number,0.00}">
                                <apex:param value="{!costtotal}" />
                            </apex:outputText>
                        </apex:facet>
                    </apex:column>
                    <apex:column style="width:20%; " >
                        <apex:facet name="footer">
                            <apex:outputText value="{0,number,0.00}">
                                <apex:param value="{!expensetotal}" />
                            </apex:outputText>
                        </apex:facet>
                    </apex:column>
                    <apex:column style="width:20%; ">
                        <apex:facet name="footer">
                            <apex:outputText value="{0,number,0.00}">
                                <apex:param value="{!blendratetotal}" />
                            </apex:outputText>
                        </apex:facet>
                    </apex:column>
                </apex:pageBlockTable>
            </apex:outputPanel>
        </apex:pageBlock>
    </apex:outputpanel>
</apex:form>
</apex:page>