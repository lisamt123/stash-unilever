<apex:page standardController="VPM_PurchasingRequests__c" standardStylesheets="true"
           sidebar="false" extensions="VPM_GoldenDataController2" language="{!userlang}" action="{!ApprovalMaintain1}" >
           <chatter:feedWithFollowers entityid="{!VPM_PurchasingRequests__c.Id}" id="ChatterBlock"  />
    <apex:form >
  
  
    <apex:pageBlock title="{!$Label.VPM_CordilleraGoldenDataScreen}">
           <apex:pagemessages id="pageMessages" />  
            
            <apex:pageBlockButtons > 
            <apex:commandButton action="{!backToFlow}" value="{!$Label.VPM_Back}" immediate="true"/>
            
            <apex:commandButton action="{!saveRecord}" value="{!$Label.VPM_SaveExitButton}" reRender="hiddenBlock,pageMessages" status="actStatusId" />

        </apex:pageBlockButtons>
        <apex:pageBlock id="hiddenBlock" rendered="false"></apex:pageBlock> 
        <apex:pageBlockSection columns="1" id="thePageBlock">                
            <apex:outputText label="{!$Label.VPM_VendorCode}" value="{!vendorCode}"/>  
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="{!$Label.Account_Group}" for="ACCGrp"/>
                <apex:outputPanel >
                    <apex:actionRegion >                  
                        <apex:inputField id="ACCGrp" value="{!VPM_PurchasingRequests__c.VPM_AccountGroup__c}" required="true">                
                            <apex:actionSupport event="onchange" action="{!newMethod1}"  reRender="shippingRequired"/> 
                        </apex:inputField>
                    </apex:actionRegion>
                </apex:outputPanel>                
            </apex:pageBlockSectionItem>   
            
               <apex:outputPanel style="display:none;visibility:hidden">
                    <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_ECC__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_ECC__c}"/></apex:outputpanel>
              <apex:pageBlockSectionItem helpText="{!$Label.VPM_SiriusGoldenDataHelptext1}">
                  <apex:outputLabel value="{!$Label.VPM_TradePartnerType}" id="TradPartLbl" for="TradePartnerType" />
                  <apex:inputField id="TradePartnerType" value="{!VPM_PurchasingRequests__c.VPM_TradePartnerType__c}" required="true"/>
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem helpText="{!$Label.VPM_SiriusGoldenDataHelptext2}">            
                <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_CompanyCode__c.Label}" />
                <apex:outputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_CompanyCode__c.Label}"  value="{!VPM_PurchasingRequests__c.VPM_CompanyCode__r.Company_Name__c}" />
                
            </apex:pageBlockSectionItem>              
                 
                 
                  
                  
                  <apex:pageBlockSectionItem labelStyle="width: 300px" dataStyle="width: 200px" >
                  
                 <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_VendorName1__c.Label}"/>
                 <apex:outputPanel layout="block" styleClass="requiredInput">
                 <apex:outputpanel layout="block" styleClass="requiredBlock"/>
                  <apex:actionRegion >   
                  <apex:inputText label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_VendorName1__c.Label}" value="{!VendorName}" required="true">
                  <apex:actionSupport event="onchange" reRender="section1" action="{!vendorNameChange}"/>
                  </apex:inputText>
                  </apex:actionRegion>    
                  </apex:outputpanel>
                  
                 </apex:pageBlockSectionItem>
                 
                 <apex:pageBlockSection id="section1">
                 <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" >
                 <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_SearchTerm_1__c.Label}"/>
                 <apex:outputPanel layout="block" styleClass="requiredInput">
                 <apex:outputpanel layout="block" styleClass="requiredBlock"/>
                 <apex:inputText label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_SearchTerm_1__c.Label}" value="{!searchTerm1}" />
                 </apex:outputPanel>
                 </apex:pageBlockSectionItem>
                 </apex:pageBlockSection>
                
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_Street1__c.label}" value="{!VPM_PurchasingRequests__c.VPM_Street1__c }" required="true"/>
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_City__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_City__c}"  required="true"/>
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_Country__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_Country__c }" required="true"/> 
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_TaxJurisdictionCode__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_TaxJurisdictionCode__c}" required="true"/>
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_PaymentTerms__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_PaymentTerms__c}" required="true" />
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_ReconciliationAccount__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_ReconciliationAccount__c}" required="true"/>
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_SortKey__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_SortKey__c}" required="true"/>
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_PaymentMethod__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_PaymentMethod__c}" required="true"/>
                 
                  
                 
                  <apex:pageBlockSectionItem labelStyle="width: 300px" dataStyle="width: 200px" >
                 <apex:outputLabel value="{!$Label.VPM_PurchasingOrganisation}" />
                 <apex:outputPanel layout="block" styleClass="requiredInput">
                 <apex:outputpanel layout="block" styleClass="requiredBlock"/>
                  <apex:selectList value="{!vendorPurchasingOrg}" multiselect="false" label="{!$Label.VPM_PurchasingOrganisation}" size="1" required="true">
                    <apex:selectOptions value="{!purchasingOrg}"/>
                </apex:selectList>
                  
                   </apex:outputPanel>  
                 </apex:pageBlockSectionItem> 
                 
                 
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_CheckDoubleInvoices__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_CheckDoubleInvoices__c}" required="true"/>
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_OrderCurrency__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_OrderCurrency__c}" required="true"/>
                 <apex:pageBlockSection id="shippingRequired">
                 <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" >
                 <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_ShippingConditions__c.Label}"/>    
                <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_ShippingConditions__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_ShippingConditions__c}" required="{!isRequired}"/>
                     </apex:pageBlockSectionItem>
               </apex:pageBlockSection>     
            </apex:pageBlockSection>  
         </apex:pageBlock>     
   </apex:form>
    <c:VPM_LoadingComponent />
</apex:page>