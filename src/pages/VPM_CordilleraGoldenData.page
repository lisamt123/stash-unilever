<apex:page standardController="VPM_PurchasingRequests__c" standardStylesheets="true"
           sidebar="false" extensions="VPM_GoldenDataController2" language="{!userlang}" action="{!ApprovalMaintain1}" >
           <chatter:feedWithFollowers entityid="{!VPM_PurchasingRequests__c.Id}" id="ChatterBlock"  />
    <apex:form >
  
  <apex:pageBlock title="{!$Label.VPM_ErrorMessageScreen}"  rendered="{!Errormsgblock}" >
     <apex:pagemessages />  
            <apex:pageBlockButtons > 
            <apex:commandButton action="{!backToFlow}" value="{!$Label.VPM_Back}" immediate="true"/>
        </apex:pageBlockButtons>
  </apex:pageBlock>
        
        
    <apex:pageBlock title="{!$Label.VPM_CordilleraGoldenDataScreen}" rendered="{!GoldenDatablock}" >
           <apex:pagemessages id="pageMessages" />  
            
            <apex:pageBlockButtons > 
            <apex:commandButton action="{!backToGlobalScreen}" value="{!$Label.VPM_Back}" immediate="true"/>
            <apex:commandButton action="{!saveAndBackToLaunchScreen}" value="{!$Label.VPM_SaveButton}" reRender="hiddenBlock,pageMessages" status="actStatusId"/>
            <apex:commandButton action="{!saveRecordRegional}" value="{!$Label.VPM_SaveSubmitLabel}" reRender="hiddenBlock,pageMessages" status="actStatusId" />

        </apex:pageBlockButtons>
        
        
        <apex:pageBlock id="hiddenBlock" rendered="false"></apex:pageBlock> 
        <apex:pageBlockSection columns="1" id="thePageBlock">                
            <apex:outputText label="{!$Label.VPM_VendorCode}" value="{!vendorCode}" rendered="{!NOT(isCreate)}"/>  
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="{!$Label.Account_Group}" for="ACCGrp"/>
                <apex:outputPanel >
                    <apex:actionRegion >                  
                        <apex:inputField id="ACCGrp" value="{!VPM_PurchasingRequests__c.VPM_AccountGroup__c}" required="true">                
                            <apex:actionSupport event="onchange" action="{!newMethod1}"  reRender="shippingRequired"/> 
                        </apex:inputField>
                    </apex:actionRegion>
                </apex:outputPanel>                
            </apex:pageBlockSectionItem>   
            
               <apex:outputPanel style="display:none;visibility:hidden">
                    <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_ECC__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_ECC__c}"/>
            </apex:outputpanel>
              
            <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" helpText="{!$Label.VPM_TradePartnerTypeHelpText}">
                <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_TradePartnerType__c.Label}"/>
                <apex:outputPanel layout="block" styleClass="requiredInput">
                    <apex:outputpanel layout="block" styleClass="requiredBlock"/>
                    <apex:selectList value="{!tradepartnerType}"  multiselect="false" size="1">
                        <apex:selectOptions value="{!tradePartnerTypeList}"/>                            
                    </apex:selectList>
                    <!--apex:inputField value="{!VPM_PurchasingRequests__c.VPM_TradePartnerType__c}" /-->
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
                 
            
            <apex:pageBlockSectionItem helpText="{!$Label.VPM_SiriusGoldenDataHelptext2}">            
                <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_CompanyCode__c.Label}" />
                <apex:outputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_CompanyCode__c.Label}"  value="{!VPM_PurchasingRequests__c.VPM_CompanyCode__r.Company_Name__c}" />
            </apex:pageBlockSectionItem>
            
                        <!--apex:pageBlockSectionItem labelStyle="width: 300px" dataStyle="width: 200px">
            
            <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_VendorName1__c.Label}"/>
            <apex:outputPanel layout="block" styleClass="requiredInput">
            <apex:outputpanel layout="block" styleClass="requiredBlock"/>
            <apex:actionRegion >   
            <apex:inputText label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_VendorName1__c.Label}" value="{!VendorName}" >
            <apex:actionSupport event="onchange" reRender="section1" action="{!vendorNameChange}"/>
            </apex:inputText>
            </apex:actionRegion>    
            </apex:outputpanel>
            
            </apex:pageBlockSectionItem-->
                        
                        <!--apex:pageBlockSection id="section1">
            <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" >
            <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_SearchTerm_1__c.Label}"/>
            <apex:outputPanel layout="block" styleClass="requiredInput">
            <apex:outputpanel layout="block" styleClass="requiredBlock"/>
            <apex:inputText label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_SearchTerm_1__c.Label}" value="{!searchTerm1}" />
            </apex:outputPanel>
            </apex:pageBlockSectionItem>
            </apex:pageBlockSection-->
                
                
                 <!--apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_Street1__c.label}" value="{!VPM_PurchasingRequests__c.VPM_Street1__c }" required="true"/-->
                 <!--apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_City__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_City__c}"  required="true"/-->
                <apex:pageBlockSectionItem HelpText="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_OrderingEmailAddress__c.inlineHelpText}" rendered="{!showOrderingEmail}">
                    <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_OrderingEmailAddress__c.Label}"/>      
                    <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_OrderingEmailAddress__c.Label}"   value="{!VPM_PurchasingRequests__c.VPM_OrderingEmailAddress__c}" required="{!isReqOrderingEmail}" rendered="{!showOrderingEmail}"/>
                </apex:pageBlockSectionItem> 
                <!--apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" >
                 <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_Country__c.Label}"/>
                 <apex:outputPanel layout="block" styleClass="requiredInput">
                 <apex:outputpanel layout="block" styleClass="requiredBlock"/-->
                 <!--apex:inputField value="{!VPM_PurchasingRequests__c.VPM_Country__c}" required="true" /-->
                 <!--/apex:outputPanel>
                 </apex:pageBlockSectionItem-->
                 <!--apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" >
                 <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_TaxJurisdictionCode__c.Label}"/>
                 <apex:outputPanel layout="block" styleClass="requiredInput">
                 <apex:outputpanel layout="block" styleClass="requiredBlock"/>
                <apex:inputField value="{!VPM_PurchasingRequests__c.VPM_TaxJurisdictionCode__c}" /> 
                 </apex:outputPanel>
                 </apex:pageBlockSectionItem-->
                <apex:pageBlockSectionItem HelpText="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_PaymentTerms__c.inlineHelpText}">    
                    <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_PaymentTerms__c.Label}" />    
                         <apex:outputPanel layout="block" styleClass="requiredInput">
                             <apex:outputpanel layout="block" styleClass="requiredBlock"/>                  
                              <apex:selectList value="{!vendorPaymentTerms}"  multiselect="false" size="1">
                               <apex:selectOptions value="{!paymentTerms}"/>                            
                               </apex:selectList>
                               <!--apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_PaymentTerms__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_PaymentTerms__c}"/ -->
                         </apex:outputPanel>
              </apex:pageBlockSectionItem>
              <apex:pageBlockSectionItem HelpText="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_TermsOfPayment__c.inlineHelpText}">        
                    <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_TermsOfPayment__c.Label}" />    
                         <apex:outputPanel layout="block" styleClass="requiredInput">
                             <apex:outputpanel layout="block" styleClass="requiredBlock"/>                  
                              <apex:selectList value="{!termsOFPayment}"  multiselect="false" size="1">
                               <apex:selectOptions value="{!termsofPaymentOptions}"/>                            
                               </apex:selectList>
                    </apex:outputPanel>
              </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem HelpText="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_ReconciliationAccount__c.inlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_ReconciliationAccount__c.Label}"/>
                    <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_ReconciliationAccount__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_ReconciliationAccount__c}" required="true"/>
                </apex:pageBlockSectionItem>
                <apex:inputField value="{!VPM_PurchasingRequests__c.VPM_SortKey__c}" />
                <apex:selectList value="{!vendorCashManagementGrp}"  multiselect="false" size="1" label="Cash management Group">
                    <apex:selectOptions value="{!CashManagementGrp}"/>
                  </apex:selectList>
                <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" rendered="{!if((purchReqVar.VPM_PaymentMethodWeb__c <> null && purchReqVar.VPM_PaymentMethodWeb__c <> ''),true,false)}">
                   <apex:outputLabel value="{!$Label.VPM_SAPPaymentMethod}"/>
                   <apex:outputText value="{!purchReqVar.VPM_PaymentMethodWeb__c}"/> 
               </apex:pageBlockSectionItem> 
               <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" rendered="{!if((purchReqVar.VPM_PaymentMethod__c <> null && purchReqVar.VPM_PaymentMethod__c <> '' && purchReqVar.VPM_PaymentMethod__c <> '[]'),true,false)}">
                   <apex:outputLabel value="{!$Label.VPM_PreSelectedPaymentMethod}"/>
                   <apex:outputField value="{!purchReqVar.VPM_PaymentMethod__c}"/> 
               </apex:pageBlockSectionItem>  
                 <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" HelpText="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_PaymentMethod__c.inlineHelpText}"> 
                   <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_PaymentMethod__c.Label}"/>
                   <!--apex:outputPanel layout="block" styleClass="requiredInput">
                       <apex:outputpanel layout="block" styleClass="requiredBlock"/-->
                       <apex:selectList value="{!vendorPaymentMethod}" multiselect="true" label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_PaymentMethod__c.Label}" size="5">
                           <apex:selectOptions value="{!PaymentMethod}"/>
                       </apex:selectList>
                   <!--/apex:outputPanel-->
               </apex:pageBlockSectionItem>
                 <apex:outputField label="{!$Label.VPM_PurchasingOrganisation}" value="{!VPM_PurchasingRequests__c.VPM_PurchasingOrg__c}" />
                 <!--apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" >
                 <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_CheckDoubleInvoices__c.Label}"/>
                 <apex:outputPanel layout="block" styleClass="requiredInput">
                 <apex:outputpanel layout="block" styleClass="requiredBlock"/>
                 <apex:inputCheckbox label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_CheckDoubleInvoices__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_CheckDoubleInvoices__c}" selected="true"/>
                 </apex:outputPanel>
                 </apex:pageBlockSectionItem-->
                 <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.Fields.VPM_CheckDoubleInvoices__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_CheckDoubleInvoices__c}" />   
                <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" HelpText="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_OrderCurrency__c.inlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_OrderCurrency__c.Label}"/>
                    <apex:outputPanel layout="block" styleClass="requiredInput">
                        <apex:outputpanel layout="block" styleClass="requiredBlock"/>
                        <apex:inputField value="{!VPM_PurchasingRequests__c.VPM_OrderCurrency__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                 
                     <apex:pageBlockSectionItem labelStyle="width: 100px" dataStyle="width: 200px" >
                         <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_ShippingConditions__c.Label}"/>    
                         <apex:selectList value="{!shippingConditionsDefValue}" multiselect="false" label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_ShippingConditions__c.Label}" size="1">
                             <apex:selectOptions value="{!shippingConditionsOptions}"/>
                         </apex:selectList>
                     </apex:pageBlockSectionItem>
               
            </apex:pageBlockSection>  
         </apex:pageBlock>     
   </apex:form>
    <c:VPM_LoadingComponent />
</apex:page>