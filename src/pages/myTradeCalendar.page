<apex:page standardController="ACCL__Promotion__c" extensions="MyMetaDataRemoteActionExtension,MyContractRemoteActionExtension,MyPromotionRemoteActionExtension,MyPromotionRemoteActionExtension2,ACCL.AccountRemoteActionExtension,ACCL.AccountSetRemoteActionExtension,ACCL.ContractRemoteActionExtension,ACCL.LogRemoteActionExtension,ACCL.MetaDataRemoteActionExtension,ACCL.PromotionPlanningController,ACCL.PromotionRemoteActionExtension,ACCL.PromotionTemplateRemoteActionExtension,ACCL.TacticTemplateRemoteActionExtension" showHeader="true" standardStylesheets="false" sidebar="true" applyHtmlTag="true" applyBodyTag="false" docType="html-5.0">
    
    
    <apex:pageMessages />  
    <head>
        <meta charset="UTF-8"/>
        <apex:stylesheet value="{!URLFOR($Resource.ACCL__SLDS202, '/assets/styles/salesforce-lightning-design-system.css')}" />
        <link rel="stylesheet" href="{!URLFOR($Resource.projectDist2, '/dist/vendor.css')}"/>
        <link rel="stylesheet" href="{!URLFOR($Resource.projectDist2, '/dist/ui.css')}"/>
    </head> 
    <apex:pageMessages />              
    <body>
        <div id="modal"></div>
        <div id="root" class="slds"></div>
        <script>
        var i18nURL="{!URLFOR($Resource.projectDist2, '/dist/assets/i18n/')}";
        var sfldsURL="{!URLFOR($Resource.ACCL__SLDS202, '/assets')}";
        var customImageURL = "{!URLFOR($Resource.ACCL__assets, '/assets/images/')}";
         </script>
        
        <script src="{!URLFOR($Resource.projectDist2, '/dist/vendor.js')}">
        </script> 
        <script src="{!URLFOR($Resource.projectDist2, '/dist/services.js')}">
        </script>   
        <script src="{!URLFOR($Resource.projectDist2, '/dist/arch.js')}">
        </script>   
        <script src="{!URLFOR($Resource.projectDist2, '/dist/contracts.js')}">
        </script>  
        <script src="{!URLFOR($Resource.projectDist2, '/dist/ui.js')}">
        </script>  
        
<script>
  
    var boExtPromotionCalendar = {};
    var ACSFNamespace = 'ACCL';
    var CustomNamespace = 'UL_';

  UI_EVENT_BUS.subscribe(EVENTS.APP_READY, function () {
        var promise;

        if(window.localVF) promise = localVF.initFromConfig();
        else if(window.MetaDataService) promise = MetaDataService.connect();
        else promise = when.resolve();

        promise.then(function () {

            // Step 1: load artifacts

            return when.all([
                AppManager.initApex(),
                AppManager.load(['BOExtPromotionCalendar'])
            ]);

        }).then(function () {

            // Step 2: load metadata

            BOFactory.instantiate('BOExtPromotionCalendar').then(bo => boExtPromotionCalendar = bo);
            return AppManager.init();

        }).then(function (res) {

            // Step 3: render

            var uiStartTime = new Date();
            ReactDOM.render(React.createElement(PromotionCalendar), document.getElementById('root'));
            console.log('Render of UI took', (new Date() - uiStartTime), 'ms');

        });
    });
</script>
     
    </body>    
</apex:page>