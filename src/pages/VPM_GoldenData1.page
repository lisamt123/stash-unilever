<apex:page standardController="VPM_PurchasingRequests__c" standardStylesheets="true"
       sidebar="false" extensions="VPM_GoldenDataController2" language="{!userlang}">
<script>
debugger;
 localStorage.removeItem("cancelClicked");
</script>
<chatter:feedWithFollowers entityid="{!VPM_PurchasingRequests__c.Id}" id="ChatterBlock"  />
<apex:form >
<apex:pageBlock title="{!$Label.VPM_Golden_Data_Screen_1}" id="thePageBlock">
    <apex:pagemessages id="pageMessages"/>
    <apex:pageBlockButtons >    
        <apex:commandButton action="{!backToFlow}" value="{!$Label.VPM_GoldenDataBackButton}" immediate="true" status="actStatusId"/>          
        <apex:commandButton action="{!saveRecord}" value="{!$Label.VPM_SaveExitButton}" reRender="hiddenBlock,pageMessages" status="actStatusId"/>
    </apex:pageBlockButtons>
    
       <apex:pageBlock id="hiddenBlock" rendered="false"></apex:pageBlock> 
    
       <apex:pageBlockSection columns="1">
          <b><apex:outputLabel value="{!$Label.VPM_GoldenDataDisplayText}" style="font-weight:bold;color:#4a4a56;"></apex:outputlabel></b>  
           <apex:pageBlockSectionItem >
           
              <apex:outputLabel value="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_Country__c .label}" 
                    for="stage"/>
                <apex:outputPanel >
                   <apex:actionRegion >                  
                     <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_Country__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_Country__c }" required="true">
                     <apex:actionSupport event="onchange" action="{!newMethod}"  reRender="thePageBlock"/>                     
                   </apex:inputField>
                 </apex:actionRegion>
               </apex:outputPanel>             
            </apex:pageBlockSectionItem>  
            
            <apex:outputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_CountryRequestingVendor__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_CountryRequestingVendor__c}" />
            <!-- apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_ECC__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_ECC__c}" required="true" / -->
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_VendorName1__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_VendorName1__c}" required="true"/>  
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_Street1__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_Street1__c}" required="true"/>                 
            
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="{!$Label.VPM_PostalCode}"/>
               <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_ZIPPostcode__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_ZIPPostcode__c}" required="{!isRequiredFieldCountry}"/>
            </apex:pageBlockSectionItem>
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_Regions__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_Regions__c }" required="{!isRequiredFieldCountry}" />
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_City__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_City__c }" required="true" />
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_TaxNumber1__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_TaxNumber1__c }" required="{!isRequiredFieldCountry}" />
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_TaxNumber3__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_TaxNumber3__c }" required="{!isRequiredFieldCountry}"/>
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_TaxJurisdictionCode__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_TaxJurisdictionCode__c}" required="{!isRequiredFieldCountry}"/>
            <!--<apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_Commodity__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_Commodity__c}" required="true"/> -->
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_Spend__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_Spend__c}"  required="{!isRequiredSpend}"/>      
            <apex:inputField label="{!$ObjectType.VPM_PurchasingRequests__c.fields.VPM_AlreadyAvailableSupplierUse__c.Label}" value="{!VPM_PurchasingRequests__c.VPM_AlreadyAvailableSupplierUse__c}" required="true"/>            
                   
    </apex:pageBlockSection>  
     </apex:pageBlock>          
</apex:form>
<c:VPM_LoadingComponent />
</apex:page>