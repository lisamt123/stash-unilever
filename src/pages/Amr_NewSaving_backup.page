<apex:page controller="Amr_NewSavingController">
    
    <apex:include pageName="amr_common" />
    <!--  
    <apex:includeScript value="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"/>
    -->
    <style type="text/css">
    
    .commonPCEuroAmount,.commonPPCEuroAmount,.TotalAcceptedFinalCostAccepted,.commonCAEuroAmount,.PPCEuroAmountAccepted,.PCEuroAmountAccepted,.CAEuroAmountAccepted{
            background-color:#E6E6E6 !important;
        }

</style>

<script>
    function isNumber(evt) {
                evt = (evt) ? evt : window.event;
                var charCode = (evt.which) ? evt.which : evt.keyCode;
                if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
        }
                return true;
       }
        
        function disableOnSubmit(input) {
            var btn = input;
            setTimeout(function(){ 
                btn.disabled = 'disabled';
                // Use the Salesforce CSS style to make the button appear disabled
                btn.className = 'btnDisabled';
                btn.value = "Saving..."; 
            }, 50);
        }
    function PCEuroAmountAccepted(){
          var stringArray = JSON.parse('{!lstcov }');
          var PCCurrency = $j('.PCCurrencyAccepted').val();
          var PCLocalAmount = $j('.PCLocalAmountAccepted').val();
          alert('inside'+PCLocalAmount);
          alert('PCCurrency'+PCLocalAmount);
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == PCCurrency ){
                         console.debug('inside'+PCLocalAmount);
                         if(PCLocalAmount == 0.000){
                            PCLocalAmount = 0;
                         }
                          if(PCLocalAmount !==0){
                             if(PCLocalAmount !==null && PCLocalAmount !==""){
                                  PCLocalAmount = parseInt(PCLocalAmount);
                                 $j('.PCEuroAmountAccepted').val(stringArray[i].Currency_Unit_To_Euro__c/PCLocalAmount);
                             }         
                          }else{
                          
                               $j('.PCEuroAmountAccepted').val(0);
                          }
                    }
                    
            }
            
            var PPCEuroAmount = $j('.PPCEuroAmountAccepted').val();
           
            
            
            var CAEuroAmount = $j('.CAEuroAmountAccepted').val();
           
           
             
            var PCEuroAmount = $j('.PCEuroAmountAccepted').val();
            
           
            
            if(PCEuroAmount !== "" && PPCEuroAmount !=="" && CAEuroAmount!== ""){
                  PPCEuroAmount = parseFloat(PPCEuroAmount);
                  CAEuroAmount = parseFloat(CAEuroAmount);
                  PCEuroAmount =  parseFloat(PCEuroAmount);
                  var total = PCEuroAmount+PPCEuroAmount+CAEuroAmount;
                 
                  total = total.toFixed(4);
                  console.debug('===>'+total );
                 $j('.TotalAcceptedFinalCostAccepted').val(total);
            }
          
      }
      
      function PPCEuroAmountAccepted(){
         var stringArray = JSON.parse('{!lstcov }');
          var PPCCurrency = $j('.PPCCurrencyAccepted').val();
          var PPCLocalAmount = $j('.PPCLocalAmountAccepted').val();
         
          
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == PPCCurrency){
                         console.debug('inside');
                         if(PPCLocalAmount == "0.000"){
                            PPCLocalAmount = "0";
                         }
                          if(PPCLocalAmount!=="0"){
                             if(PPCLocalAmount!==null && PPCLocalAmount!==""){
                                  PPCLocalAmount = parseInt(PPCLocalAmount);
                                 $j('.PPCEuroAmountAccepted').val(stringArray[i].Currency_Unit_To_Euro__c/PPCLocalAmount);
                             }         
                          }else{
                          
                               $j('.PPCEuroAmountAccepted').val(0);
                          }
                    }
                    
            }
            
            var PPCEuroAmount = $j('.PPCEuroAmountAccepted').val();
           
            
            
            var CAEuroAmount = $j('.CAEuroAmountAccepted').val();
            
           
             
            var PCEuroAmount = $j('.PCEuroAmountAccepted').val();
           
           
            
            if(PCEuroAmount !== "" && PPCEuroAmount !=="" && CAEuroAmount!== ""){
                 PPCEuroAmount = parseFloat(PPCEuroAmount);
                 CAEuroAmount = parseFloat(CAEuroAmount);
                 PCEuroAmount =  parseFloat(PCEuroAmount);
                 
                 var total = PCEuroAmount+PPCEuroAmount+CAEuroAmount;
                 
                  total = total.toFixed(4);
                  console.debug('===>'+total );
                 $j('.TotalAcceptedFinalCostAccepted').val(total);
            }
          
      }
      
      function CAEuroAmountAccepted(){
          var stringArray = JSON.parse('{!lstcov }');
          var CACurrency = $j('.CACurrencyAccepted').val();
          var CALocalAmount = $j('.CALocalAmountAccepted').val();
          
          
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == CACurrency){
                         console.debug('inside');
                         if(CALocalAmount == "0.000"){
                            CALocalAmount = "0";
                         }
                          if(CALocalAmount !=="0"){
                             if(CALocalAmount !==null && CALocalAmount !==""){
                                  CALocalAmount = parseInt(CALocalAmount);
                                 $j('.CAEuroAmountAccepted').val(stringArray[i].Currency_Unit_To_Euro__c/CALocalAmount );
                             }         
                          }else{
                          
                               $j('.CAEuroAmountAccepted').val(0);
                          }
                    }
                    
            }
            
            var PPCEuroAmount = $j('.PPCEuroAmountAccepted').val();
           
            
            var CAEuroAmount = $j('.CAEuroAmountAccepted').val();
            
           
             
            var PCEuroAmount = $j('.PCEuroAmountAccepted').val();
           
           
            
            if(PCEuroAmount !== "" && PPCEuroAmount !=="" && CAEuroAmount!== ""){
                   PPCEuroAmount = parseFloat(PPCEuroAmount);
                   CAEuroAmount = parseFloat(CAEuroAmount);
                   PCEuroAmount =  parseFloat(PCEuroAmount);
                  var total = PCEuroAmount+PPCEuroAmount+CAEuroAmount;
                 
                  total = total.toFixed(4);
                  console.debug('===>'+total );
                 $j('.TotalAcceptedFinalCostAccepted').val(total);
            }
          
      }
</script>
   
    <apex:form >
     <apex:pageMessages id="msg"/>
       <apex:actionRegion >
        
        </apex:actionRegion>
       <apex:pageBlock >
        <apex:pageBlockSection title="New Saving line" columns="2" collapsible="false">
            <apex:outputText value="{!adManagerNumber}" label="AdManager Number"/>
            <apex:inputField value="{!savingObj.Production_Type__c}"/>
            <apex:inputField value="{!savingObj.No_of_Masters__c}" />
            <apex:inputField value="{!savingObj.Duration_of_Masters__c}" />
            <apex:inputField value="{!savingObj.No_of_Additional_Films__c}" />
            <apex:inputField value="{!savingObj.Duration_of_Additional_Films__c}" />
            <apex:inputField value="{!savingObj.No_of_shoot_days__c}" />
            <apex:inputField value="{!savingObj.Stage_RAP_engaged__c}" />
            <apex:selectList value="{!selectedCountry}" multiselect="true" size="5" label="Shoot Location">
                  <apex:selectOptions value="{!shootLocation}"/>
            </apex:selectList>
            <apex:inputField value="{!savingObj.Script_Title__c}" />
            <apex:inputField value="{!savingObj.Scope_re_brief__c}" />
            <apex:inputField value="{!savingObj.Folder_Name__c}" />
            <apex:inputFile value="{!document.body}" filename="{!document.name}" id="test"/>
        </apex:pageBlockSection>
        
         <apex:actionRegion >
            <apex:commandButton value="save" action="{!SaveSaving}"/>
         </apex:actionRegion>
         
      </apex:pageBlock>
      
      
  
      <apex:pageBlock >
       <apex:actionregion >
        <apex:commandLink value="Add Quote" action="{!addRowQuote}" reRender="quoteSection,msg" status="actStatusIdQuote" styleclass="btn commonbtn" />
        <apex:actionStatus id="actStatusIdQuote" >
                                            <apex:facet name="start" >
                                                <img src="/img/loading.gif" />                    
                                            </apex:facet>
                                        </apex:actionStatus>
     </apex:actionregion>
                                    
     </apex:pageBlock>
        <apex:pageBlock id="quoteSection">
            <script type="text/javascript">
               var stringArray = JSON.parse('{!lstcov }');
                $j(function(){
                   
                    
                    $j('.commonCurrencyRelated').on('change',function(){
                        //var a = $j(this).closest('.adMangerNo').attr('number-id');
                        var a = $j(this).val();
                        var data_id = $j(this).attr('data-id');
                        alert('data-id'+data_id);
                       var PCLocalAmount = $j('.PCLocalAmount'+data_id).val();
                       var PCEuroAmount = $j('.PCEuroAmount'+data_id).val();
                       var  PCCurrency = $j('.commonCurrencyRelated').val();
                        //alert(PCLocalAmount);
                       // alert(PCEuroAmount);
                       // alert(PCCurrency);
                       for(var i=0;i<stringArray.length;i++){
                            console.debug('from backEnd'+stringArray[i]);
                            if(stringArray[i].Currency_Unit__c == PCCurrency ){
                               console.debug('Pc Currency==>'+PCCurrency);
                                 if(PCLocalAmount !==0){
                                     if(PCLocalAmount !==null && PCLocalAmount !==""){
                                          PCLocalAmount = parseInt(PCLocalAmount);
                                         $j('.PCEuroAmount'+data_id).val(stringArray[i].Currency_Unit_To_Euro__c/PCLocalAmount);
                                     }         
                                 }else{
                              
                                   $j('.PCEuroAmount'+data_id).val(0);
                                 }
                            }
                       }
                        
                    });
                    
                    $j('.commonPCLocalAmount').on('keyup',function(){
                        //var a = $j(this).closest('.adMangerNo').attr('number-id');
                        var a = $j(this).parent().find('.commonCurrencyRelated').val();
                        var data_id = $j(this).parent().find('.commonCurrencyRelated').attr('data-id');
                        alert('data-id'+data_id);
                        var PCLocalAmount = $j('.PCLocalAmount'+data_id).val();
                        var PCEuroAmount = $j('.PCEuroAmount'+data_id).val();
                        var PCCurrency = $j('.commonCurrencyRelated').val();
                       
                       // alert(PCCurrency);
                       // alert(PCLocalAmount);
                       // alert(PCEuroAmount);
                        
                        for(var i=0;i<stringArray.length;i++){
                            console.debug('from backEnd'+stringArray[i]);
                            if(stringArray[i].Currency_Unit__c == PCCurrency ){
                               console.debug('Pc Currency==>'+PCCurrency);
                                 if(PCLocalAmount !==0){
                                     if(PCLocalAmount !==null && PCLocalAmount !==""){
                                          PCLocalAmount = parseInt(PCLocalAmount);
                                         $j('.PCEuroAmount'+data_id).val(stringArray[i].Currency_Unit_To_Euro__c/PCLocalAmount);
                                     }         
                                 }else{
                              
                                   $j('.PCEuroAmount'+data_id).val(0);
                                 }
                            }
                       }
                       
                    });
                    
                    
                    $j('.commonCurrencyRelatedPPC').on('change',function(){
                       
                        var a = $j(this).val();
                        var data_id = $j(this).attr('data-id');
                       
                       var PPCLocalAmount = $j('.PPCLocalAmount'+data_id).val();
                       var PPCEuroAmount = $j('.PPCEuroAmount'+data_id).val();
                       var PPCCurrency = $j('.commonCurrencyRelatedPPC').val();
                       // alert(PPCLocalAmount);
                      //  alert(PPCEuroAmount);
                      //  alert(PPCCurrency);
                       for(var i=0;i<stringArray.length;i++){
                            console.debug('from backEnd'+stringArray[i]);
                            if(stringArray[i].Currency_Unit__c == PPCCurrency ){
                               console.debug('pPc Currency==>'+PPCCurrency);
                                 if(PPCLocalAmount !==0){
                                     if(PPCLocalAmount !==null && PPCLocalAmount !==""){
                                          PPCLocalAmount = parseInt(PPCLocalAmount);
                                         $j('.PPCEuroAmount'+data_id).val(stringArray[i].Currency_Unit_To_Euro__c/PPCLocalAmount);
                                     }         
                                 }else{
                              
                                   $j('.PPCEuroAmount'+data_id).val(0);
                                 }
                            }
                       }
                        
                    });
                    
                     $j('.commonPPCLocalAmount').on('keyup',function(){
                       
                        var a = $j(this).val();
                       var data_id = $j(this).parent().find('.commonCurrencyRelatedPPC').attr('data-id');
                       alert(data_id);
                       var PPCLocalAmount = $j('.PPCLocalAmount'+data_id).val();
                       var PPCEuroAmount = $j('.PPCEuroAmount'+data_id).val();
                       var PPCCurrency = $j('.commonCurrencyRelatedPPC').val();
                        //alert(PPCLocalAmount);
                      //  alert(PPCEuroAmount);
                      //  alert(PPCCurrency);
                       for(var i=0;i<stringArray.length;i++){
                            console.debug('from backEnd'+stringArray[i]);
                            if(stringArray[i].Currency_Unit__c == PPCCurrency ){
                               console.debug('pPc Currency==>'+PPCCurrency);
                                 if(PPCLocalAmount !==0){
                                     if(PPCLocalAmount !==null && PPCLocalAmount !==""){
                                          PPCLocalAmount = parseInt(PPCLocalAmount);
                                         $j('.PPCEuroAmount'+data_id).val(stringArray[i].Currency_Unit_To_Euro__c/PPCLocalAmount);
                                     }         
                                 }else{
                              
                                   $j('.PPCEuroAmount'+data_id).val(0);
                                 }
                            }
                       }
                        
                     });
                     
                     
                     $j('.commonCurrencyRelatedCA').on('change',function(){
                       
                        var a = $j(this).val();
                        var data_id = $j(this).attr('data-id');
                       
                       var CALocalAmount = $j('.CALocalAmount'+data_id).val();
                       var CAEuroAmount = $j('.CAEuroAmount'+data_id).val();
                       var CACurrency = $j('.commonCurrencyRelatedCA').val();
                       // alert(CALocalAmount);
                       // alert(CAEuroAmount);
                      //  alert(CACurrency);
                       for(var i=0;i<stringArray.length;i++){
                            console.debug('from backEnd'+stringArray[i]);
                            if(stringArray[i].Currency_Unit__c == CACurrency ){
                               console.debug('pPc Currency==>'+CACurrency);
                                 if(CALocalAmount !==0){
                                     if(CALocalAmount !==null && CALocalAmount !==""){
                                          CALocalAmount = parseInt(CALocalAmount);
                                         $j('.CAEuroAmount'+data_id).val(stringArray[i].Currency_Unit_To_Euro__c/CALocalAmount);
                                     }         
                                 }else{
                              
                                   $j('.CAEuroAmount'+data_id).val(0);
                                 }
                            }
                       }
                        
                    });
                    
                    
                    $j('.commonCALocalAmount').on('keyup',function(){
                       
                        var a = $j(this).val();
                        var data_id = $j(this).parent().find('.commonCurrencyRelatedCA').attr('data-id');
                       
                       var CALocalAmount = $j('.CALocalAmount'+data_id).val();
                       var CAEuroAmount = $j('.CAEuroAmount'+data_id).val();
                       var CACurrency = $j('.commonCurrencyRelatedCA').val();
                       // alert(CALocalAmount);
                      //  alert(CAEuroAmount);
                      //  alert(CACurrency);
                       for(var i=0;i<stringArray.length;i++){
                            console.debug('from backEnd'+stringArray[i]);
                            if(stringArray[i].Currency_Unit__c == CACurrency ){
                               console.debug('pPc Currency==>'+CACurrency);
                                 if(CALocalAmount !==0){
                                     if(CALocalAmount !==null && CALocalAmount !==""){
                                          CALocalAmount = parseInt(CALocalAmount);
                                         $j('.CAEuroAmount'+data_id).val(stringArray[i].Currency_Unit_To_Euro__c/CALocalAmount);
                                     }         
                                 }else{
                              
                                   $j('.CAEuroAmount'+data_id).val(0);
                                 }
                            }
                       }
                        
                    });
                    
                    
                    
                    
                }); 
                
                            
     </script>
                    <apex:repeat value="{!docAndQuoteLst}" var="docAndQuoteObj" >
                        <div class="radio-selected">
                             <div class="inner_section">
                                 <h4>                             
                                    <apex:inputField value="{!docAndQuoteObj.quoteObj.Is_Accepted__c}"/>     Quote : {!docAndQuoteObj.quoteObj.Quote_Number__c} - quote-related{!docAndQuoteObj.quoteObj.Quote_Number__c}                                   
                                 </h4> 
                            </div>
                        
                            <div class="adMangerNo quote-related{!docAndQuoteObj.quoteObj.Quote_Number__c}" number-id="{!docAndQuoteObj.quoteObj.Quote_Number__c}">
                            <div class="left">Is PC Part Of The Roster?</div><div class="left"><apex:inputField value="{!docAndQuoteObj.quoteObj.Is_PC_part_of_the_Roster__c}"/></div>
                            
                            PC Name<apex:inputField value="{!docAndQuoteObj.quoteObj.PC_name__c}"/>
                            PC Country Location<apex:inputField value="{!docAndQuoteObj.quoteObj.PC_Country__c}"/>
                            Service Company Name<apex:inputField value="{!docAndQuoteObj.quoteObj.Service_Company_Name__c}" />
                            PC Costs Only (Local Currency)<apex:inputField value="{!docAndQuoteObj.quoteObj.Local_Currency_of_PC_Costs__c}" styleclass="commonCurrencyRelated" html-data-id="{!docAndQuoteObj.quoteObj.Quote_Number__c}"/>
                            PC Costs Only (Local Amount) <apex:inputField value="{!docAndQuoteObj.quoteObj.Local_Amount_of_PC__c}" styleclass="commonPCLocalAmount PCLocalAmount{!docAndQuoteObj.quoteObj.Quote_Number__c}" />
                            PC Costs Only (Euro Amount)<apex:inputText value="{!docAndQuoteObj.quoteObj.PC_Costs_Euro_Amount__c}" styleclass="commonPCEuroAmount PCEuroAmount{!docAndQuoteObj.quoteObj.Quote_Number__c}"  html-readonly="true" />
                            Is the PPC part of the Roster?<apex:inputField value="{!docAndQuoteObj.quoteObj.Is_the_PPC_part_of_the_Roster__c}" />
                            PPC Name <apex:inputField value="{!docAndQuoteObj.quoteObj.PPC_Name__c}" />
                            PPC Country Location<apex:inputField value="{!docAndQuoteObj.quoteObj.PPC_Country__c}" />
                            PPC Costs Only (Local Currency)<apex:inputField value="{!docAndQuoteObj.quoteObj.Local_Currency_of_PPC_Costs__c}" styleclass="commonCurrencyRelatedPPC" html-data-id="{!docAndQuoteObj.quoteObj.Quote_Number__c}"/>
                            PPC Costs Only (Local Amount)<apex:inputField value="{!docAndQuoteObj.quoteObj.Local_Amount_of_PPC__c}" styleclass="commonPPCLocalAmount PPCLocalAmount{!docAndQuoteObj.quoteObj.Quote_Number__c}" />
                            PPC Costs Only (Euro Amount)<apex:inputtext value="{!docAndQuoteObj.quoteObj.PPC_Costs_Euro_Amount__c}" styleclass="commonPPCEuroAmount PPCEuroAmount{!docAndQuoteObj.quoteObj.Quote_Number__c}"  html-readonly="true"/>
                            CA/Additional agency Name<apex:inputtext value="{!docAndQuoteObj.quoteObj.CA_Additional_agency_Name__c}"/>
                            CA Location<apex:inputField value="{!docAndQuoteObj.quoteObj.CA_Location__c}" />
                            CA Costs Only (Local Currency)<apex:inputField value="{!docAndQuoteObj.quoteObj.Local_Currency_of_CA_Costs__c}"  styleclass="commonCurrencyRelatedCA" html-data-id="{!docAndQuoteObj.quoteObj.Quote_Number__c}"/>
                            CA Costs Only (Local Amount)<apex:inputField value="{!docAndQuoteObj.quoteObj.Local_Amount_of_CA__c}" styleclass="commonCALocalAmount CALocalAmount{!docAndQuoteObj.quoteObj.Quote_Number__c}"/>
                            CA Costs Only (Euro Amount)<apex:inputText value="{!docAndQuoteObj.quoteObj.CA_Costs_Euro_Amount__c}" styleclass="commonCAEuroAmount CAEuroAmount{!docAndQuoteObj.quoteObj.Quote_Number__c}"  html-readonly="true"/>
                            Folder <apex:inputField value="{!docAndQuoteObj.quoteObj.Folder__c}" />
                         
<!--                            <input type="file" value="{!docAndQuoteObj.attachmentObj.body}" name="{!docAndQuoteObj.attachmentObj.name}" id="file" > </input> -->
                           <apex:inputFile value="{!docAndQuoteObj.attachmentObj.body}" filename="{!docAndQuoteObj.attachmentObj.name}"/>
                            </div>
                         
                             <apex:actionregion >
                                <apex:commandlink action="{!SaveAllData}" value="Save"   status="actStatusIdQuote1"  onclick="disableOnSubmit(this);">
                                <apex:param name="param" value="{!docAndQuoteObj.quoteObj.Quote_Number__c}" assignTo="{!QuoteNumber}"/> 
                                </apex:commandlink>
                                
                                 <apex:actionStatus id="actStatusIdQuote1" >
                                            <apex:facet name="start" >
                                                <img src="/img/loading.gif" />                    
                                            </apex:facet>
                                        </apex:actionStatus>
                                        
                            </apex:actionregion>
                            
                       </div>
                    </apex:repeat>
                    <apex:actionregion >
                    <apex:actionFunction name="passQuote" action="{!test}" rerender="none" >
                                        <apex:param name="one" value="" assignTo="{!QuoteNumber}"/>    
                                </apex:actionFunction>  
                    
                    </apex:actionregion>
      </apex:pageBlock>
      <apex:pageBlock >
         <apex:pageBlockSection title="Accepted Quote" columns="2" collapsible="false">
           <apex:inputfield label="Accepted Final Cost - PC only (Currency)" value="{!acceptedQuote.Accepted_Final_Cost_PC_only_Currency__c}" styleclass="PCCurrencyAccepted" onchange="PCEuroAmountAccepted()"/>
           <apex:inputfield label="Accepted Final Cost - PC only (Local Amount)" value="{!acceptedQuote.Accepted_Final_Cost_PC_only_Local_Amo__c}" styleclass="PCLocalAmountAccepted" onkeypress="return isNumber(event)" onkeyup="PCEuroAmountAccepted()"/>
           <apex:inputtext label="Accepted Final Cost - PC only (Euro Amount)" value="{!acceptedQuote.Accepted_Final_Cost_PC_Euro_Amou__c}" styleclass="PCEuroAmountAccepted" html-readonly="true"/>
             
             <apex:inputfield label="Accepted Final Cost - PPC only (Currency)" value="{!acceptedQuote.Accepted_Final_Cost_PPC_only_Currency__c}" styleclass="PPCCurrencyAccepted" onchange="PPCEuroAmountAccepted()"/> 
             <apex:inputfield label="Accepted Final Cost - PPC only (Local Amount)" value="{!acceptedQuote.Accepted_Final_Cost_PPC_only_Local_Am__c}" styleclass="PPCLocalAmountAccepted" onkeypress="return isNumber(event)" onkeyup="PPCEuroAmountAccepted()"/>
             <apex:inputtext label="Accepted Final Cost - PPC only (Euro Amount)" value="{!acceptedQuote.Accepted_Final_Cost_PPC_Euro_Amount__c}" styleclass="PPCEuroAmountAccepted" html-readonly="true"/>
             
             <apex:inputfield label="Accepted Final Cost - CA only (Currency)" value="{!acceptedQuote.Accepted_Final_Cost_CA_only_Currency__c}" styleclass="CACurrencyAccepted"  onchange="CAEuroAmountAccepted()"/> 
             <apex:inputfield label="Accepted Final Cost - CA only (Local Amount)" value="{!acceptedQuote.Accepted_Final_Cost_CA_Local_Amount__c}" styleclass="CALocalAmountAccepted" onkeypress="return isNumber(event)" onkeyup="CAEuroAmountAccepted()"/> 
              <apex:inputtext label="Accepted Final Cost - CA only (Euro Amount)" value="{!acceptedQuote.Accepted_Final_Cost_CA_Euro_Amount__c}" styleclass="CAEuroAmountAccepted" html-readonly="true"/>
             
             <apex:inputfield label="Accepted Final Cost - Editors name" value="{!acceptedQuote.Accepted_Final_Cost_Editors_name__c}" />
             <apex:inputfield label="Accepted Final Cost - Total editing cost" value="{!acceptedQuote.Accepted_Final_Cost_Total_editing_cost__c}" />
             <apex:inputfield label="Accepted Final Cost - Sound Studio Name" value="{!acceptedQuote.Accepted_Final_Cost_Sound_Studio_Name__c}" />
             <apex:inputfield label="Accepted Final Cost - Total Sound Studio costs" value="{!acceptedQuote.Accepted_Final_Cost_Total_Sound_Studio__c}" />
             <apex:inputfield label="Accepted Final Cost - Travel Costs" value="{!acceptedQuote.Accepted_Final_Cost_Travel_Costs__c}" />
             <apex:inputfield label="Accepted Final Cost - Value of props & wardrobe (paid for)" value="{!acceptedQuote.Accepted_Final_Cost_props_wardrobe__c}" />
             <apex:inputText label="Total Accepted Final Cost (CA/PC/PPC) Euro Amount" value="{!acceptedQuote.Total_Accepted_Final_Cost_CA_PC_PPC_Eu__c}" styleclass="TotalAcceptedFinalCostAccepted" html-readonly="true"/>
             <apex:inputfield label="What type of Savings is this?" value="{!acceptedQuote.Saving_Type__c}" /> 
             
             <apex:commandButton action="{!UpdateAcceptedQuote}" value="Save"/>
         </apex:pageBlockSection>
      </apex:pageBlock> 
      
      <apex:pageBlock >
        <apex:pageBlockSection title="Appraisal" collapsible="false">
              <div class = "main-container" id="mainclass">
        <div class = "category-container">
            <label style ="font-size:20px; font-weight:bold;"> PC Appraisal </label>
            <div class="holder-class" data-id="sendPcTimeMangCategory">
                <div class="categoryStyle"><label>Time Management  </label>
                </div>
                <div class="pc-star-rating" >
                    <span class="common pc-time-cat" rel= "1"></span>
                    <span class="common pc-time-cat" rel= "2"><i></i></span>
                    <span class="common pc-time-cat" rel= "3"><i></i></span>
                    <span class="common pc-time-cat" rel= "4"><i></i></span>
                    <span class="common pc-time-cat" rel= "5"></span>  
                </div>
            </div>   
            <div class="holder-class" data-id="sendPcCostMangCategory">
                <div class="categoryStyle"><label>Cost Management  </label>
                </div>
                <div class="pc-star-rating2">
                    <span class="common pc-cost-cat" rel= "1"></span>
                    <span class="common pc-cost-cat" rel= "2"><i></i></span>
                    <span class="common pc-cost-cat" rel= "3"><i></i></span>
                    <span class="common pc-cost-cat" rel= "4"><i></i></span>
                    <span class="common pc-cost-cat" rel= "5"></span>      
                </div>
            </div>   
            <div class="holder-class" data-id="sendPcProcessMangCategory"> 
                <div class="categoryStyle"><label>Process Management</label>
                </div>
                <div class="pc-star-rating3">
                    <span class="common pc-process-cat" rel= "1"></span>
                    <span class="common pc-process-cat" rel= "2"><i></i></span>
                    <span class="common pc-process-cat" rel= "3"><i></i></span>
                    <span class="common pc-process-cat" rel= "4"><i></i></span>
                    <span class="common pc-process-cat" rel= "5"></span>      
                </div>
            </div>
            <div class="holder-class" data-id="sendPcOutputQualityCategory">    
                <div class="categoryStyle"><label>Output Quality </label>
                </div>
                <div class="pc-star-rating4">
                    <span class="common pc-output-cat" rel= "1"></span>
                    <span class="common pc-output-cat" rel= "2"><i></i></span>
                    <span class="common pc-output-cat" rel= "3"><i></i></span>
                    <span class="common pc-output-cat" rel= "4"><i></i></span>
                    <span class="common pc-output-cat" rel= "5"></span>      
                </div>  
            </div>   
        </div> 
        <div class = "category-container">
            <label style ="font-size:20px; font-weight:bold;"> PPC Appraisal </label>
            <div class="holder-class" data-id="sendPpcTimeMangCategory">
                <div class="categoryStyle"><label>Time Management </label>
                </div>
                <div class="ppc-star-rating">
                    <span class="common ppc-time-cat" rel= "1"></span>
                    <span class="common ppc-time-cat" rel= "2"><i></i></span>
                    <span class="common ppc-time-cat" rel= "3"><i></i></span>
                    <span class="common ppc-time-cat" rel= "4"><i></i></span>
                    <span class="common ppc-time-cat" rel= "5"></span>  
                </div>
              </div>
              <div class="holder-class" data-id="sendPpcCostMangCategory"> 
                    <div class="categoryStyle"><label>Cost Management  </label>
                    </div>
                    <div class="ppc-star-rating2">
                        <span class="common ppc-cost-cat" rel= "1"></span>
                        <span class="common ppc-cost-cat" rel= "2"><i></i></span>
                        <span class="common ppc-cost-cat" rel= "3"><i></i></span>
                        <span class="common ppc-cost-cat" rel= "4"><i></i></span>
                        <span class="common ppc-cost-cat" rel= "5"></span>      
                    </div>
               </div>
               <div class="holder-class" data-id="sendPpcProcessMangCategory"> 
                    <div class="categoryStyle"><label>Process Management</label>
                    </div>
                    <div class="ppc-star-rating3">
                        <span class="common ppc-process-cat" rel= "1"></span>
                        <span class="common ppc-process-cat" rel= "2"><i></i></span>
                        <span class="common ppc-process-cat" rel= "3"><i></i></span>
                        <span class="common ppc-process-cat" rel= "4"><i></i></span>
                        <span class="common ppc-process-cat" rel= "5"></span>      
                    </div>
                </div>
                <div class="holder-class" data-id="sendPpcOutputQualityCategory">
                    <div class="categoryStyle"><label>Output Quality </label>
                    </div>
                    <div class="ppc-star-rating4">
                        <span class="common ppc-output-cat" rel= "1"></span>
                        <span class="common ppc-output-cat" rel= "2"><i></i></span>
                        <span class="common ppc-output-cat" rel= "3"><i></i></span>
                        <span class="common ppc-output-cat" rel= "4"><i></i></span>
                        <span class="common ppc-output-cat" rel= "5"></span>      
                    </div>
                </div>   
            </div>
    
        <div class = "category-container">
            <label style ="font-size:20px; font-weight:bold;"> CA Appraisal </label>
            <div class="holder-class" data-id="sendCaTimeMangCategory">
                <div class="categoryStyle"><label>Time Management </label>
                </div>
                <div class="ca-star-rating">
                    <span class="common ca-time-cat" rel= "1"></span>
                    <span class="common ca-time-cat" rel= "2"><i></i></span>
                    <span class="common ca-time-cat" rel= "3"><i></i></span>
                    <span class="common ca-time-cat" rel= "4"><i></i></span>
                    <span class="common ca-time-cat" rel= "5"></span>  
                </div>
             </div>
             <div class="holder-class" data-id="sendCaCostMangCategory">  
                <div class="categoryStyle"><label>Cost Management</label>
                </div>
                <div class="ca-star-rating2">
                    <span class="common ca-cost-cat" rel= "1"></span>
                    <span class="common ca-cost-cat" rel= "2"><i></i></span>
                    <span class="common ca-cost-cat" rel= "3"><i></i></span>
                    <span class="common ca-cost-cat" rel= "4"><i></i></span>
                    <span class="common ca-cost-cat" rel= "5"></span>      
                </div>
            </div>
            <div class="holder-class" data-id="sendCaProcessMangCategory">
                <div class="categoryStyle"><label>Process Management</label>
                </div>
                <div class="ca-star-rating3">
                    <span class="common ca-process-cat" rel= "1"></span>
                    <span class="common ca-process-cat" rel= "2"><i></i></span>
                    <span class="common ca-process-cat" rel= "3"><i></i></span>
                    <span class="common ca-process-cat" rel= "4"><i></i></span>
                    <span class="common ca-process-cat" rel= "5"></span>      
                </div>
            </div>
            <div class="holder-class" data-id="sendCaOutputQualityCategory">
            
                <div class="categoryStyle"><label>Output Quality</label>
                </div>
                <div class="ca-star-rating4">
                    <span class="common ca-output-cat" rel= "1"></span>
                    <span class="common ca-output-cat" rel= "2"><i></i></span>
                    <span class="common ca-output-cat" rel= "3"><i></i></span>
                    <span class="common ca-output-cat" rel= "4"><i></i></span>
                    <span class="common ca-output-cat" rel= "5"></span>      
                </div>
            
        </div>   
    </div>

</div>


        </apex:pageBlockSection>
      </apex:pageBlock>
      <apex:actionRegion >
        <apex:commandLink action="{!allValues}" value="All The Values" status="actStatusIdQuote3" ReRender="mainclass"/>
       <apex:actionStatus id="actStatusIdQuote3" >
                                            <apex:facet name="start" >
                                                <img src="/img/loading.gif" />                    
                                            </apex:facet>
                                        </apex:actionStatus>
  
<apex:actionFunction name="sendPcTimeMangCategory" action="{!getCaProcessMangCategory}" reRender="mainclass">
   <apex:param id="pccattimename" assignTo="{!pcTimeMangCategoryValue}" name="sendPcTimeMangCategory"  value="{!pcTimeMangCategoryValue}" />
   <apex:param id="pccattimeclass" assignTo="{!pcTimeMangCategoryClass}" name="pcTimeMangCategoryClass"  value="{!pcTimeMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPcCostMangCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="pccatcostname" assignTo="{!pcCostMangCategoryValue}" name="sendPcCostMangCategory"  value="{!pcCostMangCategoryValue}" />
   <apex:param id="pccattcostclass" assignTo="{!pcCostMangCategoryClass }" name="pcCostMangCategoryClass "  value="{!pcCostMangCategoryClass }" />
</apex:actionFunction>

<apex:actionFunction name="sendPcProcessMangCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="pccatprocessname" assignTo="{!pcProcessMangCategoryValue}"  name="sendPcProcessMangCategory" value="{!pcProcessMangCategoryValue}" />
   <apex:param id="pccatprocssclass" assignTo="{!pcProcessMangCategoryClass}" name="pcProcessMangCategoryClass"  value="{!pcProcessMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPcOutputQualityCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="pccatoutput" assignTo="{!pcOutputQualityCategoryValue}" name="sendPcOutputQualityCategory"  value="{!pcOutputQualityCategoryValue}" />
   <apex:param id="pccatoutputclass" assignTo="{!pcOutputQualityCategoryClass}" name="pcOutputQualityCategoryClass"  value="{!pcOutputQualityCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPpcTimeMangCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="pcccattimename" assignTo="{!pccTimeMangCategoryValue}" name="sendPpcTimeMangCategory" value="{!pccTimeMangCategoryValue}" />
   <apex:param id="pcttimeclass" assignTo="{!pccTimeMangCategoryClass}" name="pccTimeMangCategoryClass"  value="{!pccTimeMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPpcCostMangCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="pcccatcostname" assignTo="{!pccCostMangCategoryValue }"  name="sendPpcCostMangCategory" value="{!pccCostMangCategoryValue }" />
   <apex:param id="pcccatcostclass" assignTo="{!pccCostMangCategoryClass}" name="pccCostMangCategoryClass"  value="{!pccCostMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPpcProcessMangCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="pcccatprocessname" assignTo="{!pccProcessMangCategoryValue}"  name="sendPpcProcessMangCategory" value="{!pccProcessMangCategoryValue}" />
   <apex:param id="pcccatprocessclass" assignTo="{!pccProcessMangCategoryClass}" name="pccProcessMangCategoryClass"  value="{!pccProcessMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPpcOutputQualityCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="pcccatoutput" assignTo="{!pccOutputQualityCategoryValue }" name="sendPpcOutputQualityCategory"   value="{!pccOutputQualityCategoryValue }" />
   <apex:param id="pcccatoutputclass" assignTo="{!pccOutputQualityCategoryClass}" name="pccOutputQualityCategoryClass"  value="{!pccOutputQualityCategoryClass}" />
</apex:actionFunction>


<apex:actionFunction name="sendCaTimeMangCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="cacattimename" assignTo="{!caTimeMangCategoryValue}" name="sendCaTimeMangCategory" value="{!caTimeMangCategoryValue}" />
   <apex:param id="cacattimeclass" assignTo="{!caTimeMangCategoryClass}" name="caTimeMangCategoryClass"  value="{!caTimeMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendCaCostMangCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="cacatcostname" assignTo="{!caCostMangCategoryValue}" name="sendCaCostMangCategory"  value="{!caCostMangCategoryValue}" />
   <apex:param id="cacatcostclass" assignTo="{!caCostMangCategoryClass }" name="caCostMangCategoryClass "  value="{!caCostMangCategoryClass }" />
</apex:actionFunction>

<apex:actionFunction name="sendCaProcessMangCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="cacatprocessname" assignTo="{!caProcessMangCategoryValue}" name="sendCaProcessMangCategory"  value="{!caProcessMangCategoryValue}" />
   <apex:param id="cacatprocessclass" assignTo="{!caProcessMangCategoryClass}" name="caProcessMangCategoryClass"  value="{!caProcessMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendCaOutputQualityCategory" action="{!getCaProcessMangCategory}" reRender="view">
   <apex:param id="cacatoutput" assignTo="{!caOutputQualityCategoryValue }"  name="sendCaOutputQualityCategory" value="{!caOutputQualityCategoryValue}" />
   <apex:param id="cacatoutputclass" assignTo="{!caOutputQualityCategoryClass}" name="caOutputQualityCategoryClass"  value="{!caOutputQualityCategoryClass}" />
</apex:actionFunction>

</apex:actionRegion>
<br/><br/><!--<apex:outputLink value="Amr_JobSheet?id={!jobId}">Submit</apex:outputLink>-->
   </apex:form>
 
    

</apex:page>