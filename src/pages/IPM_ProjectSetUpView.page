<!--  
*************************************************************************************************************************************************************
*@Description:This is project initiation page, where user should enter all project details. User will get 5 tabs to complete the wizard.
*@Author: Cognizant.
*@Created Date: 22/01/2015 
*@Copyright Â© 2015  Unilever  
*************************************************************************************************************************************************************
-->
<apex:page standardController="IPM_Project__c" extensions="IPM_ProjectSetUpController,IPM_GetHelpDoc" sidebar="false" standardStylesheets="true" cache="false" docType="html-5.0">    
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_CoreParameter.css')}"/> 
  <apex:form >
  <apex:outputPanel id="setupWizard">  
    <apex:outputPanel styleClass="proxyTLP">
       
            <apex:pageMessages />
            <apex:inputField value="{!project.IPM_Target_Launch_Dates__c}" />
            <apex:actionFunction action="{!Initialise}" name="callpagerefresh" oncomplete="createNewProject();" reRender="QuitProTab,createNewProject"/> 
       
    </apex:outputPanel>  
 
    <div class='cust-overlay'></div>
    <apex:composition template="IPM_TemplateRevamp"> 
        <apex:define name="body">
            <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_ProjectSetupDesign.css')}"/>
            <apex:pageMessages />
            <div class="gradientbg">
                <div class="row">
                    <c:IPM_BosscardDetails ProName="{!project.IPM_Project_Name__c}" isBosscard="{!project.IPM_Bosscard_Status__c}" />
                </div>
            </div>
            <div class="ipmContent"> 
                <div class="row">
                    <div class="col-sm-12 noPadleft noPadright">
                        <div class="panel-group pageHeadToolbar clearfix">
                        
                            <!-- To place the help symbol in the top right hand corner of page -->
                            <apex:outputPanel layout="block" styleClass="SecButtonSet delete pull-right" >
                                <apex:outputLink value="{!URL}" id="theLink" styleClass="icoButton question" target="_blank" title="{!$Label.IPM_Help}">?</apex:outputLink>
                            </apex:outputPanel>
                        
                            <div class="row">
                                <div class="col-sm-5 pull-left">
                                    <span class="pageTitle">
                                        {!$Label.IPM_PROJECT_SETUP}
                                    </span>    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- To display below outputPanel when rendered conditions satisfied -->
                <apex:outputPanel layout="block" styleClass="row" rendered="{! AND(project.IPM_Project_Job_Status__c != 'Eligible For Processing',project.IPM_Project_Job_Status__c != 'Processing') }" >
                    <div class="col-sm-12 custPageMarginbottom">
                        <div class="projectSetupicon">
                            <img alt="Idea"  src="{!URLFOR($Resource.IPM_Resource, 'images/Icon_Idea.svg')}" />
                        </div>
                        <div class="projectSetupdesc">
                            <span class="descHead">{!$Label.IPM_WELCOME_TO_IDEA_PHASE}</span>
                            <span class="descCaption">{!$Label.IPM_NEED_TO_SET_UP_PROJECT} </span>
                        </div>
                        <div class="col-sm-12">
                            <div class="getStartedbuttonCont">
                                <div class="getStarted" id="getStarted">
                                        <!-- To display below command button when current user has edit access -->                            
                                        <apex:commandButton value="{!$Label.IPM_Get_started}" oncomplete="createNewProject();" styleClass="ipmButton getStartedbutton primary" reRender="createNewProject" action="{!none}" rendered="{!isEditable}" />
                                   
                                </div>
                            </div>
                        </div>
                    </div>                 
                </apex:outputPanel>
                
                <apex:actionPoller action="{!initialise}"  interval="10" rerender="setupWizard" oncomplete="reload()" enabled="{!IF(OR(project.IPM_Project_Job_Status__c = 'Eligible For Processing',project.IPM_Project_Job_Status__c = 'Processing'),true,false)}" />
                <!-- To display below outputPanel when project job status is Eligible For Processing or Processing   -->
                <apex:outputPanel layout="block" styleClass="row" rendered="{!OR( project.IPM_Project_Job_Status__c == 'Eligible For Processing',project.IPM_Project_Job_Status__c == 'Processing' )}">
                    
                    <div class="col-sm-12 custPageMarginbottom">
                        <div class="projectSetupicon">
                            <img alt="Idea"  src="{!URLFOR($Resource.IPM_Resource, 'images/Inprogress.svg')}" />
                        </div>
                        <div class="projectSetupdesc">
                            <span class="descHead">{!$Label.IPM_WELCOME_TO_IDEA_PHASE}</span>
                            <span class="descCaption">{!$Label.IPM_PROJECTCREATION_INPROGRESS} </span>  
                        </div>
                    </div>                 
                </apex:outputPanel>
                
            </div>           
            <div id="ipmModalGetStarted" class="modal fade in ipmModalGetStarted" aria-hidden="true" data-keyboard="false" data-backdrop="static" data-focus-on="input:first">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header popup_head ipmGetStartedTab" id="ipmGetStartedTab">
                            <ul class="ipmStartedTabs">
                                <li class="projectdetails tabOdd"><span>{!$Label.IPM_ABOUT_PROJECT}</span></li>
                                <li class="coreparameters tabEven"><span>{!$Label.IPM_PROJECT_PARAMETERS}</span></li>
                                <li class="teammembers tabOdd"><span>{!$Label.IPM_TEAM_MEMBERS}</span></li>
                                <li class="milestones tabEven"><span>{!$Label.IPM_MILESTONES}</span></li>
                                <li class="todos tabOdd "><span>{!$Label.IPM_TO_Dos}</span></li>
                            </ul> 
                            <apex:outputPanel id="newProjectCloseIcon" rendered="{!!reactivateProject}">
                            <button type="button" class="close ipmModalGetStartedClose" data-target="#quitWizard" data-toggle="modal" data-keyboard="false" data-backdrop="static" aria-hidden="true">&times;</button>
                            </apex:outputPanel>
                            <apex:outputPanel id="reactivatingProjectCloseIcon" rendered="{!reactivateProject}">
                            	<button type="button" class="close ipmModalGetStartedClose" data-target="#quitReactivateWizard" data-toggle="modal" data-keyboard="false" data-backdrop="static" aria-hidden="true">&times;</button>
                            </apex:outputPanel>
                        </div>
                        <div class="ipmGetStartedContent" id="projectdetails">
                            <div class="container-fluid">
                                <div class="row"> 
                                      
                                        <div class="col-sm-12 negateMarginTop">
                                            <div class="row">    
                                                <div class="col-sm-12">
                                                    <!-- To display below outputPanel when current logged in user has edit access   -->
                                                    <apex:outputPanel layout="inline" styleClass="newProjinfo" rendered="{!isEditable}" >{!$Label.IPM_ESSENTIAL_INFFORMATION}</apex:outputPanel>
                                                </div>
                                            </div>
                                            <apex:outputPanel layout="block" id="Container5">
                                                <apex:outputPanel styleClass="oprtnTopAlertContainer" layout="block" >
                                                    <apex:outputLabel styleClass="oprtnTopAlertLabel" value="{!$Label.IPM_ProjectTypeAndCompany_ReadOnly}"  />
                                                </apex:outputPanel>
                                            </apex:outputPanel>
                                            <apex:outputPanel id="formMessage" styleClass="proSuccessMsg" layout="block" >
                                                <apex:pageMessages />
                                            </apex:outputPanel>
                                            <apex:actionFunction name="callBackFunction1" reRender="teamMemberPanel" action="none"/>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <div class="col-sm-2 noPadleft noPadright">
                                                        <div class="panel">
                                                            <div class="panel-body imageBorder">                                                            
                                                                <apex:actionFunction name="deleteProjectImage" action="{!removeProjectLogo}" reRender="imgpn"/>
                                                                <apex:actionFunction name="callsave" action="{!saveProceed}" reRender="isID,formMessage">
                                                                    <apex:param name="skipValidationParam" assignTo="{!skipValidation}" value="true" />
                                                                </apex:actionFunction> 
                                                                <apex:outputPanel id="imgpn">                                                           
                                                                    <apex:outputPanel id="isID" >  
                                                                       
                                                                        <div value="{!$Page.IPM_ImageUpload}?isProject=true&id={!project.id}" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}" onClick="callsave();" class="uploadImage upImageContainer" data-target="#ipmUploadImage" data-toggle="modal" data-keyboard="false" data-backdrop="static">
                                                                            <!-- To display below image when IPM_Project_Logo__c field value is null or empty   -->
                                                                            <apex:image styleClass="ipmImage" value="{!URLFOR($Resource.IPM_Resource, 'images/pro_placeholder.png')}" rendered="{!If(AND(OR(ImageId=='',ImageId==null),OR(project.IPM_Project_Logo__c==null,project.IPM_Project_Logo__c=='')),true,false)}" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}"/>
                                                                            <!-- To display below image when IPM_Project_Logo__c field value is not null or empty   -->
                                                                            <apex:image url="/servlet/servlet.FileDownload?file={!ImageId}" styleClass="ipmImage" rendered="{! if(AND(ImageId !='',ImageId !=null),true,false)}" /> 
                                                                            <!-- To display below outputfield when IPM_Project_Logo__c field value is not null or empty   -->
                                                                            <apex:outputfield value="{!project.IPM_Project_Logo__c}" rendered="{! if(AND(OR(ImageId=='',ImageId==null),OR(project.IPM_Project_Logo__c!='',project.IPM_Project_Logo__c!=null)),true,false)}"/>
                                                                        </div> 
                                                                        <!-- To display below outputPanel when IPM_Project_Logo__c field value is not null  -->
                                                                        <apex:outputPanel layout="block" rendered="{!project.IPM_Project_Logo__c!=null}">
                                                                            <div class="imgHoverContainer">
                                                                                <div class="imgHbuttonContainer">
                                                                                   <span value="{!$Page.IPM_ImageUpload}?id={!project.id}&isProject=true" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}" class="uploadImage" data-target="#ipmUploadImage" data-toggle="modal" data-keyboard="false" data-backdrop="static">
                                                                                       <!-- To display below commandLink when IPM_Project_Logo__c field value is not null or empty   -->
                                                                                       <apex:commandLink value="Update" styleClass="imgUpdateButton" action="{!save}" reRender="none" rendered="{!project.IPM_Project_Logo__c!=null}">
                                                                                            
                                                                                       </apex:commandLink>
                                                                                   </span>
                                                                                   <span class="imgDelButton" data-target="#deleteImgPop" data-toggle="modal" data-keyboard="false" data-backdrop="static">Delete</span>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>                                      
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-10">
                                                        <!-- To place the help symbol in the top right hand corner of page -->
                                                            <apex:outputPanel layout="block" styleClass="SecButtonSet delete pull-right" >
                                                            <apex:outputLink value="{!URL}" id="Link" styleClass="icoButton question" target="_blank" title="{!$Label.IPM_Help}">?</apex:outputLink>
                                                            </apex:outputPanel>
                                                        <div class="col-sm-10 noPadleft">
                                                             
                                                            <apex:outputPanel id="ProjectNamePanel" styleClass="inputField oneCol">
                                                                <apex:outputPanel layout="block"  styleClass="required proNameContainer">
                                                                    <apex:outputLabel value="{!$Label.IPM_PROJECT_NAME}" styleClass="bsFieldLabel" />
                                                                    <span class="mandatorycolor">*</span>
                                                                    <span class="SecButtonSet infoMarTop">
                                                                        <a class="icoButton info" title="{!$Label.IPM_ProjectNameHelpText}"></a>
                                                                    </span>
                                                                    <!-- To display below inputText when current logged in user has edit access   -->
                                                                    <apex:inputText value="{!project.IPM_Project_Name__c}" id="proname"  styleClass="brandautocomplete BosscardNameInputBox inputcontent" html-onpaste="return false"  onblur="hideSuggetion();" onkeypress="return invalidChar(event);"  onkeyup="var u=this.value.toUpperCase();if(this.value!=u){this.value=u;return false};dupProjectName();"  maxlength="14" rendered="{!isEditable}" html-onfocusout="changeAlertBosscardName();">
                                                                    </apex:inputText>
                                                                    <apex:actionfunction name="dupProjectName" action="{!searchDuplicateProject}" rerender="refreshProjectName"/>
                                                                    <apex:actionfunction name="hideSuggetion" action="{!hideProjectSuggetion}" rerender="refreshProjectName"/>
                                                                    <apex:outputpanel id="refreshProjectName" >
                                                                        <!-- To display below outputPanel when user typed in project name   -->
                                                                        <apex:outputpanel layout="block" styleClass="autoContainer" rendered="{!!isProjectNameBlank}">
                                                                            <apex:repeat value="{!listofprojectname}" var="proList">          
                                                                                <apex:outputLabel styleClass="bcAuto" value="{!proList}"/>         
                                                                            </apex:repeat>  
                                                                        </apex:outputpanel>
                                                                    </apex:outputpanel>
                                                                    <!-- To display below outputField when current logged in user has read access to the page   -->
                                                                    <apex:outputField rendered="{!!isEditable}" value="{!project.IPM_Project_Name__c}"/>
                                                                    <apex:outputPanel id="nameMsg">
                                                                         <!-- To display below outputText when project name is empty   -->
                                                                        <apex:outputText value="{!$Label.IPM_ENTER_PROJECT_NAME}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Project_Name__c'))}" styleClass="ErrMsg"/>
                                                                        <!-- To display below outputText when project name contains any special character   -->
                                                                        <apex:outputText value="{!$Label.IPM_DO_NOT_SPECIAL_CHAR}" rendered="{!isContainSpecialChars}" styleclass="projDescErrMsg"/>
                                                                        <!-- To display below outputText when project name is already exits   -->
                                                                        <apex:outputText value="{!$Label.IPM_Project_Name_Exists}" rendered="{!isDupProjectname}" styleclass="projDescErrMsg"/>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>
                                                                <apex:outputPanel layout="block"  styleClass="inputField">  
                                                                    <apex:outputLabel value="{!$Label.IPM_PROJECT_DESCRIPTION}" styleClass="bsFieldLabel descTop" />
                                                                    <!-- To display below inputTextarea when current logged in user has edit access on page   -->
                                                                    <apex:inputTextarea id="projDesc" value="{!project.IPM_Project_Description__c}" html-onfocusout="changeAlert();" rendered="{!isEditable}"  styleClass="limitdesc BosscardNameInputBox"  />
                                                                    <apex:outputPanel id="DescMsg" styleClass="proDescLabel" >
                                                                        <!-- To display below outputText when project description is empty while saving project. -->
                                                                        <apex:outputText value="{!$Label.IPM_ENTER_PROJECT_DESCRIPTION}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Project_Description__c'))}" styleClass="projDescErrMsg"/>   
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel layout="block" styleClass="proDescLabel"  >
                                                                    <!-- To display below outputField when current logged in user has read access on page   -->
                                                                        <apex:outputField value="{!project.IPM_Project_Description__c}" rendered="{!!isEditable}"/>
                                                                    </apex:outputPanel>
                                                                    <!-- To display below outputPanel when current logged in user has edit access on page   -->
                                                                    <apex:outputPanel layout="block" styleClass="txtRight" rendered="{!isEditable}"> 
                                                                        <span id="charCountRemainingText" class="charCountRemainingText"> {!$Label.IPM_CHAR_REMAINING} </span> 
                                                                        <span id="charCountRemaining" class="charCountRemaining">{!$Label.IPM_CHAR_70}</span>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>     
                                                            </apex:outputPanel>
                                                            <div class="row">
                                                                <div class="col-sm-6 proMarginbottom">
                                                                    <apex:outputPanel id="CompanyCardPanel" styleClass="inputField">
                                                                        <div class="bsFieldLabel"><apex:outputlabel value="Company" /><span class="mandatorycolor"> *</span></div>
                                                                        <label class="ipmSelect">
                                                                            <apex:actionRegion >
                                                                                <apex:outputPanel >
                                                                                    <apex:selectList size="1" value="{!project.IPM_Company_Card__c}" onchange="callCompanyCard();"  styleClass="selCompany" disabled="{!OR(ISBLANK(project.Id),project.IPM_IsSaved__c,NOT(isEditable))}">  
                                                                                        <apex:selectOptions value="{!Allcompanycard}" />
                                                                                    </apex:selectList>
                                                                                </apex:outputPanel>
                                                        			<apex:actionfunction name="callCompanyCard"  action="{!populateCategory}" onComplete="selectNextTabone();selectNextTabtwo();selectNextTabthree();" reRender="WhiteSpaceFastTrackPanel,fastTrackPanel,whiteSpacePanel,categoryPanel,BrandPositionPanel,ProjectSubTypePanel,GMKQuestionsPanel,pos,selectNextTabScript,multiBPositions" status="refreshCategory" />
                                                        
                                                                            </apex:actionRegion>
                                                                        </label>
                                                                        <apex:outputPanel layout="block" id="CompanyMsg">
                                                                        <!-- To display below outputText when company card is empty while saving project   -->
                                                                            <apex:outputText value="{!$Label.IPM_Company_Card_Mandatory}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Company_Card__c'))}" styleClass="brandErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>      
                                                                </div>
                                                                <div class="col-sm-6 proMarginbottom rightColumn">
                                                                    <apex:outputPanel id="categoryPanel" styleClass="inputField">
                                                                        <apex:outputLabel value="{!$Label.IPM_CATEGORY}" styleClass="bsFieldLabel" /><span class="mandatorycolor"> *</span>                                                                       
                                                                        <label class="ipmSelect custSelectWidth">
                                                                          <apex:actionStatus startText="" id="refreshCategory" startStyleClass="proInit"/>
                                                                          <apex:selectList value="{!project.IPM_Category_Text__c}" multiselect="false" size="1" id="cat" disabled="{!!isEditable}" styleClass="selCategory">
                                                      			  <apex:actionSupport event="onchange" action="{!none}" oncomplete="selectNextTabone();selectNextTabtwo();selectNextTabthree();" reRender="ProjectSubTypePanel,BrandPositionPanel,selectNextTabScript" status="refreshPos" />  
                                                                               
                                                                              <apex:selectOptions value="{!Category}"></apex:selectOptions>
                                                                          </apex:selectList>
                                                                        </label>
                                                                        <apex:outputPanel id="CateMsg">
                                                                            <!-- To display below outputText when category is empty while saving project   -->
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_CATEGORY}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Category_Text__c'))}" styleClass="categoryErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>     
                                                                </div>
                                                            </div>      
                                                            <div class="row">
                                                                <apex:outputPanel id="ProjectSubTypePanel" styleClass="col-sm-12">
                                                                    <!-- To display below outputPanel when project sub type size is greater than 0   -->
                                                                    <apex:outputPanel layout="block" styleClass="inputField"  rendered="{!projectSubTypes.size > 0}"> 
                                                                        <apex:outputPanel layout="block" styleClass="inputField oprtnRadioContainer" >
                                                                            <apex:outputLabel value="{!$Label.IPM_SelectProjectType}" styleClass="bsFieldLabel" /><span class="mandatorycolor"> *</span>
                                                                            <apex:outputPanel layout="inline" styleClass="mandatorycolor"></apex:outputPanel>                                                                      
                                                                            <div class="ipmRadioButton oprtnRadiobtn">                                                                                      
                                                                                <apex:selectRadio styleClass="{!IF(AND(isEditable,NOT(project.IPM_IsSaved__c)),'','disable')}"  value="{!project.IPM_ProjectSubType__c}"  disabled="{!OR(project.IPM_IsSaved__c,NOT(isEditable))}" > 
                                                                                <apex:actionSupport event="onchange" action="{!associateProjectMetadata}" oncomplete="selectNextTabone();selectNextTabtwo();selectNextTabthree();" reRender="BrandPositionPanel,GMKQuestionsPanel,WhiteSpaceFastTrackPanel,selectNextTabScript" status="refreshPos" />
                                                                                    <span><apex:selectOptions value="{!projectSubTypes}"></apex:selectOptions></span>
                                                                                </apex:selectRadio>
                                                                            </div> 
                                                                            <apex:variable value="{!1}" var="rowNum"/>
                                                                            <!-- To display below project sub type when user has edit access and project is not saved   -->
                                                                            <apex:repeat value="{!projectSubTypes}" var="subProjectType" rendered="{!AND(isEditable,NOT(project.IPM_IsSaved__c))}"  >
                                                                                <div class="radioTooltip{!rowNum} toolTipMsg oprtnToolTipMsg" data-toggle="tooltip" selectedValue="{!subProjectType.value}" > 
                                                                                    <span>{!$Label[HelpTextProjectSubType[subProjectType.value]]}</span>
                                                                                </div>
                                                                                <apex:variable var="rowNum" value="{!rowNum + 1}"/>
                                                                            </apex:repeat>                                 
                                                                        </apex:outputPanel>
                                                                        <!-- To display below outputPanel when current user has edit access on page   -->
                                                                        <apex:outputPanel layout="block" rendered="{!OR(NOT(project.IPM_IsSaved__c),isEditable)}" >
                                                                            <!-- To display below outputText when project subtype is not selected   -->
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_PROJECTSUBTYPE}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_ProjectSubType__c'))}" styleClass="brandErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>
                                                            </div>
                                                            <div class="row brandPosContainer">
                                                                <div class="col-sm-6"> 
                                                                    <apex:outputPanel id="BrandPositionPanel" layout="block" styleClass="inputField">
                                                                       
                                                                        <apex:outputLabel value="{!$Label.IPM_BRAND_POSITIONING}" styleClass="bsFieldLabel" /><span class="mandatorycolor"> *</span>
                                                                        <span class="SecButtonSet infoMarTop">
                                                                            <!-- To display below outputPanel when multiple brand positioning is applicable   -->
                                                                    <apex:outputPanel rendered="{!projectMetadata.IPM_MultiBrandPosApplicable__c}">
                                                                                <a class="icoButton info small-Info" title="{!$Label.IPM_BrandPositioningHelpText}"></a>
                                                                        	</apex:outputPanel>
                                                                    	</span>
                                                                        <apex:actionStatus startText="" id="refreshPos" startStyleClass="proInit"/>    
                                                                        <!-- To display below outputPanel when multiple brand positioning is not applicable   -->
                                                            		<apex:outputPanel id="SingleBrandPanel" rendered="{!NOT(projectMetadata.IPM_MultiBrandPosApplicable__c)}">
                                                                            <label class="ipmSelect custSelectWidth"> 
                                                                                <apex:selectList value="{!project.IPM_Brand_Positioning__c}" multiselect="false" size="1"  disabled="{!!isEditable}" styleClass="selBrandPos" >
                                                                                    <apex:selectOptions value="{!brandPos}"></apex:selectOptions>
                                                                                </apex:selectList>
                                                                            </label>
                                                                        </apex:outputPanel>
                                                                        <!-- To display below outputPanel when multiple brand positioning is applicable   -->
                                                            		<apex:outputPanel layout="block" rendered="{!AND(projectMetadata.IPM_MultiBrandPosApplicable__c)}" styleClass="noPadright noPadleft dropdown brandposListContainer ipmDropDown" >    
                                                                            
                                                                            <apex:outputPanel html-data-toggle="dropdown" layout="block" styleClass="clickCmiList" >
                                                                                <div class="ipmDropDownSelect">
                                                                                    <span class='brandSelValues'>{!$label.IPM_SelectBrandPosition}</span>
                                                                                    <a class="listArrow"></a>    
                                                                                </div>
                                                                            </apex:outputPanel>
                                                                            <apex:outputPanel layout="block" styleClass="dropdown-menu pull-right ipmDropDownList brandposList" id="multiBPositions">
                                                                                <apex:inputText value="{!project.IPM_Brand_Positioning__c}" id="brandHiddenField" styleClass="hiddenBrand"/>
                                                                                <!-- To display below outputPanel when current user has edit access on page   -->
                                                                                <apex:dataList value="{!brandPos}" var="cou" id="brandposListUL" styleClass="cccmiList" rendered="{!isEditable}" >                                                                
                                                                                    <div class="col-xs-1 ipmCheckbox">
                                                                                        <input class="{!IF(isEditable,'brandPosListbox','disable')} ccCheck" type="checkbox" value="{!cou.value}" id="{!cou.value}" />
                                                                                        <label for="{!cou.value}"></label>
                                                                                    </div>
                                                                                    <div class="col-xs-8 noPadleft brandPosLabel">{!cou.label}</div>                                                                
                                                                                </apex:dataList>
                                                                                <!-- To display below outputPanel when current user has edit access on page   -->
                                                                                <apex:outputPanel rendered="{!isEditable}" >
                                                                                    <li class="filterActionscc">
                                                                                        <div class="ipmButtonGroup noPadleft noPadright col-xs-6 pull-left">
                                                                                            <a value="Done" class="ipmDropbuttonscc" onClick="">Done</a>
                                                                                        </div>
                                                                                        <div class="ipmButtonGroup noPadleft noPadright col-xs-6 pull-left">   
                                                                                            <a value="Reset" class="ipmDropresetcc">Reset</a>
                                                                                        </div>
                                                                                    </li>
                                                                                </apex:outputPanel>
                                                                            </apex:outputPanel>      
                                                                        </apex:outputPanel>              
                                                                        <apex:outputPanel layout="block">
                                                                            <!-- To display below outputText when brand positioning field value is empty while saving project   -->
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_BRAND_POSITIONING}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Brand_Positioning__c'))}" styleClass="brandErrMsg"/>
                                                                            <!-- To display below outputText when brand positioning field values have been selected more than 20.   -->
                                                                            <apex:outputText value="{!$Label.IPM_MaxSelectBrandPositioning}" rendered="{!AND(isMaxBrandPosition,CONTAINS(businessErrorField,'IPM_Brand_Positioning__c'))}" styleClass="brandErrMsg" />
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col-sm-6 rightColumn">
                                                                    <apex:outputPanel layout="block" id="TargetDatePanel" styleClass="inputField launchPeriod" >
                                                                        <div class="tldLabel"><apex:outputLabel value="{!$Label.IPM_TARGET_LAUNCH_DATE}" styleClass="bsFieldLabel" /><span class="mandatorycolor"> *</span></div>
                                                                        <!-- To display below inputField when current user has edit access on page   -->
                                                                        <apex:inputField value="{!project.IPM_Target_Launch_Dates__c}" styleClass="dateInputBox tldBox calendar" rendered="{!isEditable}" onfocus="DatePicker.pickDate(true, this , false);"/>                                                              
                                                                        <!-- To display below outputField when current user has read access on page   -->
                                                                        <apex:outputField value="{!project.IPM_Target_Launch_Dates__c}" rendered="{!!isEditable}"/>
                                                                        <!-- To display below outputLabel when IPM_Target_Launch_Date__c field value has been selected from bosscard    -->
                                                                        <apex:outputLabel value="{!project.IPM_Target_Launch_Date__c} [In Bosscard]" styleClass="tldQ" rendered="{!IF(project.IPM_Target_Launch_Date__c !='','true','false')}"/>
                                                                        <apex:outputPanel id="TLDPMsg">
                                                                            <!-- To display below outputText when IPM_Target_Launch_Dates__c field value is empty while saving project    -->
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_TLD}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Target_Launch_Dates__c'))}" styleClass="TldErrMsg"/>
                                                                            <!-- To display below outputText when TLD date is less than six month    -->
                                                                            <apex:outputText value="{!$Label.IPM_TLD_SHOULD_BE_GREATER_THAN_TODAY }" rendered="{!AND(isTLDLessThnSixMnth,tldRestriction)}" styleClass="TldErrMsg"/> 
                                                                            <!-- To display below outputText when TLD date is greater than today date    -->
                                                                            <apex:outputText value="{!$Label.IPM_Target_Launch_Date_Error}" rendered="{!isTLDLessThnToday}" styleClass="TldErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="row">
                                                                <div class="col-sm-12"> 
                                                        <apex:outputPanel layout="block" styleClass="inputField"  id="GMKQuestionsPanel" >

                                                        <!-- To display below outputPanel when charter question is applicable    -->                                         
                                                            <apex:outputPanel layout="block" styleClass="inputField oprtnRadioContainer contractContainer" rendered="{!projectMetadata.IPM_GKMQuestionsApplicable__c}">

                                                                <apex:outputLabel value="{!$Label[GMKQuestionsLabel]}" styleClass="bsFieldLabel setupBlock" />

                                                                <!-- To display below outputPanel when charter question is empty while saving project    -->
                                                                <apex:outputPanel layout="inline" styleClass="mandatorycolor" rendered="{!CONTAINS(projectMetadata.IPM_MandatoryFields__c,'IPM_GKMQuestionsApplicable__c')}">*</apex:outputPanel>

                                                                <div class="ipmRadioButton gcltquestions">  
                                                                    <apex:selectRadio styleClass="{!IF(isEditable,'','disable')}" value="{!project[projectMetadata.IPM_GMKQuesiton__c]}"  
                                                                        disabled="{!!isEditable}" >
                                                                        <apex:selectOptions value="{!GKMQuestions}"></apex:selectOptions>
                                                                    </apex:selectRadio>
                                                                </div>
                                                                <apex:variable value="{!1}" var="rowNum"/>
                                                                <!-- To display below repeat list when current user has edit access on page    -->
                                                                <apex:repeat value="{!GKMQuestions}" var="GKMQuestion" rendered="{!isEditable}">
                                                                    <div class="radioTooltip{!rowNum} toolTipMsg charterTipMsg" data-toggle="tooltip" selectedValue="{!GKMQuestion.value}" > 
                                                                        <span>{!$Label[HelpTextGKMQuestions[GKMQuestion.value]]}</span>
                                                                    </div> 
                                                                    <apex:variable var="rowNum" value="{!rowNum + 1}"/>
                                                                </apex:repeat>                                 
                                                            </apex:outputPanel>
                                                            <!-- To display below outputPanel when current user has edit access on page    -->
                                                            <apex:outputPanel layout="block" rendered="{!isEditable}" >
                                                                <!-- To display below outputText when gatekeeping model is empty while saving project    -->
                                                                <apex:outputText value="{!$Label.IPM_SELECT_GATEKEEPING}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_GateKeeping_Model__c'))}" styleClass="brandErrMsg"/>
                                                            </apex:outputPanel>
                                                        </apex:outputPanel>
                                                    </div>
                                                </div>

                                                            <div class="row">
                                                                <div class="col-sm-12"> 
                                                                    <apex:outputPanel id="WhiteSpaceFastTrackPanel">
                                                                        <!-- To display below outputPanel when fasttract or white space is applicable    -->
                                                                        <apex:outputPanel rendered="{!OR(projectMetadata.IPM_FastTrackApplicable__c,projectMetadata.IPM_WhiteSpaceApplicable__c)}"> 
                                                                            <div class="col-sm-12 yellowBox noPadleft">
                                                                                <span class="SecButtonSet infoMarTop pull-left">
                                                                                <a class="icoButton info smalllinfo" title="{!$Label.IPM_FAST_TRACK_WHITE_SPACE}"></a>
                                                                            </span>
                                                                                <apex:outputPanel id="fastTrackPanel" styleClass="fastTrackBox"  >
                                                                                    <!-- To display below outputPanel when fasttract is applicable    -->
                                                                                    <apex:outputPanel rendered="{!projectMetadata.IPM_FastTrackApplicable__c}">
                                                                            <apex:inputCheckbox styleClass="fastTrackcheck" value="{!project.IPM_Fast_Track_Project__c }" />
                                                                                    <span class="projectraLabel">{!$Label.IPM_FAST_TRACK}</span>
                                                                                    <apex:actionSupport event="onchange" reRender="FastTrackHelpTextpanel"  />
                                                                                    </apex:outputPanel>
                                                                                </apex:outputPanel>
                                                                                <apex:outputPanel id="whiteSpacePanel" styleClass="whiteSpaceBox" >
                                                                                <!-- To display below outputPanel when white space is applicable    -->
                                                                                <apex:outputPanel rendered="{!projectMetadata.IPM_WhiteSpaceApplicable__c}" >
                                                                                    <apex:inputCheckbox styleClass="fastTrackcheck" value="{!project.IPM_White_Space_Project__c}" disabled="{!!isEditable}"/>
                                                                                    <span class="projectraLabel">{!$Label.IPM_White_Space}</span>
                                                                                    <apex:actionSupport event="onchange" reRender="WhiteSpaceHelpTextpanel"  />
                                                                                </apex:outputPanel>
                                                                                </apex:outputPanel>
                                                                            </div>
                                                                            <apex:outputPanel id="FastTrackHelpTextpanel">
                                                                                <!-- To display below outputPanel when current user has edit access on page    -->
                                                                                <apex:outputPanel styleClass="col-sm-12 toolTipMsg radioTooltip10 marginT20" layout="block" rendered="{!AND(project.IPM_Fast_Track_Project__c,isEditable)}" >
                                                                                    <apex:outputText value="{!$Label.IPM_FastTrack_HelpText}" />
                                                                                </apex:outputPanel>
                                                                            </apex:outputPanel>
                                                                            <apex:outputPanel id="WhiteSpaceHelpTextpanel">
                                                                                <!-- To display below outputPanel when current user has edit access on page    -->
                                                                                <apex:outputPanel styleClass="col-sm-12 toolTipMsg radioTooltip11 marginT20" layout="block" rendered="{!AND(project.IPM_White_Space_Project__c,isEditable)}" >
                                                                                    <apex:outputText value="{!$Label.IPM_WhiteSpace_HelpText}" />
                                                                                </apex:outputPanel>
                                                                            </apex:outputPanel>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12 noPadleft">
                                                                <span class="fieldnote"><span class="mandatorycolor">*</span> {!$Label.IPM_MARKED_FIELDS_MANDATORY}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> 
                                            <apex:actionFunction name="SaveComplexity" action="{!SaveComplexityType}" onComplete="IPMApp.complexityrender()" status="shading">
                                                <apex:param name="holdcomplexity" assignTo="{!ComplexityType}" value="Lite"/>
                                            </apex:actionFunction> 
                                            <apex:actionFunction name="SaveComplexity1" action="{!SaveComplexityType}" onComplete="IPMApp.complexityrender()" status="shading">
                                                <apex:param name="holdcomplexity1" assignTo="{!ComplexityType}" value="Full"/>
                                            </apex:actionFunction> 
                                        </div>
                                        <apex:outputPanel id="buttonPanel" styleClass="col-sm-12">
                                            <!-- To display below outputPanel when current user has edit access on page    -->
                                            <apex:outputpanel rendered="{!isEditable}">
                                                <div class="pull-right proSetupButton renderBtnset txtAlignright">
                                                    <apex:actionStatus startText="" id="Loading" startStyleClass="proInit"/>
                                                    <!-- To display below commandLink when current user has edit access on page, project is saved and phase is not empty    -->
                            						<apex:commandLink value="Save and continue" action="{!saveProceed}" styleClass="coreparameters custMarginbottom ipmButton primary"  reRender="CompanyCardPanel,ProjectNamePanel,Container5, refreshquit,miles,selectNextTabScript,categoryPanel,ProjectSubTypePanel,GMKQuestionsPanel,WhiteSpaceFastTrackPanel,CompanyCardPanel,BrandPositionPanel,TargetDatePanel,formMessage" rendered="{! AND(isEditable,isSavedDB,NOT(ISNULL(project.IPM_Phase__c)),NOT(ISBLANK(project.IPM_Phase__c)) )}" oncomplete="goTocoreparameters();selectNextTabone();selectNextTabtwo();selectNextTabthree();" onClick="skipValidation();"/>
                                                    <!-- To display below commandLink when current user has edit access on page and project is not saved.   -->
                            						<apex:commandLink value="{!$Label.IPM_SubmitProjectCreation}" action="{!saveProceed}" styleClass="coreparameters custMarginbottom ipmButton primary"  reRender="CompanyCardPanel,ProjectNamePanel,Container5,buttonPanel,refreshquit,miles,selectNextTabScript,categoryPanel,ProjectSubTypePanel,GMKQuestionsPanel,WhiteSpaceFastTrackPanel,CompanyCardPanel,BrandPositionPanel,TargetDatePanel,formMessage" rendered="{!AND(isEditable,NOT(isSavedDB)) }" oncomplete="goToHomePage();selectNextTabone();selectNextTabtwo();selectNextTabthree();" onClick="skipValidation();"/>
                                                </div>
                                            </apex:outputpanel>
                                        </apex:outputPanel>
                                   
                                </div>
                            </div>        
                        </div>
                        <div class="ipmGetStartedContent" id="coreparameters" >
                            <apex:outputPanel id="IPMcore">
                                <c:IPM_Coreparameters /> 
                            </apex:outputPanel>        
                        </div>
                        <div class="ipmGetStartedContent teammembers" id="teammembers">
                            <c:IPM_Team_Assignment />
                        </div>
                        <div class="ipmGetStartedContent" id="milestones">
                            <div class="container-fluid">
                                <apex:actionStatus startText="" id="shading" startStyleClass="proInit"/>
                                <div class="row">    
                                    <div class="col-sm-12 negateMarginTop">
                                        <span class="coreParam">{!$Label.IPM_ASSIGN_TIMELINE_TO_MILESTONES}</span>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="col-sm-12 yellowBox boxPadTop noPadleft">
                                            <span class="mStonequest">{!$Label.IPM_ProjectComplexityMessage} </span>
                                            <span class="mStonequest">{!$Label.IPM_MilestoneTodoMessage}</span>
                                            <div class="ipmRadioButton mstonebWidth proRoute">
                                                <input id="lite" type="radio" name="mstone" ischecked="{!project.IPM_Complexity__c}" value="Lite" onChange="SaveComplexity()" isDisabled="{!OR(isEditable,reactivateProject)}"/>
                                                <label for="lite"></label>
                                                <span class="raLabel">{!$Label.IPM_Lite}</span>
                                            </div>
                                            <div class="ipmRadioButton mstonebWidth proRoute">
                                                <input id="full" type="radio" name="mstone" value="Full" ischecked="{!project.IPM_Complexity__c}" onChange="SaveComplexity1()" isDisabled="{!OR(isEditable,reactivateProject)}"/>
                                                <label for="full"></label>
                                                <span class="raLabel">{!$Label.IPM_Full}</span>  
                                            </div>
                                            <div class="radioTooltipipmLite toolTipMsg routeTip" id="Lite">
                                                <span>{!$Label.IPM_SELECTING_IPM_LITE}</span>
                                            </div>
                                            <div class="radioTooltipipmFull toolTipMsg routeTip" id="Full">
                                                <span>{!$Label.IPM_SELECTING_IPM_FULL}</span>
                                            </div>
                                        </div>
                                        <apex:outputPanel id="miles">
                                            <c:IPM_ListMilestonesTab pId="{!projectId}" Editmilestone="{!isMilestoneEditable}" isBD="{!isBDuser}" IsDateEditable="{!isupdateDates}" ReactivateProject="{!reactivateProject}"/>
                                        </apex:outputPanel>   
                                    </div>
                                    <!-- To display below outputPanel when current user has edit access on page  -->
                                    <apex:outputpanel rendered="{!isEditable}">
                                        <div class="skipButtoncontainer1 txtAlignright pull-right">
                                            <div class="buttonmarRight noPadright pull-left">
                                                <input type="button" onClick="closemilestones()" class="todos ipmButton" value="Skip for now"/>
                                            </div> 
                                            <div class="buttonmarRight backButton pull-left">
                                                <input type="button" onClick="backTab(this)" class="teammembers ipmButton" value="Back"/>
                                            </div>
                                            <div class="buttonmarRight pull-left ml5">
                                                <input type="button" onClick="skipValidation(),closemilestones()" class="todos ipmButton primary" value="Save and Continue"/>
                                            </div> 
                                        </div>
                                    </apex:outputpanel>
                                </div>  
                            </div>        
                        </div>
                        <div class="ipmGetStartedContent" id="todos">
                            <div class="container-fluid">
                                <div class="row">    
                                    <div class="col-sm-12 negateMarginTop">
                                        <span class="coreParam">{!$Label.IPM_TO_DOs_USES}</span>
                                    </div>
                                    <div class="col-sm-12">
                                        <span class="todoTitle">{!$Label.IPM_ToDosLabel}
                                         <span class="SecButtonSet infoMarTop">
                                 <a class="icoButton info smallllinfo" title="{!$Label.IPM_TO_DO_ARE_THE_SET}"></a>
                            </span></span>
                                    </div>
                                    <div class="col-sm-12">
                                        <apex:outputPanel rendered="{!project.Is_Archieved__c == false}"> 
                                            <div class="col-sm-12 yellowBox todoBox noPadleft">
                                                <div class="ipmCheckbox">
                                                    <apex:outputPanel rendered="{!if(AND(project.IPM_PrepareForArchival__c ==false,isEditable==true),true,false)}">
                                                        <input id="displayTasksChkBox" isChecked="{!project.IPM_PM_Approach__c}" type="checkbox" onchange="saveApproach()" />
                                                        <label for="displayTasksChkBox"></label>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel rendered="{!if(OR(project.IPM_PrepareForArchival__c ==true,isEditable==FALSE),TRUE,FALSE)}">
                                                        <input id="displayTasksChkBox" isChecked="{!project.IPM_PM_Approach__c}" type="checkbox" onchange="saveApproach()"  Disabled="true"/>
                                                        <label for="displayTasksChkBox"></label>
                                                    </apex:outputPanel>
                                                    <span class="raLabelTodo">{!$Label.IPM_TO_DOs_VIA_NAVIGATOR}</span>
                                                </div>  
                                            </div>
                                            <apex:actionFunction name="saveApproach" action="{!SaveIPMApproach}" reRender="showtask, showInfoMsg" status="displayTasksChkBoxStatus" onComplete="callbackLoadAction()"/>
                                        </apex:outputPanel>
                                        <apex:outputPanel id="showtask" rendered="{!OR(project.Is_Archieved__c == false,reactivateProject) }"> 
                                            <!-- To display below vf component when project approach is internal    -->
                                            <c:IPM_ToDos createTask="{!isCreateTask}" pId="{!projectId}" Edittask="{!isTaskeditable}" EditAlltask="{!isAllTask}" functionrole="{!FunctionRole}" rendered="{!project.IPM_PM_Approach__c='Internal'}" />  
                                            <!-- To display below outputPanel when project approach is not internal    -->
                                            <apex:outputPanel rendered="{!project.IPM_PM_Approach__c !='Internal'}" id="showInfoMsg">
                                                <div class="col-sm-12 infoMsg toDoInfo">{!$Label.IPM_OUTSIDE_NAVIGATOR}</div>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <apex:actionStatus id="displayTasksChkBoxStatus" startStyleClass="proInit" />
                                    </div>
                                    <!-- To display below outputPanel when current user has edit access on page  -->
                                    <apex:outputpanel rendered="{!isEditable}">
                                        <div class="skipButtoncontainer1 txtAlignright pull-right">
                                            <div class="buttonmarRight pull-left">
                                                <input type="button" onClick="backTab(this)" class="milestones ipmButton" value="Back"/>
                                            </div>
                                            <div class="buttonmarRight pull-left">
												<apex:commandLink styleClass="ipmButton primary"  value="Save and Continue" action="{!saveProject}"/>
                                            </div> 
                                        </div>
                                    </apex:outputpanel>
                                </div>  
                            </div>        
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmDeleteModalDiv">
                <c:IPM_ConfirmModal />
            </div>
            <div id="ipmAddMemberModal" data-backdrop-limit="1" class="modal fade ipmAddMemberModal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_ADD_TEAM_MEMBERS}</div>
                        </div>
                        <div class="modal-body">  
                        </div>
                    </div>
                </div>
            </div>
            <div id="deleteImgPop" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_Delete_Image}</div>
                        </div>
                        <div class="modal-body">
                            <div class="removeapprpopup">
                                <span class="removeApprText">{!$Label.IPM_Image_Removal}</span>
                                <div class="remvButtonContainer pull-right">  
                                    <div class="pull-left buttonMarginRight noPadright">
                                        <input type="button" class="ipmButton" data-dismiss="modal" value="Cancel"/>
                                    </div>
                                    <div class="buttonMarginRight noPadright pull-left" >
                                        <span class="ipmButton primary" data-dismiss="modal" onClick="deleteProjectImage();">Delete</span>
                                    </div>
                                </div>
                            </div>        
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmUploadImage" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" onClick="closepopupupload()" aria-hidden="true">&times;</button>
                            <div class="modal-title"></div>
                        </div>
                        <div class="modal-body">   
                        </div>
                    </div>
                </div>
            </div>            
            <div id="ipmaddMstonWizard" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_ADD_MILESTONE}</div>
                        </div>
                        <div class="modal-body">     
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmMstoneTaskWizard" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_ADD_TASK}</div>
                        </div>
                        <div class="modal-body">  
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmModalEdit" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">  
                        </div>
                    </div>
                </div>
            </div> 
            <div id="quitWizard" tabindex="-1" data-backdrop-limit="1" class="modal fade quitWizard">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_QUIT_PROJECT_SETUP}</div>
                        </div>
                        <div class="modal-body">
                            <div class="container-fluid">
                                <div class="row">    
                                    <div class="col-sm-12">
                                        <span class="skipDesc">{!$Label.IPM_EXIT_PROJECT_SETUP}</span>
                                    </div>
                                    <div class="skipButtoncontainer1 txtAlignright pull-right">
                                        <div class="buttonmarRight pull-left noPadright fleft">
                                            <apex:outputPanel id="refreshquit">
                                                <input type="button" class="ipmButton" onClick="quit(this);changeAlertBosscardName();" value="Quit" />
                                            </apex:outputPanel> 
                                        </div> 
                                        <div class="buttonmarRight pull-left noPadright">
                                            <input type="button" class="ipmButton primary" data-dismiss="modal" value="Cancel"/>
                                        </div> 
                                    </div>
                                </div>  
                            </div>    
                        </div>
                    </div>
                </div>
            </div>
            <div id="quitReactivateWizard" tabindex="-1" data-backdrop-limit="1" class="modal fade quitWizard">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_ReactivatingProject}</div>
                        </div>
                        <div class="modal-body">
                            <div class="container-fluid">
                                <div class="row">    
                                    <div class="col-sm-12">
                                        <span class="skipDesc">{!$Label.IPM_ReactivateProjectMessage}</span>
                                    </div>
                                    <div class="skipButtoncontainer1 txtAlignright pull-right">
                                        <div class="buttonmarRight pull-left noPadright fleft">
                                            <apex:outputPanel id="refreshReactivatequit">
                                                <input type="button" class="ipmButton" onClick="quit(this);navigateToOverviewPage();" value="{!$Label.IPM_CloseWizard}" />
                                            </apex:outputPanel> 
                                        </div> 
                                        <div class="buttonmarRight pull-left noPadright">
                                            <input type="button" class="ipmButton primary" data-dismiss="modal" value="{!$Label.IPM_ReturnToWizard}"/>
                                        </div> 
                                    </div>
                                </div>  
                            </div>    
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmModalDelete" class="modal fade ipmModalDelete">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_Remove_Member}</div>
                        </div>
                        <div class="modal-body">
                            <div class="container-fluid">
                                <div class="row">    
                                    <div class="col-sm-12">
                                        <span class="skipDesc">{!$Label.IPM_Delete_Member}</span>
                                    </div>
                                    <div class="deleteButtoncontainer txtAlignright pull-right"> 
                                        <div class="noPadright buttonMarginRight pull-left">
                                            <input type="button" class="ipmButton" data-dismiss="modal" value="Cancel"/>
                                        </div> 
                                        <apex:outputPanel id="SkipBossC">
                                            <div class="fleft noPadright">
                                                <input type="button" class="confirmAction ipmButton primary" value="Remove" data-dismiss="modal"/>
                                            </div> 
                                        </apex:outputPanel>
                                    </div>  
                                </div>  
                            </div>          
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmModalDiv" class="edittaskModal">
                <c:IPM_ModalHeaderDiv />
            </div>
            <div id="basicModal" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"
                                aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_CP_Unlink}</div>
                        </div>
                        <div class="">
                            <div class="paracont">
                                <p>
                                    <apex:outputText value="{!$Label.IPM_BETUnlinkingMessage}">
                                        <apex:param value="{!PreSelectedBet.betName}" />
                                    </apex:outputText>
                                </p>
                            </div>
                            <div class="paracont">
                                <div class="floatR">
                                    <a href="#" title="{!$Label.IPM_Back}" class="ipmButton" onClick="skipValidation();"
                                         data-dismiss="modal">{!$Label.IPM_CANCEL}</a> <a href="#"
                                        title="{!$Label.IPM_SAVE_AND_CONTINUE}" onClick="unlinkBET();skipValidation();"
                                        class="ipmButton primary" data-dismiss="modal">{!$Label.IPM_CP_Unlink}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </apex:define> 
    </apex:composition>
    </apex:outputPanel>
    </apex:form> 
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/jquery-ui.min.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_functions.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_Accordion.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_Limiter.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_CoreParameter.js')}" type="text/javascript"></script>   
	<apex:outputPanel id="selectNextTabScript">
    <script>
         var IPMAppPS = {wmessage:'{!$Label.IPM_Unsaved_Alert}',sectorLabel:'{!$Label.IPM_SelectSubSector}',selectLabel:'{!$Label.IPM_ProjectSetup_SELECT}',setuppageurl:'{!URLFOR($Page.IPM_ProjectSetUpView)}',projectId:'{!projectId}',save:'{!saveSuccess}',task:'{!isTaskgenerated}',jobStatus:'{!project.IPM_Project_Job_Status__c}',ProjectOverviewPage:'{!URLFOR($Page.IPM_ProjectOverview)}',homePage:'{!URLFOR($Page.IPM_HomePage)}',complexity:'{!JSINHTMLENCODE(ComplexityType)}',protabname:'{!JSINHTMLENCODE(ProjectTabName)}'}; 
    jq(".info").tooltip({ position: { my: 'center top', at: 'center bottom+10' }}); 
    var apexAccountList =[];                 
    <apex:repeat value="{!listofprojectname}" var="proList">          
        apexAccountList.push('{!proList}');         
    </apex:repeat>
    </script>
</apex:outputPanel> 
<script>
function quit(qelem){
    var gClass= jq("#ipmModalGetStarted .ipmStartedTabs li.active").attr('class').split(' ');
    var gId = gClass[0];
    Visualforce.remoting.Manager.invokeAction(
        '{!$RemoteAction.IPM_ProjectSetUpController.savetabname}',gId,'{!projectId}',
        function(result, event){
            if (event.status) {
                window.parent.location.href="/apex/IPM_ProjectSetUpView?Pid={!projectId}";
            }
        }
    );
}
</script> 
	<script>
		function navigateToOverviewPage(){
			window.parent.location.href="/apex/IPM_ProjectOverview?id={!projectId}";
		}	
	</script>
<script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_ProjectSetUpView.js')}" type="text/javascript"></script>
<script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_CoreparameterDesign.js')}" type="text/javascript"></script>
</apex:page>