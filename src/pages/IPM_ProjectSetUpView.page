<!--  
*************************************************************************************************************************************************************
*@Description:This is project initiation page, where user should enter all project details. User will get 5 tabs to complete the wizard.
*@Author: Cognizant.
*@Created Date: 22/01/2015 
*@Copyright Â© 2015  Unilever  
*************************************************************************************************************************************************************
-->
<apex:page standardController="IPM_Project__c" extensions="IPM_ProjectSetUpController,IPM_GetHelpDoc" sidebar="false" standardStylesheets="true" cache="false" docType="html-5.0">    
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_CoreParameter.css')}"/> 
  <apex:form >
  <apex:outputPanel id="setupWizard">  
    <apex:outputPanel styleClass="proxyTLP">
       
            <apex:pageMessages />
            <apex:inputField value="{!project.IPM_Target_Launch_Dates__c}" />
            <apex:actionFunction action="{!Initialise}" name="callpagerefresh" reRender="QuitProTab,createNewProject"/> 
       
    </apex:outputPanel>  
 
    <div class='cust-overlay'></div>
    <apex:composition template="IPM_TemplateRevamp"> 
        <apex:define name="body">
            <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_ProjectSetupDesign.css')}"/>
            <apex:pageMessages />
            <div class="gradientbg">
                <div class="row">
                    <c:IPM_BosscardDetails ProName="{!project.IPM_Project_Name__c}" isBosscard="{!project.IPM_Bosscard_Status__c}" />
                </div>
            </div>
            <div class="ipmContent"> 
                <div class="row">
                    <div class="col-sm-12 noPadleft noPadright">
                        <div class="panel-group pageHeadToolbar clearfix">
                        
                            <!-- To place the help symbol in the top right hand corner of page -->
                            <apex:outputPanel layout="block" styleClass="SecButtonSet delete pull-right" >
                                <apex:outputLink value="{!URL}" id="theLink" styleClass="icoButton question" target="_blank" title="{!$Label.IPM_Help}">?</apex:outputLink>
                            </apex:outputPanel>
                        
                            <div class="row">
                                <div class="col-sm-5 pull-left">
                                    <span class="pageTitle">
                                        {!$Label.IPM_PROJECT_SETUP}
                                    </span>    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <apex:outputPanel layout="block" styleClass="row" rendered="{! AND(project.IPM_Project_Job_Status__c != 'Eligible For Processing',project.IPM_Project_Job_Status__c != 'Processing') }" >
                    <div class="col-sm-12 custPageMarginbottom">
                        <div class="projectSetupicon">
                            <img alt="Idea"  src="{!URLFOR($Resource.IPM_Resource, 'images/Icon_Idea.svg')}" />
                        </div>
                        <div class="projectSetupdesc">
                            <span class="descHead">{!$Label.IPM_WELCOME_TO_IDEA_PHASE}</span>
                            <span class="descCaption">{!$Label.IPM_NEED_TO_SET_UP_PROJECT} </span>
                        </div>
                        <div class="col-sm-12">
                            <div class="getStartedbuttonCont">
                                <div class="getStarted" id="getStarted">
                                                                    
                                        <apex:commandButton value="{!$Label.IPM_Get_started}" styleClass="ipmButton getStartedbutton primary" reRender="createNewProject" action="{!none}" rendered="{!isEditable}" />
                                   
                                </div>
                            </div>
                        </div>
                    </div>                 
                </apex:outputPanel>
                
                <apex:actionPoller action="{!initialise}"  interval="10" rerender="setupWizard" oncomplete="reload()" enabled="{!IF(OR(project.IPM_Project_Job_Status__c = 'Eligible For Processing',project.IPM_Project_Job_Status__c = 'Processing'),true,false)}" />
                <apex:outputPanel layout="block" styleClass="row" rendered="{!OR( project.IPM_Project_Job_Status__c == 'Eligible For Processing',project.IPM_Project_Job_Status__c == 'Processing' )}">
                    
                    <div class="col-sm-12 custPageMarginbottom">
                        <div class="projectSetupicon">
                            <img alt="Idea"  src="{!URLFOR($Resource.IPM_Resource, 'images/Inprogress.svg')}" />
                        </div>
                        <div class="projectSetupdesc">
                            <span class="descHead">{!$Label.IPM_WELCOME_TO_IDEA_PHASE}</span>
                            <span class="descCaption">{!$Label.IPM_PROJECTCREATION_INPROGRESS} </span>  
                        </div>
                    </div>                 
                </apex:outputPanel>
                
            </div>           
            <div id="ipmModalGetStarted" class="modal fade in" aria-hidden="true" data-keyboard="false" data-backdrop="static" data-focus-on="input:first">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header popup_head" id="ipmGetStartedTab">
                            <ul class="ipmStartedTabs">
                                <li class="projectdetails tabOdd"><span>{!$Label.IPM_ABOUT_PROJECT}</span></li>
                                <li class="coreparameters tabEven"><span>{!$Label.IPM_PROJECT_PARAMETERS}</span></li>
                                <li class="teammembers tabOdd"><span>{!$Label.IPM_TEAM_MEMBERS}</span></li>
                                <li class="milestones tabEven"><span>{!$Label.IPM_MILESTONES}</span></li>
                                <li class="todos tabOdd "><span>{!$Label.IPM_TO_Dos}</span></li>
                            </ul> 
                            <button type="button" class="close ipmModalGetStartedClose" data-target="#quitWizard" data-toggle="modal" data-keyboard="false" data-backdrop="static" aria-hidden="true">&times;</button>
                        </div>
                        <div class="ipmGetStartedContent" id="projectdetails">
                            <div class="container-fluid">
                                <div class="row"> 
                                      
                                        <div class="col-sm-12 negateMarginTop">
                                            <div class="row">    
                                                <div class="col-sm-12">
                                                    <apex:outputPanel layout="inline" styleClass="newProjinfo" rendered="{!isEditable}" >{!$Label.IPM_ESSENTIAL_INFFORMATION}</apex:outputPanel>
                                                </div>
                                            </div>
                                            <apex:outputPanel layout="block" id="Container5">
                                                <apex:outputPanel styleClass="oprtnTopAlertContainer" layout="block" >
                                                    <apex:outputLabel styleClass="oprtnTopAlertLabel" value="{!$Label.IPM_ProjectTypeAndCompany_ReadOnly}"  />
                                                </apex:outputPanel>
                                            </apex:outputPanel>
                                            <apex:outputPanel id="formMessage" styleClass="proSuccessMsg" layout="block" >
                                                <apex:pageMessages />
                                            </apex:outputPanel>
                                            <apex:actionFunction name="callBackFunction1" reRender="teamMemberPanel" action="none"/>
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <div class="col-sm-2 noPadleft noPadright">
                                                        <div class="panel">
                                                            <div class="panel-body imageBorder">                                                            
                                                                <apex:actionFunction name="deleteProjectImage" action="{!removeProjectLogo}" reRender="imgpn"/>
                                                                <apex:actionFunction name="callsave" action="{!saveProceed}" reRender="isID,formMessage">
                                                                    <apex:param name="skipValidationParam" assignTo="{!skipValidation}" value="true" />
                                                                </apex:actionFunction> 
                                                                <apex:outputPanel id="imgpn">                                                           
                                                                    <apex:outputPanel id="isID" >  
                                                                       
                                                                        <div value="{!$Page.IPM_ImageUpload}?isProject=true&id={!project.id}" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}" onClick="callsave();" class="uploadImage upImageContainer" data-target="#ipmUploadImage" data-toggle="modal" data-keyboard="false" data-backdrop="static">
                                                                            <apex:image styleClass="ipmImage" value="{!URLFOR($Resource.IPM_Resource, 'images/pro_placeholder.png')}" rendered="{!If(AND(OR(ImageId=='',ImageId==null),OR(project.IPM_Project_Logo__c==null,project.IPM_Project_Logo__c=='')),true,false)}" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}"/>
                                                                            <apex:image url="/servlet/servlet.FileDownload?file={!ImageId}" styleClass="ipmImage" rendered="{! if(AND(ImageId !='',ImageId !=null),true,false)}" /> 
                                                                            <apex:outputfield value="{!project.IPM_Project_Logo__c}" rendered="{! if(AND(OR(ImageId=='',ImageId==null),OR(project.IPM_Project_Logo__c!='',project.IPM_Project_Logo__c!=null)),true,false)}"/>
                                                                        </div> 
                                                                        <apex:outputPanel layout="block" rendered="{!project.IPM_Project_Logo__c!=null}">
                                                                            <div class="imgHoverContainer">
                                                                                <div class="imgHbuttonContainer">
                                                                                   <span value="{!$Page.IPM_ImageUpload}?id={!project.id}&isProject=true" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}" class="uploadImage" data-target="#ipmUploadImage" data-toggle="modal" data-keyboard="false" data-backdrop="static">
                                                                                       <apex:commandLink value="Update" styleClass="imgUpdateButton" action="{!save}" reRender="none" rendered="{!project.IPM_Project_Logo__c!=null}">
                                                                                            
                                                                                       </apex:commandLink>
                                                                                   </span>
                                                                                   <span class="imgDelButton" data-target="#deleteImgPop" data-toggle="modal" data-keyboard="false" data-backdrop="static">Delete</span>
                                                                                </div>
                                                                            </div>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>                                      
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-10">
                                                        <!-- To place the help symbol in the top right hand corner of page -->
                                                            <apex:outputPanel layout="block" styleClass="SecButtonSet delete pull-right" >
                                                            <apex:outputLink value="{!URL}" id="Link" styleClass="icoButton question" target="_blank" title="{!$Label.IPM_Help}">?</apex:outputLink>
                                                            </apex:outputPanel>
                                                        <div class="col-sm-10 noPadleft">
                                                             
                                                            <apex:outputPanel id="ProjectNamePanel" styleClass="inputField oneCol">
                                                                <apex:outputPanel layout="block"  styleClass="required proNameContainer">
                                                                    <apex:outputLabel value="{!$Label.IPM_PROJECT_NAME}" styleClass="bsFieldLabel" />
                                                                    <span class="mandatorycolor">*</span>
                                                                    <span class="SecButtonSet infoMarTop">
                                                                        <a class="icoButton info" title="{!$Label.IPM_ProjectNameHelpText}"></a>
                                                                    </span>
                                                                    <apex:inputText value="{!project.IPM_Project_Name__c}" id="proname"  styleClass="brandautocomplete BosscardNameInputBox" html-onpaste="return false"  onblur="hideSuggetion();" onkeypress="return invalidChar(event);"  onkeyup="var u=this.value.toUpperCase();if(this.value!=u){this.value=u;return false};dupProjectName();"  maxlength="14" rendered="{!isEditable}" >
                                                                    </apex:inputText>
                                                                    <apex:actionfunction name="dupProjectName" action="{!searchDuplicateProject}" rerender="refreshProjectName"/>
                                                                    <apex:actionfunction name="hideSuggetion" action="{!hideProjectSuggetion}" rerender="refreshProjectName"/>
                                                                    <apex:outputpanel id="refreshProjectName" >
                                                                        <apex:outputpanel layout="block" styleClass="autoContainer" rendered="{!!isProjectNameBlank}">
                                                                            <apex:repeat value="{!listofprojectname}" var="proList">          
                                                                                <apex:outputLabel styleClass="bcAuto" value="{!proList.IPM_Project_Name__c}"/>         
                                                                            </apex:repeat>  
                                                                        </apex:outputpanel>
                                                                    </apex:outputpanel>
                                                                    <apex:outputField rendered="{!!isEditable}" value="{!project.IPM_Project_Name__c}"/>
                                                                    <apex:outputPanel id="nameMsg">
                                                                        <apex:outputText value="{!$Label.IPM_ENTER_PROJECT_NAME}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Project_Name__c'))}" styleClass="ErrMsg"/>
                                                                        <apex:outputText value="{!$Label.IPM_DO_NOT_SPECIAL_CHAR}" rendered="{!isContainSpecialChars}" styleclass="projDescErrMsg"/>
                                                                        <apex:outputText value="{!$Label.IPM_Project_Name_Exists}" rendered="{!isDupProjectname}" styleclass="projDescErrMsg"/>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>
                                                                <apex:outputPanel layout="block"  styleClass="inputField">  
                                                                    <apex:outputLabel value="{!$Label.IPM_PROJECT_DESCRIPTION}" styleClass="bsFieldLabel descTop" />
                                                                    <apex:inputTextarea id="projDesc" value="{!project.IPM_Project_Description__c}" rendered="{!isEditable}"  styleClass="limitdesc BosscardNameInputBox"  />
                                                                    <apex:outputPanel id="DescMsg" styleClass="proDescLabel" >
                                                                        <apex:outputText value="{!$Label.IPM_ENTER_PROJECT_DESCRIPTION}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Project_Description__c'))}" styleClass="projDescErrMsg"/>   
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel layout="block" styleClass="proDescLabel"  >
                                                                        <apex:outputField value="{!project.IPM_Project_Description__c}" rendered="{!!isEditable}"/>
                                                                    </apex:outputPanel>
                                                                    <apex:outputPanel layout="block" styleClass="txtRight" rendered="{!isEditable}"> 
                                                                        <span id="charCountRemainingText"> {!$Label.IPM_CHAR_REMAINING} </span> 
                                                                        <span id="charCountRemaining">{!$Label.IPM_CHAR_70}</span>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>     
                                                            </apex:outputPanel>
                                                            <div class="row">
                                                                <div class="col-sm-6 proMarginbottom">
                                                                    <apex:outputPanel id="CompanyCardPanel" styleClass="inputField">
                                                                        <div class="bsFieldLabel"><apex:outputlabel value="Company" /><span class="mandatorycolor"> *</span></div>
                                                                        <label class="ipmSelect">
                                                                            <apex:actionRegion >
                                                                                <apex:outputPanel >
                                                                                    <apex:selectList size="1" value="{!project.IPM_Company_Card__c}" onchange="callCompanyCard();"  styleClass="selCompany" disabled="{!OR(ISBLANK(project.Id),project.IPM_IsSaved__c,NOT(isEditable))}">  
                                                                                        <apex:selectOptions value="{!Allcompanycard}" />
                                                                                    </apex:selectList>
                                                                                </apex:outputPanel>
                                                                                <apex:actionfunction name="callCompanyCard" onComplete="callBrandPos();" action="{!populateCategory}" reRender="ProjectSubTypePanel,WhiteSpaceFastTrackPanel,fastTrackPanel,whiteSpacePanel,gateKeepingPanel,questionCharter,categoryPanel,BrandPositionPanel,pos,selectNextTabScript,multiBPositions" status="refreshCategory" />
                                                                                <apex:actionfunction name="callBrandPos" action="{!none}" reRender="BrandPositionPanel,multiBPositions" status="refreshPos" />
                                                                                
                                                                            </apex:actionRegion>
                                                                        </label>
                                                                        <apex:outputPanel layout="block" id="CompanyMsg">
                                                                            <apex:outputText value="{!$Label.IPM_Company_Card_Mandatory}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Company_Card__c'))}" styleClass="brandErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>      
                                                                </div>
                                                                <div class="col-sm-6 proMarginbottom rightColumn">
                                                                    <apex:outputPanel id="categoryPanel" styleClass="inputField">
                                                                        <apex:outputLabel value="{!$Label.IPM_CATEGORY}" styleClass="bsFieldLabel" /><span class="mandatorycolor"> *</span>                                                                       
                                                                        <label class="ipmSelect custSelectWidth">
                                                                          <apex:actionStatus startText="" id="refreshCategory" startStyleClass="proInit"/>
                                                                          <apex:selectList value="{!project.IPM_Category_Text__c}" multiselect="false" size="1" id="cat" disabled="{!!isEditable}" styleClass="selCategory">
                                                                              <apex:actionSupport event="onchange" action="{!none}" reRender="BrandPositionPanel,selectNextTabScript" status="refreshPos" />  
                                                                               
                                                                              <apex:selectOptions value="{!Category}"></apex:selectOptions>
                                                                          </apex:selectList>
                                                                        </label>
                                                                        <apex:outputPanel id="CateMsg">
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_CATEGORY}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Category_Text__c'))}" styleClass="categoryErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>     
                                                                </div>
                                                            </div>      
                                                            <div class="row">
                                                                <apex:outputPanel id="ProjectSubTypePanel" styleClass="col-sm-12">
                                                                    <apex:outputPanel layout="block" styleClass="inputField"  rendered="{!projectSubTypes.size > 0}"> 
                                                                        <apex:outputPanel layout="block" styleClass="inputField oprtnRadioContainer" >
                                                                            <apex:outputLabel value="{!$Label.IPM_SelectProjectType}" styleClass="bsFieldLabel" /><span class="mandatorycolor"> *</span>
                                                                            <apex:outputPanel layout="inline" styleClass="mandatorycolor"></apex:outputPanel>                                                                      
                                                                            <div class="ipmRadioButton oprtnRadiobtn">                                                                                      
                                                                                <apex:selectRadio styleClass="{!IF(AND(isEditable,NOT(project.IPM_IsSaved__c)),'','disable')}"  value="{!project.IPM_ProjectSubType__c}"  disabled="{!OR(project.IPM_IsSaved__c,NOT(isEditable))}" > 
                                                                                    <apex:actionSupport event="onchange" action="{!populateProjectInformation}" reRender="BrandPositionPanel,gateKeepingPanel,questionCharter,WhiteSpaceFastTrackPanel,selectNextTabScript" status="refreshPos" />  
                                                                                    <span><apex:selectOptions value="{!projectSubTypes}"></apex:selectOptions></span>
                                                                                </apex:selectRadio>
                                                                            </div> 
                                                                            <apex:variable value="{!1}" var="rowNum"/>
                                                                            <apex:repeat value="{!projectSubTypes}" var="subProjectType" rendered="{!AND(isEditable,NOT(project.IPM_IsSaved__c))}"  >
                                                                                <div class="radioTooltip{!rowNum} toolTipMsg oprtnToolTipMsg" data-toggle="tooltip" selectedValue="{!subProjectType.value}" > 
                                                                                    <span>{!$Label[HelpTextProjectSubType[subProjectType.value]]}</span>
                                                                                </div>
                                                                                <apex:variable var="rowNum" value="{!rowNum + 1}"/>
                                                                            </apex:repeat>                                 
                                                                        </apex:outputPanel>
                                                                        <apex:outputPanel layout="block" rendered="{!OR(NOT(project.IPM_IsSaved__c),isEditable)}" >
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_PROJECTSUBTYPE}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_ProjectSubType__c'))}" styleClass="brandErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </apex:outputPanel>
                                                            </div>
                                                            <div class="row brandPosContainer">
                                                                <div class="col-sm-6"> 
                                                                    <apex:outputPanel id="BrandPositionPanel" layout="block" styleClass="inputField">
                                                                       
                                                                        <apex:outputLabel value="{!$Label.IPM_BRAND_POSITIONING}" styleClass="bsFieldLabel" /><span class="mandatorycolor"> *</span>
                                                                        <span class="SecButtonSet infoMarTop">
                                                                        	<apex:outputPanel rendered="{!projectMetadata.IPM_MultipleBrandPosApplicable__c}">
                                                                                <a class="icoButton info small-Info" title="{!$Label.IPM_BrandPositioningHelpText}"></a>
                                                                        	</apex:outputPanel>
                                                                    	</span>
                                                                        <apex:actionStatus startText="" id="refreshPos" startStyleClass="proInit"/>    
                                                                        <apex:outputPanel id="SingleBrandPanel" rendered="{!NOT(projectMetadata.IPM_MultipleBrandPosApplicable__c)}">
                                                                            <label class="ipmSelect custSelectWidth"> 
                                                                                <apex:selectList value="{!project.IPM_Brand_Positioning__c}" multiselect="false" size="1"  disabled="{!!isEditable}" styleClass="selBrandPos" >
                                                                                    <apex:selectOptions value="{!brandPos}"></apex:selectOptions>
                                                                                </apex:selectList>
                                                                            </label>
                                                                        </apex:outputPanel>
                                                                        <apex:outputPanel layout="block" rendered="{!AND(projectMetadata.IPM_MultipleBrandPosApplicable__c)}" styleClass="noPadright noPadleft dropdown brandposListContainer ipmDropDown" >    
                                                                            
                                                                            <apex:outputPanel html-data-toggle="dropdown" layout="block" styleClass="clickCmiList" >
                                                                                <div class="ipmDropDownSelect">
                                                                                    <span class='brandSelValues'>{!$label.IPM_SelectBrandPosition}</span>
                                                                                    <a class="listArrow"></a>    
                                                                                </div>
                                                                            </apex:outputPanel>
                                                                            <apex:outputPanel layout="block" styleClass="dropdown-menu pull-right ipmDropDownList brandposList" id="multiBPositions">
                                                                                <apex:inputText value="{!project.IPM_Brand_Positioning__c}" id="brandHiddenField" styleClass="hiddenBrand"/>
                                                                                <apex:dataList value="{!brandPos}" var="cou" id="brandposListUL" styleClass="cccmiList" rendered="{!isEditable}" >                                                                
                                                                                    <div class="col-xs-1 ipmCheckbox">
                                                                                        <input class="{!IF(isEditable,'brandPosListbox','disable')} ccCheck" type="checkbox" value="{!cou.value}" id="{!cou.value}" />
                                                                                        <label for="{!cou.value}"></label>
                                                                                    </div>
                                                                                    <div class="col-xs-8 noPadleft brandPosLabel">{!cou.label}</div>                                                                
                                                                                </apex:dataList>
                                                                                <apex:outputPanel rendered="{!isEditable}" >
                                                                                    <li class="filterActionscc">
                                                                                        <div class="ipmButtonGroup noPadleft noPadright col-xs-6 pull-left">
                                                                                            <a value="Done" class="ipmDropbuttonscc" onClick="">Done</a>
                                                                                        </div>
                                                                                        <div class="ipmButtonGroup noPadleft noPadright col-xs-6 pull-left">   
                                                                                            <a value="Reset" class="ipmDropresetcc">Reset</a>
                                                                                        </div>
                                                                                    </li>
                                                                                </apex:outputPanel>
                                                                            </apex:outputPanel>      
                                                                        </apex:outputPanel>              
                                                                        <apex:outputPanel layout="block">
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_BRAND_POSITIONING}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Brand_Positioning__c'))}" styleClass="brandErrMsg"/>
                                                                            <apex:outputText value="{!$Label.IPM_MaxSelectBrandPositioning}" rendered="{!AND(isMaxBrandPosition,CONTAINS(businessErrorField,'IPM_Brand_Positioning__c'))}" styleClass="brandErrMsg" />
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>
                                                                <div class="col-sm-6 rightColumn">
                                                                    <apex:outputPanel layout="block" id="TargetDatePanel" styleClass="inputField launchPeriod" >
                                                                        <div class="tldLabel"><apex:outputLabel value="{!$Label.IPM_TARGET_LAUNCH_DATE}" styleClass="bsFieldLabel" /><span class="mandatorycolor"> *</span></div>
                                                                        <apex:inputField value="{!project.IPM_Target_Launch_Dates__c}" styleClass="dateInputBox tldBox calendar" rendered="{!isEditable}" onfocus="DatePicker.pickDate(true, this , false);"/>                                                              
                                                                        <apex:outputField value="{!project.IPM_Target_Launch_Dates__c}" rendered="{!!isEditable}"/>
                                                                        <apex:outputLabel value="{!project.IPM_Target_Launch_Date__c} [In Bosscard]" styleClass="tldQ" rendered="{!IF(project.IPM_Target_Launch_Date__c !='','true','false')}"/>
                                                                        <apex:outputPanel id="TLDPMsg">
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_TLD}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_Target_Launch_Dates__c'))}" styleClass="TldErrMsg"/>
                                                                            <apex:outputText value="{!$Label.IPM_TLD_SHOULD_BE_GREATER_THAN_TODAY}" rendered="{!isTLDLessThnSixMnth}" styleClass="TldErrMsg"/>
                                                                            <apex:outputText value="{!$Label.IPM_TLD_SHOULD_BE_GREATER_THAN_TODAYDate}" rendered="{!isTLDLessThnToday}" styleClass="TldErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="row">
                                                                <div class="col-sm-12"> 
                                                                    <apex:outputPanel layout="block" styleClass="inputField"  id="questionCharter" >                                           
                                                                        <apex:outputPanel layout="block" styleClass="inputField oprtnRadioContainer contractContainer" rendered="{!projectMetadata.IPM_Charter_Question_Applicable__c}">
                                                                            <apex:outputLabel value="{!$Label.IPM_WHO_WILL_APPROVE_CHARTER_GATE}" styleClass="bsFieldLabel setupBlock" />
                                                                            <apex:outputPanel layout="inline" styleClass="mandatorycolor" rendered="{!CONTAINS(projectMetadata.IPM_MadatoryFields__c,'IPM_Charter_Question_Applicable__c')}">*</apex:outputPanel>
                                                                            <div class="ipmRadioButton gcltquestions">  
                                                                                <apex:selectRadio styleClass="{!IF(isEditable,'','disable')}" value="{!project.IPM_Approver_of_Charter__c}"  disabled="{!!isEditable}" >
                                                                                    <apex:selectOptions value="{!charterApprovers}"></apex:selectOptions>
                                                                                </apex:selectRadio>
                                                                            </div>
                                                                            <apex:variable value="{!1}" var="rowNum"/>
                                                                            <apex:repeat value="{!charterApprovers}" var="charterQues" rendered="{!isEditable}">
                                                                                <div class="radioTooltip{!rowNum} toolTipMsg charterTipMsg" data-toggle="tooltip" selectedValue="{!charterQues.value}" > 
                                                                                    <span>{!$Label[HelpTextCharterQuestions[charterQues.value]]}</span>
                                                                                </div> 
                                                                                <apex:variable var="rowNum" value="{!rowNum + 1}"/>
                                                                            </apex:repeat>                                 
                                                                        </apex:outputPanel>
                                                                        <apex:outputPanel layout="block" rendered="{!isEditable}" >
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_GATEKEEPING}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_GateKeeping_Model__c'))}" styleClass="brandErrMsg"/>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </div>
                                                            
                                                            <div class="row">
                                                                <div class="col-sm-12"> 
                                                                    <apex:outputPanel layout="block" styleClass="inputField"  id="gateKeepingPanel" >                                              
                                                                        <apex:outputPanel layout="block" styleClass="inputField oprtnRadioContainer contractContainer" rendered="{!projectMetadata.IPM_GatekeepingModelsApplicable__c}">
                                                                            <apex:outputLabel value="{!$Label.IPM_WHO_WILL_APPROVE_CONTRACT_MR}" styleClass="bsFieldLabel setupBlock"/>
                                                                        
                                                                            <div class="ipmRadioButton gateKeepingModel">  
                                                                                <apex:selectRadio styleClass="{!IF(isEditable,'','disable')}" value="{!project.IPM_GateKeeping_Model__c}"  disabled="{!!isEditable}" >
                                                                                    <apex:selectOptions value="{!gateKeepingModels}"></apex:selectOptions>
                                                                                </apex:selectRadio>
                                                                            </div>
                                                                            <apex:variable value="{!1}" var="rowNum"/>
                                                                            <apex:repeat value="{!gateKeepingModels}" var="gateKeeperModel" rendered="{!isEditable}" >
                                                                                <div class="radioTooltip{!rowNum} toolTipMsg gateKModel" data-toggle="tooltip" selectedValue="{!gateKeeperModel.value}" > 
                                                                                    <span>{!$Label[HelpTextGateKeeping[gateKeeperModel.value]]}</span>
                                                                                </div>
                                                                                <apex:variable var="rowNum" value="{!rowNum + 1}"/>
                                                                            </apex:repeat>                                 
                                                                        </apex:outputPanel>
                                                                        <apex:outputPanel layout="block" rendered="{!OR(NOT(project.IPM_IsSaved__c),isEditable)}" >
                                                                            <apex:outputText value="{!$Label.IPM_SELECT_GATEKEEPING}" rendered="{!AND(isBusinessError,CONTAINS(businessErrorField,'IPM_GateKeeping_Model__c'))}" styleClass="brandErrMsg"/>
                                                                        </apex:outputPanel>
                                                         
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </div>
                                                                  
                                                            <div class="row">
                                                                <div class="col-sm-12"> 
                                                                    <apex:outputPanel id="WhiteSpaceFastTrackPanel">
                                                                        <apex:outputPanel rendered="{!OR(projectMetadata.IPM_FastTrackApplicable__c,projectMetadata.IPM_WhiteSpaceApplicable__c)}"> 
                                                                            <div class="col-sm-12 yellowBox noPadleft">
                                                                                <span class="SecButtonSet infoMarTop pull-left">
                                                                                <a class="icoButton info smalllinfo" title="{!$Label.IPM_FAST_TRACK_WHITE_SPACE}"></a>
                                                                            </span>
                                                                                <apex:outputPanel id="fastTrackPanel" styleClass="fastTrackBox"  >
                                                                                    <apex:outputPanel rendered="{!projectMetadata.IPM_FastTrackApplicable__c}">
                                                                                    <apex:inputCheckbox styleClass="fastTrackcheck" value="{!project.IPM_Fast_Track_Project__c }" disabled="{!!isEditable}"/>
                                                                                    <span class="projectraLabel">{!$Label.IPM_FAST_TRACK}</span>
                                                                                    <apex:actionSupport event="onchange" reRender="FastTrackHelpTextpanel"  />
                                                                                    </apex:outputPanel>
                                                                                </apex:outputPanel>
                                                                                <apex:outputPanel id="whiteSpacePanel" styleClass="whiteSpaceBox" >
                                                                                <apex:outputPanel rendered="{!projectMetadata.IPM_WhiteSpaceApplicable__c}" >
                                                                                    <apex:inputCheckbox styleClass="fastTrackcheck" value="{!project.IPM_White_Space_Project__c}" disabled="{!!isEditable}"/>
                                                                                    <span class="projectraLabel">{!$Label.IPM_White_Space}</span>
                                                                                    <apex:actionSupport event="onchange" reRender="WhiteSpaceHelpTextpanel"  />
                                                                                </apex:outputPanel>
                                                                                </apex:outputPanel>
                                                                            </div>
                                                                            <apex:outputPanel id="FastTrackHelpTextpanel">
                                                                                <apex:outputPanel styleClass="col-sm-12 toolTipMsg radioTooltip10 marginT20" layout="block" rendered="{!AND(project.IPM_Fast_Track_Project__c,isEditable)}" >
                                                                                    <apex:outputText value="{!$Label.IPM_FastTrack_HelpText}" />
                                                                                </apex:outputPanel>
                                                                            </apex:outputPanel>
                                                                            <apex:outputPanel id="WhiteSpaceHelpTextpanel">
                                                                                <apex:outputPanel styleClass="col-sm-12 toolTipMsg radioTooltip11 marginT20" layout="block" rendered="{!AND(project.IPM_White_Space_Project__c,isEditable)}" >
                                                                                    <apex:outputText value="{!$Label.IPM_WhiteSpace_HelpText}" />
                                                                                </apex:outputPanel>
                                                                            </apex:outputPanel>
                                                                        </apex:outputPanel>
                                                                    </apex:outputPanel>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-12 noPadleft">
                                                                <span class="fieldnote"><span class="mandatorycolor">*</span> {!$Label.IPM_MARKED_FIELDS_MANDATORY}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> 
                                            <apex:actionFunction name="SaveComplexity" action="{!SaveComplexityType}" onComplete="IPMApp.complexityrender()" status="shading">
                                                <apex:param name="holdcomplexity" assignTo="{!ComplexityType}" value="Lite"/>
                                            </apex:actionFunction> 
                                            <apex:actionFunction name="SaveComplexity1" action="{!SaveComplexityType}" onComplete="IPMApp.complexityrender()" status="shading">
                                                <apex:param name="holdcomplexity1" assignTo="{!ComplexityType}" value="Full"/>
                                            </apex:actionFunction> 
                                        </div>
                                        <apex:outputPanel id="buttonPanel" styleClass="col-sm-12">
                                            <apex:outputpanel rendered="{!isEditable}">
                                                <div class="pull-right proSetupButton renderBtnset txtAlignright">
                                                    <apex:actionStatus startText="" id="Loading" startStyleClass="proInit"/>
                                                    <apex:commandLink value="Save and continue" action="{!saveProceed}" styleClass="coreparameters custMarginbottom ipmButton primary"  reRender="CompanyCardPanel,ProjectNamePanel,Container5, refreshquit,miles,selectNextTabScript,categoryPanel,ProjectSubTypePanel,gateKeepingPanel,questionCharter,WhiteSpaceFastTrackPanel,CompanyCardPanel,BrandPositionPanel,TargetDatePanel,formMessage" rendered="{! AND(isEditable,isSavedDB,NOT(ISNULL(project.IPM_Phase__c)),NOT(ISBLANK(project.IPM_Phase__c)) )}" oncomplete="goTocoreparameters();" />
                                                    <apex:commandLink value="{!$Label.IPM_SubmitProjectCreation}" action="{!saveProceed}" styleClass="coreparameters custMarginbottom ipmButton primary"  reRender="CompanyCardPanel,ProjectNamePanel,Container5,buttonPanel,refreshquit,miles,selectNextTabScript,categoryPanel,ProjectSubTypePanel,gateKeepingPanel,questionCharter,WhiteSpaceFastTrackPanel,CompanyCardPanel,BrandPositionPanel,TargetDatePanel,formMessage" rendered="{!AND(isEditable,NOT(isSavedDB)) }" oncomplete="goToHomePage();"/>
                                                </div>
                                            </apex:outputpanel>
                                        </apex:outputPanel>
                                   
                                </div>
                            </div>        
                        </div>
                        <div class="ipmGetStartedContent" id="coreparameters" >
                            <apex:outputPanel id="IPMcore">
                                <c:IPM_Coreparameters /> 
                            </apex:outputPanel>        
                        </div>
                        <div class="ipmGetStartedContent" id="teammembers">
                            <c:IPM_Team_Assignment />
                        </div>
                        <div class="ipmGetStartedContent" id="milestones">
                            <div class="container-fluid">
                                <apex:actionStatus startText="" id="shading" startStyleClass="proInit"/>
                                <div class="row">    
                                    <div class="col-sm-12 negateMarginTop">
                                        <span class="coreParam">{!$Label.IPM_ASSIGN_TIMELINE_TO_MILESTONES}</span>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="col-sm-12 yellowBox boxPadTop noPadleft">
                                            <span class="mStonequest">{!$Label.IPM_ProjectComplexityMessage} </span>
                                            <span class="mStonequest">{!$Label.IPM_MilestoneTodoMessage}</span>
                                            <div class="ipmRadioButton mstonebWidth proRoute">
                                                <input id="lite" type="radio" name="mstone" ischecked="{!project.IPM_Complexity__c}" value="Lite" onChange="SaveComplexity()" isDisabled="{! if(isEditable=true,'false','true')}"/>
                                                <label for="lite"></label>
                                                <span class="raLabel">{!$Label.IPM_Lite}</span>
                                            </div>
                                            <div class="ipmRadioButton mstonebWidth proRoute">
                                                <input id="full" type="radio" name="mstone" value="Full" ischecked="{!project.IPM_Complexity__c}" onChange="SaveComplexity1()" isDisabled="{! if(isEditable=true,'false','true')}"/>
                                                <label for="full"></label>
                                                <span class="raLabel">{!$Label.IPM_Full}</span>  
                                            </div>
                                            <div class="radioTooltipipmLite toolTipMsg routeTip" id="Lite">
                                                <span>{!$Label.IPM_SELECTING_IPM_LITE}</span>
                                            </div>
                                            <div class="radioTooltipipmFull toolTipMsg routeTip" id="Full">
                                                <span>{!$Label.IPM_SELECTING_IPM_FULL}</span>
                                            </div>
                                        </div>
                                        <apex:outputPanel id="miles">
                                            <c:IPM_ListMilestonesTab pId="{!projectId}" Editmilestone="{!isMilestoneEditable}" isBD="{!isBDuser}" IsDateEditable="{!isupdateDates}" />
                                        </apex:outputPanel>   
                                    </div>
                                    <apex:outputpanel rendered="{!isEditable}">
                                        <div class="skipButtoncontainer1 txtAlignright pull-right">
                                            <div class="buttonmarRight noPadright pull-left">
                                                <input type="button" onClick="closemilestones()" class="todos ipmButton" value="Skip for now"/>
                                            </div> 
                                            <div class="buttonmarRight backButton pull-left">
                                                <input type="button" onClick="backTab(this)" class="teammembers ipmButton" value="Back"/>
                                            </div>
                                            <div class="buttonmarRight pull-left ml5">
                                                <input type="button" onClick="closemilestones()" class="todos ipmButton primary" value="Save and Continue"/>
                                            </div> 
                                        </div>
                                    </apex:outputpanel>
                                </div>  
                            </div>        
                        </div>
                        <div class="ipmGetStartedContent" id="todos">
                            <div class="container-fluid">
                                <div class="row">    
                                    <div class="col-sm-12 negateMarginTop">
                                        <span class="coreParam">{!$Label.IPM_TO_DOs_USES}</span>
                                    </div>
                                    <div class="col-sm-12">
                                        <span class="todoTitle">{!$Label.IPM_ToDosLabel}
                                         <span class="SecButtonSet infoMarTop">
                                 <a class="icoButton info smallllinfo" title="{!$Label.IPM_TO_DO_ARE_THE_SET}"></a>
                            </span></span>
                                    </div>
                                    <div class="col-sm-12">
                                        
                                            <div class="col-sm-12 yellowBox todoBox noPadleft">
                                                <div class="ipmCheckbox">
                                                    <input id="displayTasksChkBox" isChecked="{!project.IPM_PM_Approach__c}" type="checkbox" onchange="saveApproach()"  isDisabled="{! if(isEditable=true,'false','true')}"/>
                                                    <label for="displayTasksChkBox"></label>
                                                    <span class="raLabelTodo">{!$Label.IPM_TO_DOs_VIA_NAVIGATOR}</span>
                                                </div>  
                                            </div>
                                            <apex:actionFunction name="saveApproach" action="{!SaveIPMApproach}" reRender="showtask, showInfoMsg" status="displayTasksChkBoxStatus" onComplete="callbackLoadAction()"/>
                                       
                                        <apex:outputPanel id="showtask"> 
                                            <c:IPM_ToDos createTask="{!isCreateTask}" pId="{!projectId}" Edittask="{!isTaskeditable}" EditAlltask="{!isAllTask}" functionrole="{!FunctionRole}" rendered="{!project.IPM_PM_Approach__c='Internal'}" />  
                                            <apex:outputPanel rendered="{!project.IPM_PM_Approach__c !='Internal'}" id="showInfoMsg">
                                                <div class="col-sm-12 infoMsg toDoInfo">{!$Label.IPM_OUTSIDE_NAVIGATOR}</div>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <apex:actionStatus id="displayTasksChkBoxStatus" startStyleClass="proInit" />
                                    </div>
                                    <apex:outputpanel rendered="{!isEditable}">
                                        <div class="skipButtoncontainer1 txtAlignright pull-right">
                                            <div class="buttonmarRight pull-left">
                                                <input type="button" onClick="backTab(this)" class="milestones ipmButton" value="Back"/>
                                            </div>
                                            <div class="buttonmarRight pull-left actionBox" value="/apex/IPM_ProjectOverview?id={!projectId}">
                                                <input type="button" class="ipmButton primary" value="Save and Continue"/>
                                            </div> 
                                        </div>
                                    </apex:outputpanel>
                                </div>  
                            </div>        
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmDeleteModalDiv">
                <c:IPM_ConfirmModal />
            </div>
            <div id="ipmAddMemberModal" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_ADD_TEAM_MEMBERS}</div>
                        </div>
                        <div class="modal-body">  
                        </div>
                    </div>
                </div>
            </div>
            <div id="deleteImgPop" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_Delete_Image}</div>
                        </div>
                        <div class="modal-body">
                            <div class="removeapprpopup">
                                <span class="removeApprText">{!$Label.IPM_Image_Removal}</span>
                                <div class="remvButtonContainer pull-right">  
                                    <div class="pull-left buttonMarginRight noPadright">
                                        <input type="button" class="ipmButton" data-dismiss="modal" value="Cancel"/>
                                    </div>
                                    <div class="buttonMarginRight noPadright pull-left" >
                                        <span class="ipmButton primary" data-dismiss="modal" onClick="deleteProjectImage();">Delete</span>
                                    </div>
                                </div>
                            </div>        
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmUploadImage" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" onClick="closepopupupload()" aria-hidden="true">&times;</button>
                            <div class="modal-title"></div>
                        </div>
                        <div class="modal-body">   
                        </div>
                    </div>
                </div>
            </div>            
            <div id="ipmaddMstonWizard" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_ADD_MILESTONE}</div>
                        </div>
                        <div class="modal-body">     
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmMstoneTaskWizard" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_ADD_TASK}</div>
                        </div>
                        <div class="modal-body">  
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmModalEdit" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">  
                        </div>
                    </div>
                </div>
            </div> 
            <div id="quitWizard" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_QUIT_PROJECT_SETUP}</div>
                        </div>
                        <div class="modal-body">
                            <div class="container-fluid">
                                <div class="row">    
                                    <div class="col-sm-12">
                                        <span class="skipDesc">{!$Label.IPM_EXIT_PROJECT_SETUP}</span>
                                    </div>
                                    <div class="skipButtoncontainer1 txtAlignright pull-right">
                                        <div class="buttonmarRight pull-left noPadright fleft">
                                            <apex:outputPanel id="refreshquit">
                                                <input type="button" class="ipmButton" onClick="quit(this);" value="Quit" />
                                            </apex:outputPanel> 
                                        </div> 
                                        <div class="buttonmarRight pull-left noPadright">
                                            <input type="button" class="ipmButton primary" data-dismiss="modal" value="Cancel"/>
                                        </div> 
                                    </div>
                                </div>  
                            </div>    
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmModalDelete" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_Remove_Member}</div>
                        </div>
                        <div class="modal-body">
                            <div class="container-fluid">
                                <div class="row">    
                                    <div class="col-sm-12">
                                        <span class="skipDesc">{!$Label.IPM_Delete_Member}</span>
                                    </div>
                                    <div class="deleteButtoncontainer txtAlignright pull-right"> 
                                        <div class="noPadright buttonMarginRight pull-left">
                                            <input type="button" class="ipmButton" data-dismiss="modal" value="Cancel"/>
                                        </div> 
                                        <apex:outputPanel id="SkipBossC">
                                            <div class="fleft noPadright">
                                                <input type="button" class="confirmAction ipmButton primary" value="Remove" data-dismiss="modal"/>
                                            </div> 
                                        </apex:outputPanel>
                                    </div>  
                                </div>  
                            </div>          
                        </div>
                    </div>
                </div>
            </div>
            <div id="ipmModalDiv">
                <c:IPM_ModalHeaderDiv />
            </div>
            <div id="basicModal" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"
                                aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_CP_Unlink}</div>
                        </div>
                        <div class="">
                            <div class="paracont">
                                <p>
                                    <apex:outputText value="{!$Label.IPM_BETUnlinkingMessage}">
                                        <apex:param value="{!PreSelectedBet.betName}" />
                                    </apex:outputText>
                                </p>
                            </div>
                            <div class="paracont">
                                <div class="floatR">
                                    <a href="#" title="{!$Label.IPM_Back}" class="ipmButton"
                                         data-dismiss="modal">{!$Label.IPM_CANCEL}</a> <a href="#"
                                        title="{!$Label.IPM_SAVE_AND_CONTINUE}" onClick="unlinkBET();"
                                        class="ipmButton primary" data-dismiss="modal">{!$Label.IPM_CP_Unlink}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </apex:define> 
    </apex:composition>
    </apex:outputPanel>
    </apex:form> 
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/jquery-ui.min.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_functions.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_Accordion.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_Limiter.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_CoreParameter.js')}" type="text/javascript"></script>   
    <apex:outputPanel id="selectNextTabScript">
    <script>
    function reload()
        {
            window.location.reload();
        }
    </script>
    <script>
    jq(".info").tooltip({ position: { my: 'center top', at: 'center bottom+10' }}); 
    var apexAccountList =[];                 
    <apex:repeat value="{!listofprojectname}" var="proList">          
        apexAccountList.push('{!proList.IPM_Project_Name__c}');         
    </apex:repeat>

    jq(document).ready(function()
                       {
                          jq('.ccCheck').change(function(e) {
                                 if (jq('.brandposList input[type=checkbox]:checked').length > 20) {
                                     jq(this).prop('checked', false);
                                     jq(this).next('label').removeClass('selected');
                                 }
                             });
                           jq(".imageBorder").hover(function() {                  
                             jq('.imgHoverContainer').stop();
                             jq('.imgHoverContainer').show(200);
                    
                             }, function() {
                                 jq('.imgHoverContainer').stop();
                                 jq('.imgHoverContainer').hide(100);
                             });
                             jq(document).on('click', '.imgDelButton', function(e) { 
                                e.preventDefault ? e.preventDefault() : e.returnValue = false;               
                                jq('#deleteImgPop .modal-dialog').width('600px');
                                jq('#deleteImgPop .modal-dialog').height('170px');               
                                jq('#deleteImgPop .modal-dialog').css({'margin-top':'10%','z-index':'999'});
                            });   
                           jq(".brandautocomplete").autocomplete({
                               source : apexAccountList,
                               select: function (event, ui) {
                                   selectedObj = ui.item;
                               },                   
                               minLength: 1  
                           });  
                           jq('.oprtnRadiobtn  input[type=radio]').each(function(e){ 
                               jq(this).click(function()
                                              {
                                                  var selectedSubProjectType =  jq(this).attr("value");        
                                                  jq(".oprtnToolTipMsg").hide();
                                                  jq('.oprtnRadiobtn').parents('.oprtnRadioContainer').children('.oprtnToolTipMsg').each(function(e){
                                                      if(jq(this).attr('selectedValue') == selectedSubProjectType){
                                                          jq(this).show(); 
                                                      }
                                                  });
                                              });  
                           }); 
                           jq('.oprtnRadiobtn input[type=radio]').each(function(){             
                               var selectedSubProjectType = jq('.oprtnRadiobtn input[type=radio]:checked').attr("value");
                               jq('.oprtnRadiobtn').parents('.oprtnRadioContainer').children('.oprtnToolTipMsg').each(function(e){
                                   if(jq(this).attr('selectedValue') == selectedSubProjectType){
                                       jq(this).show(); 
                                   }
                               });
                           }); 
                           
                           jq('.gateKeepingModel  input[type=radio]').each(function(e){ 
                               jq(this).click(function()
                                              {
                                                  var selectedGKModel =  jq(this).attr("value");      
                                                  jq(".gateKModel").hide();
                                                  jq('.gateKeepingModel').parents('.oprtnRadioContainer').children('.gateKModel').each(function(e)
                                                  {
                                                      if(jq(this).attr('selectedValue') == selectedGKModel)
                                                      {
                                                          jq(this).show(); 
                                                      }
                                                  });
                                              });  
                           }); 
                           
                           jq('.gateKeepingModel input[type=radio]').each(function(){            
                               var selectedGKModel = jq('.gateKeepingModel input[type=radio]:checked').attr("value");
                               jq('.gateKeepingModel').parents('.oprtnRadioContainer').children('.gateKModel').each(function(e){
                                   if(jq(this).attr('selectedValue') == selectedGKModel){
                                       jq(this).show(); 
                                   }
                               });
                           });
                           
                           jq('.gcltquestions  input[type=radio]').each(function(e){ 
                               jq(this).click(function()
                                              {
                                                  var selectedSubProjectType =  jq(this).attr("value");        
                                                  jq(".charterTipMsg").hide();
                                                  jq('.gcltquestions').parents('.oprtnRadioContainer').children('.charterTipMsg').each(function(e){
                                                      if(jq(this).attr('selectedValue') == selectedSubProjectType){
                                                          jq(this).show(); 
                                                      }
                                                  });
                                              });  
                           }); 
                           
                           jq('.gcltquestions input[type=radio]').each(function(){            
                               var selectedSubProjectType = jq('.gcltquestions input[type=radio]:checked').attr("value");
                               jq('.gcltquestions').parents('.oprtnRadioContainer').children('.charterTipMsg').each(function(e){
                                   if(jq(this).attr('selectedValue') == selectedSubProjectType){
                                       jq(this).show(); 
                                   }
                               });
                           });
                            
                           
                           jq('.yellowBox .ipmRadioButton input[type=radio]').each(function(i){                   
                               var rdChecked = jq('.yellowBox .ipmRadioButton input[type=radio]:checked').attr("value").split(" ");
                               var rdData = rdChecked[0];
                               jq("#"+rdData).show(); 
                           });                          
                           jq(document).on('show.bs.dropdown', '.brandposListContainer', function(){
                               jq(this).find('.brandposList').show(); 
                           });
                           jq(document).click(function(e) {
                               if( e.target.id != 'brandposListUL') {
                                   jq(".brandposList").hide();    
                               }   
                           });
                           jq('.ipmDropbuttonscc').click(function(e) {               
                               var brandPositionValue = '';
                               jq(".brandposList  input[type=checkbox]").each(function(e)
                                                                              {
                                                                                  if(jq(this).prop('checked') == true)
                                                                                  {   
                                                                                      if(brandPositionValue.length > 0)
                                                                                      {
                                                                                          brandPositionValue = brandPositionValue +','+jq(this).val();
                                                                                      }
                                                                                      else
                                                                                      {
                                                                                          brandPositionValue = jq(this).val();
                                                                                      }
                                                                                  } 
                                                                              });
                               jq('.hiddenBrand').val(brandPositionValue);
                               if(brandPositionValue == ''){
                                   jq('.brandSelValues').text('{!$Label.IPM_ProjectSetup_SELECT}');
                               }
                               else{
                                   jq('.brandSelValues').text(brandPositionValue);
                               }
                               jq(".brandposList").hide(); 
                           });  
                           jq(document).on('click', '.filterActionscc .ipmDropresetcc', function(e){
                               e.stopPropagation();
                               jq(".brandposList input:checkbox").each(function() {
                                   jq(this).prop('checked', false);
                                   jq(this).next('label').removeClass('selected');
                                   jq('.brandSelValues').text('{!$Label.IPM_ProjectSetup_SELECT}');
                               });
                           });   
                           if( jq('.hiddenBrand') !=null && jQuery.type(jq('.hiddenBrand')) != 'undefined') 
                           {
                               var brandPicklist = jq('.hiddenBrand').val();   
                               if(jQuery.type(brandPicklist) != "undefined" && brandPicklist.length > 0 )
                               {
                                   jq('.brandSelValues').text(brandPicklist);
                                   var brandArray = brandPicklist.split(',');  
                                   jq(".brandposList  input[type=checkbox]").each(function(e){
                                       var checkboxObj = jq(this);
                                       jq.each( brandArray, function( i, savedBrandPosition ) 
                                               {
                                                   if(checkboxObj.val() === savedBrandPosition)
                                                   {
                                                       checkboxObj.prop('checked',true);
                                                       return false;
                                                   }
                                               }); 
                                   });
                               }
                           }
                           jq(document).on('click', '.brandposList input[type="checkbox"], .brandposList li', function(e){
                               e.stopPropagation();
                           });

                           jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
                           jq('#ipmGetStartedTab .ipmStartedTabs li:first').addClass('active');
                           jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent:first').show();
                       });
    ipmModal('#editMilestone', 'Edit Milestone', '30%', '65%', '2%');
    ipmModal('#editTask', 'Edit To-Dos', '30%', '80%', '2%');
    
    jq('.proRoute input[type=radio]').each(function(e){ 
        jq(this).click(function(){
            var redData1 = jq(this).attr("value").split(" ");
            var actData1 = redData1[0];
            jq(".routeTip").hide();
            jq('.proRoute ').parent('.yellowBox').find("#"+actData1).show();
        });  
    }); 
    var displayTasks = jq('#displayTasksChkBox').attr('isChecked');
    var internal = "Internal";
    if(displayTasks == internal)
    {
        jq('#displayTasksChkBox').prop('checked', true);
        jq('.ipmCheckbox #displayTasksChkBox label').addClass('selected');
    }
    
    var complexity = jq('.yellowBox .ipmRadioButton input[type=radio]').attr('ischecked');
    var full = "Full";
    if(complexity == full)
    {
        jq('#full').prop('checked', true);
    }
    else
    {
        jq('#lite').prop('checked', true);
    }
    jq(document).on('click', '.actionBox', function(){
        var url = jq(this).attr('value');
        window.top.location.href = url;
    });
    function backTab(belem){
        jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');                   
        var getClass= jq(belem).attr('class').split(' ');
        var getId = getClass[0];
        jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
        jq("#ipmGetStartedTab .ipmStartedTabs li."+getId).addClass('active');
        jq('#'+getId).fadeIn("fast");
    }
    
    function custnextTab(celem){
        jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');                   
        var getClass= jq(celem).attr('class').split(' ');
        var getId = getClass[0];
        jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
        jq("#ipmGetStartedTab .ipmStartedTabs li."+getId).addClass('active');
        jq('#'+getId).fadeIn("fast");
    }
    
    function skipTab(selem){
        jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');                   
        var getClass= jq(selem).attr('class').split(' ');
        var getId = getClass[0];
        jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
        jq("#ipmGetStartedTab .ipmStartedTabs li."+getId).addClass('active');
        jq('#'+getId).fadeIn("fast");
    }
    function selectNextTab(elem){
        // alert('getId:{!saveSuccess}');
        if({!saveSuccess} == true){
            setTimeout(function(){
                setSlider(1);
            }, 500);
            jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');                   
            var getClass= jq(elem).attr('class').split(' ');
            var getId = getClass[0];
            // alert('getId:' +getId);
            jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
            jq("#ipmGetStartedTab .ipmStartedTabs li."+getId).addClass('active');
            jq('#'+getId).fadeIn("fast");    
        } 
    }
    jq(document).on('click', '.uploadImage', function(e) { 
        e.preventDefault ? e.preventDefault() : e.returnValue = false; 
        var url = jq(this).attr('value'); 
        jq('#ipmUploadImage .modal-title').html('Upload Image');
        jq("#ipmUploadImage .modal-body").html('<iframe frameborder="0" height="100%" width="100%" marginheight="0" marginwidth="0" allowtransparency="true" src= "'+url+'"></iframe>');  
        jq('#ipmUploadImage .modal-dialog').addClass('uploadImages');     
    });
    
    jq(window).load(function(){
        jq('.cust-overlay').hide();
        if (window.location.search.indexOf('TeamMemid=teammembers') > -1) {
            jq('.cust-overlay').fadeOut();
            jq('#ipmModalGetStarted').modal('show');
            jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');
            jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
            jq("#ipmGetStartedTab .ipmStartedTabs li.teammembers").addClass('active');
            jq('#teammembers').fadeIn("fast");
        } 
    });
    jq(window).load(function(){
        jq('.cust-overlay').hide();
        if (window.location.search.indexOf('Milestoneid=milestones') > -1) {
            jq('.cust-overlay').fadeOut();
            jq('#ipmModalGetStarted').modal('show');
            jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');
            jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
            jq("#ipmGetStartedTab .ipmStartedTabs li.milestones").addClass('active');
            jq('#milestones').fadeIn("fast");
        } 
    });
    jq(window).load(function(){
        jq('.cust-overlay').hide();
        if (window.location.search.indexOf('Projectid=projectdetails') > -1) {
            jq('.cust-overlay').fadeOut();
            jq('#ipmModalGetStarted').modal('show');
            jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');
            jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
            jq("#ipmGetStartedTab .ipmStartedTabs li.projectdetails").addClass('active');
            jq('#projectdetails').fadeIn("fast");
        } 
    });
    jq(window).load(function(){
        jq('.cust-overlay').hide();
        
        if (window.location.search.indexOf('TodoId=todos') > -1 && {!isTaskgenerated} == true) {
            jq('.cust-overlay').fadeOut();
            jq('#ipmModalGetStarted').modal('show');
            jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');
            jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
            jq("#ipmGetStartedTab .ipmStartedTabs li.todos").addClass('active');
            jq('#todos').fadeIn("fast");
        } 
    });
    jq(window).load(function(){
        jq('.cust-overlay').hide();
        if (window.location.search.indexOf('coreId=coreparameters') > -1) {
            setTimeout(function(){
                setSlider(1);
                sliderCP('.slide-bar');
            }, 500);
            jq('.cust-overlay').fadeOut();
            jq('#ipmModalGetStarted').modal('show');
            jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');
            jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
            jq("#ipmGetStartedTab .ipmStartedTabs li.coreparameters").addClass('active');
            jq('#coreparameters').fadeIn("fast");            
        } 
    });
    function closepopupupload(){
        window.parent.location.href="/apex/IPM_ProjectSetupView?Pid={!projectId}&Projectid=projectdetails";
    }
    
    function goToHomePage()
    {
        if( '{!project.IPM_Project_Job_Status__c}' == 'Eligible For Processing' || '{!project.IPM_Project_Job_Status__c}' == 'Processing')
        {
            setTimeout(function()
            {
                setSlider(1);
            }, 1000);
            window.parent.location.href="/apex/IPM_ProjectSetupView?Pid={!projectId}";
        }
    }
    
    function goTocoreparameters(){
        if({!saveSuccess} == true){
            setTimeout(function(){
                setSlider(1);
            }, 500);
            window.parent.location.href="/apex/IPM_ProjectSetupView?Pid={!projectId}&coreId=coreparameters";
        }
    }
    jq(document).on('click', '.addMstoneContainer', function(e){
        e.preventDefault ? e.preventDefault() : e.returnValue = false;                       
        var url = jq(this).attr('value'); 
        jq("#ipmaddMstonWizard .modal-body").html('<iframe frameborder="0" height="100%" width="100%" marginheight="0" marginwidth="0" allowtransparency="true" src= "'+url+'"></iframe>');
        jq('#ipmaddMstonWizard .modal-dialog').addClass('mstoneWizardcss');
    });
    jq(document).on('click', '.tabTaskButton', function(e){
        e.preventDefault ? e.preventDefault() : e.returnValue = false;                       
        var url = jq(this).attr('value'); 
        jq("#ipmMstoneTaskWizard .modal-body").html('<iframe frameborder="0" height="100%" width="100%" marginheight="0" marginwidth="0" allowtransparency="true" src= "'+url+'"></iframe>');
        jq('#ipmMstoneTaskWizard .modal-dialog').addClass('mtaskwizardcss');
    });
    
    var pageScrollTop = jq(window).scrollTop();
    function openEditModal(elem){                    
        var url =jq(elem).attr('value');                    
        var top = jq(elem).closest('tr').offset().top - pageScrollTop;                      
        jq('#ipmModalEdit').modal({show:true, keyboard: false, backdrop:'static'});
        jq("#ipmModalEdit .modal-body").html('<iframe frameborder="0" height="100%" width="100%" marginheight="0" marginwidth="0" allowtransparency="true" src= "'+url+'"></iframe>');  
        jq("#ipmModalEdit .modal-body").height('100%');
        jq('#ipmModalEdit .modal-dialog').css('margin-top',top);
        jq('#ipmModalEdit .modal-title').html('Edit Milestone');
        jq('#ipmModalEdit .modal-dialog').addClass('editMstonecss');
    }
    </script>  
    <apex:outputPanel id="complexityrender">
        <script>
        function closemilestones(){
            
            if('{!JSINHTMLENCODE(ComplexityType)}' != ''|| '{!JSINHTMLENCODE(ComplexityType)}' != null){
                window.parent.location.href="/apex/IPM_ProjectSetupView?Pid={!projectId}&TodoId=todos";
            }
        }
        
        </script>
    </apex:outputPanel> 
    <apex:outputPanel id="createNewProject">
        <script>
        jq(window).load(function(){
            jq('.cust-overlay').hide();           
            callpagerefresh();     
            jq('.cust-overlay').fadeOut();    
        });
        var remaining = jq("#charCountRemaining");                
        var total = jq("#charCountTotal");                
        jq(".limitdesc").limiter(70, remaining,total);
        </script>
        <apex:outputPanel id="QuitProTab" >
            <script> 
            jq(document).on('click', '.getStartedbutton', function() { 
                var tabName = "{!JSINHTMLENCODE(ProjectTabName)}";
                jq('#ipmModalGetStarted').modal('show');
                jq('#ipmGetStartedTab .ipmStartedTabs li').removeClass('active');
                jq('#ipmGetStartedTab').parent().find('.ipmGetStartedContent').hide();
                if(tabName != ""){
                    jq("#ipmGetStartedTab .ipmStartedTabs li."+tabName).addClass('active');
                    jq('#'+tabName).fadeIn("fast");
                    setTimeout(function(){setSlider(1);}, 500);
                }else{
                    jq("#ipmGetStartedTab .ipmStartedTabs li.projectdetails").addClass('active');
                    jq('#projectdetails').fadeIn("fast");
                }
            });
            jq(document).on('show.bs.modal', '.modal', function () {
                var zIndex = 1040 + (10 * jq('.modal:visible').length);
                jq(this).css('z-index', zIndex);
                setTimeout(function() {
                    jq('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
                }, 0);
            }); 
            </script>
        </apex:outputPanel>
        
    </apex:outputPanel>
</apex:outputPanel> 
<script>
function quit(qelem){
    var gClass= jq("#ipmModalGetStarted .ipmStartedTabs li.active").attr('class').split(' ');
    var gId = gClass[0];
    Visualforce.remoting.Manager.invokeAction(
        '{!$RemoteAction.IPM_ProjectSetUpController.savetabname}',gId,'{!projectId}',
        function(result, event){
            if (event.status) {
                window.parent.location.href="/apex/IPM_ProjectSetUpView?Pid={!projectId}";
            }
        }
    );
}
function quitandgo(IsNavigate){
    if (IsNavigate=='false') 
    {
        window.parent.location.href="/apex/IPM_Projectoverview?Id={!projectId}";
    }else{
        window.parent.location.href="/apex/IPM_HomePage";
    }
}
</script> 
<script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_CoreparameterDesign.js')}" type="text/javascript"></script>
</apex:page>