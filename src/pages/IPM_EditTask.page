<!--  
*************************************************************************************************************************************************************
*@Author: Cognizant
*@Description: This page is used for Inline editing of the task.
*@Created Date: 26/12/2014 
*@Copyright Â© 2015  Unilever  
*************************************************************************************************************************************************************
-->
<apex:page standardController="IPM_Task__c" extensions="IPM_NewTask,IPM_GetHelpDoc"  sidebar="false" standardStylesheets="true" showHeader="false">      
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/bootstrap.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_Buttons.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'assets/font-awesome/css/font-awesome.min.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_EditTask.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/datepicker.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_HomePage.css')}"/> 
    
    <div class="container-fluid">
        <div class="row" id="EditTask">
            <apex:pageMessages id="messages"/> 
            <apex:form id="form">
            	<apex:outputPanel id="errMassage" styleClass="errorBlock" layout="block" rendered="{!displayError}">
			        	<span ><apex:pagemessages id="pagemessages"></apex:pagemessages></span>
			    </apex:outputPanel> 
                <div class="row inlineEdit">
                    <div class="col-xs-3">
                        <div class="inputField">
                            <apex:inputField value="{!tasks.IPM_Task_Name__c}" styleClass="fieldFont" required="true" id="taskNameInput"/>
                        </div>
                    </div>
                    <div class="col-xs-offset-1 col-xs-1 width10 tPhaseEditDiv">
                        <div class="inputField">
                            <apex:inputField value="{!tasks.IPM_Phase__c}" styleClass="fieldFont tPhaseEdit" required="true" id="taskPhaseInput"/>
                        </div>
                    </div>
                    <div class="col-xs-2">
                        <div class="inputField">
                            <apex:inputField value="{!tasks.IPM_Type_of_Gate__c}" styleClass="fieldFont tGateDocEdit" id="taskTypeOfGateInput"/>
                        </div>
                        <div class="inputField">
                            <apex:selectList size="1" value="{!docSecList}"  id="listVal">
                                <apex:selectOptions value="{!Sectionlist}" id="sectionVal"/> 
                            </apex:selectList>
                        </div>
                    </div>
                    <apex:outputPanel styleClass="optionalPart" id="optionalPart">
                        <div class="col-xs-2 width10 tUserEditDiv">
                            <div class="inputField">                                                   
                                <apex:outputField value="{!tasks.IPM_Function__c}" styleClass="fieldFont tFuncEdit" id="functionOutput"/>
                            </div>
                            
                            <div class="inputField">                            
                                <apex:outputText value="{!userIdName[tasks.IPM_Assignee__c]}" id="assigneeID"></apex:outputText>
                            </div>
                        </div>
                        
                        <!-- To place the help symbol in the top right hand corner of page -->
                        <apex:outputPanel layout="block" styleClass="SecButtonSet delete pull-right" >
                            <apex:outputLink value="{!URL}" id="theLink" styleClass="icoButton question" target="_blank" title="{!$Label.IPM_Help}">?</apex:outputLink>
                        </apex:outputPanel>
                        <div class="col-xs-2">
                            <div class="inputField">
                                <apex:inputField value="{!tasks.IPM_Due_Date1__c}" styleClass="dateInputBox calendar" id="dueDate">
                                </apex:inputField>
                            </div>
                            <div class="ipmButtonGroup pull-right"> 
                                <apex:commandLink id="cancelLink" value="Cancel" styleClass="ipmButton buttonMarginRight" reRender="form, reRenderScript" onClick="pageclose();" onComplete="callEditTask()"/>   
                                <apex:commandLink id="saveLink" action="{!doSaveTasks}" value="Add" styleClass="ipmButton green buttonMarginRight" rendered="{!if(taskId != null,true,false)}" reRender="form, reRenderScript" onComplete="{!if(AND(!displayError),'pageclose(); callEditTask();','')};"/>
                            </div>
                        </div>
                    </apex:outputPanel>
                </div>
               
                <apex:outputPanel id="popup">
                    <apex:outputPanel id="popup1" styleClass="popupBg" layout="block" rendered="{!displayPopUp}"/>
                    <apex:outputPanel id="popup2" styleClass="popup" layout="block" rendered="{!displayPopUp}">
                        <div class="popupContent">{!$Label.IPM_NoResource}</div>
                        <div class="ipmButtonGroup pull-center"></div>
                    </apex:outputPanel>
                </apex:outputPanel>
            </apex:form>
        </div>
    </div>    
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/jquery.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/bootstrap-datepicker.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/bootstrap.min.js')}" type="text/javascript"></script>             
    <apex:outputPanel id="reRenderScript">
        <script type="text/javascript">
        var IPMApp = {projectId:'{!projectId}', ProjectWizard:'{!ProjectWizard}', TasklistPageRef:'{!$Label.IPM_TasklistPageRef}', PojectSetupUrl:'{!$Label.IPM_PojectSetupUrl}'};           
        </script>
    </apex:outputPanel>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_EditTask.js')}" type="text/javascript"></script>
</apex:page>