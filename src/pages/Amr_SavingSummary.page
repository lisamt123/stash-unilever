<apex:page controller="Amr_SavingSummaryController_CC" sidebar="false">
    <apex:include pageName="amr_common" />
    <link rel="stylesheet" href="{!URLFOR($Resource.Amr_static_resources,'Amr-static-resource/css/jquery-ui.css')}" /><!-- required CSS for Datepicker-->           
    <apex:includeScript value="{!URLFOR($Resource.Amr_static_resources,'Amr-static-resource/js/jquery-ui.js')}"/><!-- required JS for Datepicker--> 
    <apex:includeScript value="{!URLFOR($Resource.Amr_static_resources,'Amr-static-resource/js/saving_summary.js')}"/>
    <link rel="stylesheet" href="{!URLFOR($Resource.Amr_static_resources,'Amr-static-resource/css/saving-summary.css')}" />
        <script type = "text/javascript" >
        function callActionFunctionStartDate(startDate) {             
            callContrlStartDate(startDate);
         }
            $j(function() {             
                var strArr = {!CategoryList};
                var newOp;
                for (var j = 0; j < strArr.length; j++) {
                    if ('{!categoryName}' == strArr[j] && '{!categoryName}' !== null) {
                        newOp = $j('<option value="' + strArr[j] + '">' + strArr[j] + '</option>');
                        $j('#categoryList').append(newOp);
                    }
                }
                var none = $j('<option value="--None--">--None--</option>');
                $j('#categoryList').append(none);

                for (var j = 0; j < strArr.length; j++) {
                    if ('{!categoryName}' == strArr[j]) {
                        j = j + 1;
                    }
                    newOp = $j('<option value="' + strArr[j] + '">' + strArr[j] + '</option>');
                    $j('#categoryList').append(newOp);
                }
            });            
    </script>    
    <apex:include pageName="amr_common_header" />
    <div class="job-portfolio-container saving_summary_container margin-top10">
        <apex:form >
            <div class="leftbar bg-g1">
                <div class="leftbar-container bg-g1 margin-btwn-container">
                    <div class="leftbar-container-header dark-blue-header">
                        Search &amp; Filter
                    </div>
                    <div class="leftbar-container-content margin12 bg-w8 padding12 initial-search" style="min-height:244px;">
                        <div class="input-section">
                            <div class="job-field-parent displayinlineblock margin-top8imp">
                             <!--    <div class="job-field-label">AdManager number</div> -->
                                <div class="job-field-input">
                                    <apex:inputField value="{!jobDetailObj.AdManagerText__c}" html-placeholder="AdManager No." />
                                </div>
                            </div>
                            <div class="job-field-parent displayinlineblock margin-top8imp">
                            
                                <div class="job-field-input">
                                    <input type="text" placeholder="Start Date" class="inputTextCommon" id="datepicker2" onchange="callActionFunctionStartDate(this.value);"/>
                                </div>
                            </div>
                             <div class="job-field-parent displayinlineblock margin-top8imp">
                            
                                <div class="job-field-input">
                                    <input type="text" placeholder="End Date" class="inputTextCommon" id="datepicker1" onchange="callActionFunctionEndDate(this.value);" />
                                </div>
                            </div>    <!--
                            <div class="job-field-parent displayinlineblock margin-top8imp">
                                <div class="job-field-label">Date submitted</div>    
                                <div class="job-field-input">
                                    <input type="text" class="inputTextCommon" id="datepicker" onchange="callActionFunctionStartDate(this.value);" />
                                </div>
                            </div>
                            <div class="job-field-parent displayinlineblock margin-top8imp">
                                <div class="job-field-label">&euro; Total Accepted Final Cost</div>
                                <div class="job-field-input">
                                    <apex:inputText value="{!totalAcceptedFinalCost}" />
                                </div>
                            </div>
                            <div class="job-field-parent displayinlineblock margin-top8imp">
                                <div class="job-field-label">&euro; Saving – Average of quotes</div>
                                <div class="job-field-input">
                                    <apex:inputText value="{!savingAverageOfQuotes}" />
                                </div>
                            </div>
                            <div class="job-field-parent displayinlineblock">
                                <div class="job-field-label">&euro; Saving – Accepted Quote</div>
                                <div class="job-field-input">
                                    <apex:inputText value="{!savingAcceptedQuotes}" />
                                </div>
                            </div>  -->
                            <div class="job-field-parent displayinlineblock">
                                <div class="job-field-label">Category</div>
                                <div class="job-field-input">
                                    <select id="categoryList" size="1" onchange="transferCategoryValue(this.value)" reRender="brandPosPick" class="categorySelected"></select>
                                </div>
                            </div>
                            <div class="job-field-parent displayinlineblock">
                                <div class="job-field-label">Brand name</div>
                                <div class="job-field-input">
                                    <apex:actionRegion >
                                        <apex:selectList id="brandPosPick" value="{!brandPosName}" size="1">
                                            <apex:selectOptions value="{!listOfBrandPosition}" />
                                            <apex:actionSupport event="onchange" reRender="brandPick" status="actStatusId1" />
                                        </apex:selectList>
                                    </apex:actionRegion>
                                </div>
                            </div>                            
                            <div class="job-field-parent displayinlineblock">
                                <div class="job-field-label">Production Activity Type</div>
                                <div class="job-field-input">
                                    <apex:inputField value="{!savingObject.Production_Type__c}" />
                                </div>
                            </div>
                             <div class="job-field-parent displayinlineblock">
                                <div class="job-field-input">
                                    <apex:inputField value="{!savingObject.Script_Title__c}" html-placeholder="Script Title"/>
                                </div>
                            </div>
                            <div class = "cap-section" style = "display:{!if(permissionSetName = 'CAP','','none')}">
                                    <div class="job-field-parent displayinlineblock">
                                        <div class="job-field-input">
                                            <apex:inputField value="{!savingObject.Job_Details__r.Budget_Responsibility__c}" html-placeholder="Budget Responsibility"/>
                                        </div>
                                    </div>
                                    <div class="job-field-parent displayinlineblock">
                                        <div class="job-field-input">
                                            <apex:inputField value="{!savingObject.Script_Title__c}" html-placeholder="Script Title"/>
                                        </div>
                                    </div>
                                    <div class="job-field-parent displayinlineblock">
                                        <div class="job-field-input">
                                            <apex:inputField value="{!savingObject.Script_Title__c}" html-placeholder="Script Title"/>
                                        </div>
                                    </div>
                                    <div class="job-field-parent displayinlineblock">
                                        <div class="job-field-input">
                                            <apex:inputField value="{!savingObject.Script_Title__c}" html-placeholder="Script Title"/>
                                        </div>
                                    </div>
                            </div>
                            <div class="clear">
                            </div>

                        </div>
                        <div class="left bold inputclass padding-top10">
                            <a class="advance-popup" href="#">Advanced Search</a>
                        </div>
                        <div class="right">
                            <div class="right">
                                <apex:commandButton styleClass="commonbtn-blue" value="Apply" action="{!getJobSearchDetails}" reRender="listRefresh,lstcancelid" status="actionStatusJobsSorting"></apex:commandButton>                                
                            </div>
                            <div class="right margin-right20">
                                <apex:commandButton styleClass="commonbtn" value="Clear" onclick="this.form.reset();return false;" />
                            </div>
                            <div class="clear">
                            </div>
                        </div>

                        <div class="clear">
                        </div>

                    </div>
                </div>
            </div>

            <!-- Advance Search Popup Start -->
            <div class="advance-search-popup popup-window hide">
                <div class="margin-btwn-container12">
                    <div class="left popup-header">
                        Advanced Search
                    </div>
                    <div class="right popup-close cancel-advance-popup pointer">                        
                        <img src="{!URLFOR($Resource.Amr_static_resources, 'Amr-static-resource/images/Ico_ClosePopup.png')}" alt="close" />                        
                    </div>
                    <div class="clear">
                    </div>
                </div>
                <div class="clear"></div>

                <div class="margin-btwn-inner-container"> <!--
                    <div class="job-field-parent displayinlineblock margin-top0imp">
                        <div class="job-field-label">Start date</div>
                        <div class="job-field-input">
                            <input type="text" class="inputTextCommon" id="datepicker2" onchange="callActionFunctionStartDate(this.value);" />
                        </div>
                    </div>
                    <div class="job-field-parent displayinlineblock margin-top0imp">
                        <div class="job-field-label">End date</div>
                        <div class="job-field-input">
                            <input type="text" class="inputTextCommon" id="datepicker1" onchange="callActionFunctionEndDate(this.value);" />
                        </div>
                    </div>  -->
                    <div class="job-field-parent displayinlineblock margin-top0imp">
                        <div class="job-field-label">No Of Masters</div>
                        <div class="job-field-input">
                            <apex:inputField value="{!savingObject.No_of_Masters__c}" />
                        </div>
                    </div>
                    <div class="job-field-parent displayinlineblock margin-top0imp">
                        <div class="job-field-label">Duration Of Masters</div>
                        <div class="job-field-input">
                            <apex:inputField value="{!savingObject.Duration_of_Masters__c}" />
                        </div>
                    </div>

                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">Total No Of Films</div>
                        <div class="job-field-input">
                            <input type="text" class="inputTextCommon1" onchange="callActionFunctionTotalFilms(this.value);" />
                        </div>
                    </div>
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">No Of Shoot Days</div>
                        <div class="job-field-input">
                            <apex:inputField value="{!savingObject.No_of_shoot_days__c}" />
                        </div>
                    </div> <!--
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">Script Title</div>
                        <div class="job-field-input">
                            <apex:inputField value="{!savingObject.Script_Title__c}" />
                        </div>
                    </div> -->
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">Stage RAP Engaged</div>
                        <div class="job-field-input">
                            <apex:inputField value="{!savingObject.Stage_RAP_engaged__c}" />
                        </div>
                    </div>


                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">Scope Re Brief</div>
                        <div class="job-field-input">
                            <apex:inputField value="{!savingObject.Scope_re_brief__c}" />
                        </div>
                    </div>
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">Folder Name</div>
                        <div class="job-field-input">
                            <apex:inputField value="{!savingObject.Folder_Name__c}" />
                        </div>
                    </div>
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">Shoot Location</div>
                        <div class="job-field-input job-field-input-multiselect">
                            <apex:selectList value="{!selectedCountry}" multiselect="true" size="5">
                                <apex:selectOptions value="{!shootLocation}" />
                            </apex:selectList>
                        </div>
                    </div> 
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">&euro; Total Accepted Final Cost</div>
                        <div class="job-field-input">
                            <apex:inputText value="{!totalAcceptedFinalCost}" />
                        </div>
                    </div>
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">&euro; Saving – Average of quotes</div>
                        <div class="job-field-input">
                            <apex:inputText value="{!savingAverageOfQuotes}" />
                        </div>
                    </div>
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">&euro; Saving – Accepted Quote</div>
                        <div class="job-field-input">
                            <apex:inputText value="{!savingAcceptedQuotes}" />
                        </div>
                    </div>      
                    <div class="job-field-parent displayinlineblock">
                        <div class="job-field-label">Date submitted</div>
                        <div class="job-field-input">
                            <input type="text" class="inputTextCommon" id="datepicker" onchange="callActionFunctionStartDate(this.value);" />
                        </div>
                    </div>              
                </div>

                <div>
                    <div class="right">
                        <apex:commandButton value="Apply" action="{!getJobSearchDetails}" styleClass="apply-advance-popup commonbtn-blue" reRender="listRefresh,lstcancelid" status="actionStatusAdvancedSearchFilter" />

                        <apex:actionStatus id="actionStatusAdvancedSearchFilter">
                            <apex:facet name="start">
                                <img src="/img/loading.gif" />
                            </apex:facet>
                        </apex:actionStatus>
                    </div>
                    <div class="right margin-right20 hide">
                        <apex:commandButton value="Cancel" styleClass="cancel-advance-popup commonbtn" />
                    </div>
                    <div class="clear">
                    </div>
                </div>


            </div>
            <!-- Advance search popup End  -->
            <div class="rightbar bg-g1">
                <div class="leftbar-container bg-g1 margin-btwn-container">
                    <div class="leftbar-container-header dark-blue-header">
                        Dashboard
                    </div>
                    <div class="leftbar-container-content margin12 bg-w8" style="padding:10px 12px 0px;min-height:258px;">
                        <div class="margin-top8">
                            <div class="bold">Total Submission made</div>
                            <div>
                                <apex:chart height="110" width="90%" data="{!pieDataRap}" colorSet="#6BAE4A,#FF9123,#424242">
                                    <apex:axis type="Numeric" position="bottom" fields="data" />
                                    <apex:axis type="Category" position="left" fields="name" />
                                    <apex:barSeries orientation="horizontal" axis="left" xField="data" yField="name" colorSet="#6BAE4A,#FF9123,#424242" colorsProgressWithinSeries="true" />
                                </apex:chart>
                            </div>
                        </div>
                        <div>
                            <div class="bold">Total Saving made</div>
                            <div>
                                <apex:chart height="110" width="90%" data="{!pieSavingDataRaps}" colorSet="#6BAE4A,#FF9123,#424242">
                                    <apex:axis type="Numeric" position="bottom" fields="data" />
                                    <apex:axis type="Category" position="left" fields="name" />
                                    <apex:barSeries orientation="horizontal" axis="left" xField="data" yField="name" colorSet="#6BAE4A,#FF9123,#424242" colorsProgressWithinSeries="true" />
                                </apex:chart>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clear">
            </div>
            <div class="bg-g1 margin-top20 submitted-saving-list">
                <h4 class="main_inner_sectionh4">
                    Submitted Savings                    
                    <div data-id="submitted-saving-list-section" class="commonall foldclass">                                     
                    </div>
                </h4>
                <div class="margin12 bg-w8 submitted-saving-list-section">
                    <div class="tabsection">
                        <!-- test -->

                        <apex:actionFunction action="{!getJobSearchDetails}" name="callContrlStartDate" reRender="listRefresh1">
                            <apex:param name="param" value="" id="y" assignTo="{!startDate}" />
                        </apex:actionFunction>
                        <apex:actionFunction action="{!getJobSearchDetails}" name="callContrlEndDate" reRender="listRefresh1">
                            <apex:param name="param16" value="" id="y16" assignTo="{!endDate}" />
                        </apex:actionFunction>
                        <apex:actionFunction action="{!getJobSearchDetails}" name="callContrlFilms" reRender="listRefresh1">
                            <apex:param name="param17" value="" id="y165" assignTo="{!films}" />
                        </apex:actionFunction>

                        <apex:actionFunction action="{!getJobSearchDetails}" name="callContrlJobsSort" reRender="listRefresh,optionpage" status="actionStatusJobsSorting">
                            <apex:param name="param18" value="" id="y18" assignTo="{!selectedSortJobsOption}" />
                        </apex:actionFunction>

                        <apex:outputPanel id="listRefresh">
                            <script type="text/javascript">
                                $j('td.empty').remove();
                                addHeaderTitle();
                            </script>
                            <div class="sort-by-container">
                                <apex:outputPanel >
                                    <apex:outputLabel value="Sort By"></apex:outputLabel>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <apex:selectList value="{!selectedSortJobsOption}" size="1" multiselect="false" onchange="callFuctionForJobsSort(this.value);">
                                        <apex:selectOptions value="{!SortOptions}" />
                                    </apex:selectList>                                    
                                    <apex:actionStatus id="actionStatusJobsSorting">
                                        <apex:facet name="start">
                                            <img src="/img/loading.gif" class="loading-image-format" />
                                        </apex:facet>
                                    </apex:actionStatus>
                                </apex:outputPanel>
                            </div>
                            <apex:pageBlock >
                                <apex:pageBlockSection >
                                    <apex:pageBlockTable value="{!summaryJobsToShow}" var="job"> <!-- by Utkarsh
                                        <apex:column headerValue="ADManager Number">
                                            <apex:commandLink value="{!job.Job_Details__r.AdManagerText__c}" action="{!jobSheetPageTransfer}">
                                                <apex:param name="chosenId" value="{!job.Job_Details__r.id}" assignTo="{!chosenId}" />
                                            </apex:commandLink>
                                        </apex:column>
                                        <apex:column headerValue="Date Savings Submitted">
                                            <apex:outputText value="{0,date,MM/dd/yy}">
                                                <apex:param value="{!job.CreatedDate}" />
                                            </apex:outputText>
                                        </apex:column>
                                        <apex:column headerValue="Production Type" title="{!job.Production_Type__c}">
                                            <apex:outputText >
                                                <div class="td-overflow width80">
                                                    {!job.Production_Type__c}
                                                </div>
                                            </apex:outputText>
                                        </apex:column>
                                        <apex:column value="{!job.Total_Accepted_FinalCost__c}" headerValue="Total Accepted Final Cost" />                                        
                                        <apex:column value="{!job.No_of_Masters__c}" headerValue="No Of Masters" />
                                        <apex:column value="{!job.Duration_of_Masters__c}" headerValue="Duration Of Masters" />
                                        <apex:column value="{!job.No_of_Additional_Films__c}" headerValue="No Of Additional Films" />
                                        <apex:column value="{!job.Duration_of_Additional_Films__c}" headerValue="Duration Of Additional Films" />
                                        <apex:column value="{!job.Total_no_of_films__c}" headerValue="Total No Of Films" />
                                        <apex:column value="{!job.No_of_shoot_days__c}" headerValue="No Of Shoot Days" />
                                        <apex:column styleclass="stage-common-class {!SUBSTITUTE(SUBSTITUTE(SUBSTITUTE(SUBSTITUTE(SUBSTITUTE(job.Stage_RAP_engaged__c, ' ', '_'),'(',''),')',''),',',''),'/','')}" headerValue="Stage RAP Engaged" />
                                        <apex:column headerValue="Script Title" title="{!job.Script_Title__c}">
                                            <apex:outputText >
                                                <div class="td-overflow width80">
                                                    {!job.Script_Title__c}
                                                </div>
                                            </apex:outputText>
                                        </apex:column>
                                        <apex:column value="{!job.Scope_re_brief__c}" headerValue="Scope Re Brief" />
                                        <apex:column headerValue="Folder Name" title="{!job.Folder_Name__c}">
                                            <apex:outputText >
                                                <div class="td-overflow width80">
                                                    {!job.Folder_Name__c}
                                                </div>
                                            </apex:outputText>
                                        </apex:column>
                                        <apex:column headerValue="Shoot Location" title="{!job.Shoot_Location__c }">
                                            <apex:outputText >
                                                <div class="td-overflow width80">
                                                    {!job.Shoot_Location__c }
                                                </div>
                                            </apex:outputText>
                                        </apex:column>
                                        <apex:column headerValue="€ Saving - Average of Quotes">
                                            <apex:outputText value="{!job.Saving_Average_of_Quotes__c}" />
                                        </apex:column>
                                        <apex:column headerValue="% Saving - Average of Quotes">
                                            <apex:outputText value="{!job.Percentage_Saving_Average_of_Quotes__c}" />
                                        </apex:column>
                                        <apex:column headerValue="€ Saving - Accepted Quote">
                                            <apex:outputText value="{!job.Saving_Accepted_Quote_Euro__c}" />
                                        </apex:column>
                                        <apex:column headerValue="% Saving - Accepted Quote">
                                            <apex:outputText value="{!job.Percentage_Saving_Accepted_Quote__c}" />
                                        </apex:column>
                                        <apex:column headerValue="Cost Per Master">
                                            <apex:outputText value="{!job.Cost_Per_Master__c}" />
                                        </apex:column>
                                        <apex:column headerValue="Cost per master per shoot day">
                                            <apex:outputText value="{!job.Cost_per_master_per_shoot_day__c}" />
                                        </apex:column>

                                        <apex:column headerValue="Total Accepted Final Cost (CA/PC/PPC) Euro Amount">
                                            <apex:outputText value="{!job.Quotes__r[0].Total_Accepted_Final_Cost_CA_PC_PPC_Eu__c}" rendered="{!job.Quotes__r.size != 0}" />
                                        </apex:column>
                                        <apex:column headerValue="Total Cost">
                                            <apex:outputText value="{!job.Quotes__r[0].Total_Cost__c}" rendered="{!job.Quotes__r.size != 0}" />
                                        </apex:column>
                                        <apex:column headerValue="Number Of Quotes">
                                            <apex:outputText value="{!job.Number_Of_Quotes__c}" />
                                        </apex:column>
                                        <apex:column headerValue="Average Total Opening Quotes">
                                            <apex:outputText value="{!job.Average_Total_Opening_Quotes__c}"  />
                                        </apex:column>
                                        <apex:column headerValue="Total no of films">
                                            <apex:outputText value="{!job.Total_no_of_films__c}" />
                                        </apex:column>
                                        <apex:column headerValue="View">
                                            <apex:outputlink target="_blank" value="Amr_SubmittedSaving?id={!job.id}">View</apex:outputlink>
                                        </apex:column>    end by utkarsh -->
                                        <!-- Adding 177 Fields -->
                                            
                                            <!-- Quote 1 --->
                                            
                                            <apex:column headerValue="Production Type">
                                                <apex:outputText value="{!job.Production_Type__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Number Of Masters">
                                                <apex:outputText value="{!job.No_of_Masters__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Duration Of Masters">
                                                <apex:outputText value="{!job.Duration_of_Masters__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Number Of Additional Fields">
                                                <apex:outputText value="{!job.No_of_Additional_Films__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Duration Of Addtional Film">
                                                <apex:outputText value="{!job.Duration_of_Additional_Films__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Total Number Of Films">
                                                <apex:outputText value="{!job.Total_no_of_films__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Number Of Shoot Days">
                                                <apex:outputText value="{!job.No_of_shoot_days__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Shoot Location">
                                                <apex:outputText value="{!job.Shoot_Location_Multiselect__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Stage RAP Was Engagged">
                                                <apex:outputText value="{!job.Stage_RAP_engaged__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Script Title">
                                                <apex:outputText value="{!job.Script_Title__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Scope Of Re-Breif">
                                                <apex:outputText value="{!job.Scope_re_brief__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Saving Average Of Quotes">
                                                <apex:outputText value="{!job.Saving_Average_of_Quotes__c}" />
                                            </apex:column>
                                            <apex:column headerValue="% Saving Average Of Quotes">
                                                <apex:outputText value="{!job.Percentage_Saving_Average_of_Quotes__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Saving Accepted Quote">
                                                <apex:outputText value="{!job.Saving_Accepted_Quote_Euro__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Saving Accepted Quote">
                                                <apex:outputText value="{!job.Saving_Accepted_Quote_Euro__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Cost Per Master">
                                                <apex:outputText value="{!job.Cost_Per_Master__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Cost Per Master Per Shoot Day">
                                                <apex:outputText value="{!job.Cost_per_master_per_shoot_day__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 Is PC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[0].Is_PC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PC Name">
                                                <apex:outputText value="{!job.Quotes__r[0].PC_name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PC Country Location">
                                                <apex:outputText value="{!job.Quotes__r[0].PC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 Service Company Name">
                                                <apex:outputText value="{!job.Quotes__r[0].Service_Company_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[0].PC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[0].PC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[0].PC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 Is PPC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[0].Is_the_PPC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PPC Name">
                                                <apex:outputText value="{!job.Quotes__r[0].PPC_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PPC Country">
                                                <apex:outputText value="{!job.Quotes__r[0].PPC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PPC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[0].PPC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PPC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[0].PPC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 PPC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[0].PPC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 CA/Additional agency Name">
                                                <apex:outputText value="{!job.Quotes__r[0].CA_Additional_agency_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 CA Location">
                                                <apex:outputText value="{!job.Quotes__r[0].CA_Location__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 CA Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[0].CA_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 CA Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[0].CA_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 CA Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[0].CA_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q1 Total Cost (€)">
                                                <apex:outputText value="{!job.Quotes__r[0].Total_Cost__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost PC Currency Only">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_PC_only_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost PC Currency Only Local Amount">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_PC_only_Local_Amo__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost PC Currency Only Euro Amount">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_PC_Euro_Amou__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost PPC Currency Only">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_PPC_only_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost PPC Currency Only Local Amount">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_PPC_only_Local_Am__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost PPC Currency Only Euro Amount">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_PPC_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost CA Currency Only Currency Only">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_CA_only_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost CA Currency Only Local Amount">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_CA_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost PPC Currency Only Euro Amount">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_CA_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Accepted Final Cost - Editors name">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_Editors_name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Total editing cost">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_Total_editing_cost__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Sound Studio Name">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_Sound_Studio_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Total Sound Studio">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_Total_Sound_Studio__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Travel Costs">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_Travel_Costs__c}" />
                                            </apex:column>
                                            <apex:column headerValue=" Value of props & wardrobe">
                                                <apex:outputText value="{!job.Quotes__r[0].Accepted_Final_Cost_props_wardrobe__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Number Of Quotes">
                                                <apex:outputText value="{!job.Number_Of_Quotes__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Average Of Total Opening Cost">
                                                <apex:outputText value="{!job.Average_Total_Opening_Quotes__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Total Accepted Final Cost">
                                                <apex:outputText value="{!job.Quotes__r[0].Total_Accepted_Final_Cost_CA_PC_PPC_Eu__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Type Of Saving">
                                                <apex:outputText value="{!job.Quotes__r[0].Saving_Type__c}" />
                                            </apex:column>
                                            
                                            <!-- Quote 2 -->
                                             <apex:column headerValue="Q2 Is PC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[1].Is_PC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PC Name">
                                                <apex:outputText value="{!job.Quotes__r[1].PC_name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PC Country Location">
                                                <apex:outputText value="{!job.Quotes__r[1].PC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 Service Company Name">
                                                <apex:outputText value="{!job.Quotes__r[1].Service_Company_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[1].PC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[1].PC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[1].PC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 Is PPC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[1].Is_the_PPC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PPC Name">
                                                <apex:outputText value="{!job.Quotes__r[1].PPC_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PPC Country">
                                                <apex:outputText value="{!job.Quotes__r[1].PPC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PPC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[1].PPC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PPC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[1].PPC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 PPC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[1].PPC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 CA/Additional agency Name">
                                                <apex:outputText value="{!job.Quotes__r[1].CA_Additional_agency_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 CA Location">
                                                <apex:outputText value="{!job.Quotes__r[1].CA_Location__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 CA Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[1].CA_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 CA Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[1].CA_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 CA Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[1].CA_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q2 Total Cost (€)">
                                                <apex:outputText value="{!job.Quotes__r[1].Total_Cost__c}" />
                                            </apex:column>
                                            
                                            
                                            <!-- Quote 3 -->
                                            
                                             <apex:column headerValue="Q3 Is PC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[2].Is_PC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PC Name">
                                                <apex:outputText value="{!job.Quotes__r[2].PC_name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PC Country Location">
                                                <apex:outputText value="{!job.Quotes__r[2].PC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 Service Company Name">
                                                <apex:outputText value="{!job.Quotes__r[2].Service_Company_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[2].PC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[2].PC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[2].PC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 Is PPC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[2].Is_the_PPC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PPC Name">
                                                <apex:outputText value="{!job.Quotes__r[2].PPC_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PPC Country">
                                                <apex:outputText value="{!job.Quotes__r[2].PPC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PPC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[2].PPC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PPC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[2].PPC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 PPC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[2].PPC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 CA/Additional agency Name">
                                                <apex:outputText value="{!job.Quotes__r[2].CA_Additional_agency_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 CA Location">
                                                <apex:outputText value="{!job.Quotes__r[2].CA_Location__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 CA Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[2].CA_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 CA Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[2].CA_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 CA Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[2].CA_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q3 Total Cost (€)">
                                                <apex:outputText value="{!job.Quotes__r[2].Total_Cost__c}" />
                                            </apex:column>
                                            
                                            
                                            <!-- Quote 4 --->
                                            
                                             <apex:column headerValue="Q4 Is PC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[3].Is_PC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PC Name">
                                                <apex:outputText value="{!job.Quotes__r[3].PC_name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PC Country Location">
                                                <apex:outputText value="{!job.Quotes__r[3].PC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 Service Company Name">
                                                <apex:outputText value="{!job.Quotes__r[3].Service_Company_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[3].PC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[3].PC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[3].PC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 Is PPC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[3].Is_the_PPC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PPC Name">
                                                <apex:outputText value="{!job.Quotes__r[3].PPC_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PPC Country">
                                                <apex:outputText value="{!job.Quotes__r[3].PPC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PPC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[3].PPC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PPC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[3].PPC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 PPC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[3].PPC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 CA/Additional agency Name">
                                                <apex:outputText value="{!job.Quotes__r[3].CA_Additional_agency_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 CA Location">
                                                <apex:outputText value="{!job.Quotes__r[3].CA_Location__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 CA Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[3].CA_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 CA Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[3].CA_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 CA Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[3].CA_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q4 Total Cost (€)">
                                                <apex:outputText value="{!job.Quotes__r[3].Total_Cost__c}" />
                                            </apex:column>
                                            
                                            <!-- Quote 5 --->
                                            
                                             <apex:column headerValue="Q5 Is PC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[4].Is_PC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PC Name">
                                                <apex:outputText value="{!job.Quotes__r[4].PC_name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PC Country Location">
                                                <apex:outputText value="{!job.Quotes__r[4].PC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 Service Company Name">
                                                <apex:outputText value="{!job.Quotes__r[4].Service_Company_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[4].PC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[4].PC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[4].PC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 Is PPC Part Of The Roster">
                                                <apex:outputText value="{!job.Quotes__r[4].Is_the_PPC_part_of_the_Roster__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PPC Name">
                                                <apex:outputText value="{!job.Quotes__r[4].PPC_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PPC Country">
                                                <apex:outputText value="{!job.Quotes__r[4].PPC_Country__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PPC Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[4].PPC_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PPC Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[4].PPC_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 PPC Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[4].PPC_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 CA/Additional agency Name">
                                                <apex:outputText value="{!job.Quotes__r[4].CA_Additional_agency_Name__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 CA Location">
                                                <apex:outputText value="{!job.Quotes__r[4].CA_Location__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 CA Cost Only(Local Currency)">
                                                <apex:outputText value="{!job.Quotes__r[4].CA_Costs_Local_Currency__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 CA Cost Only(Local Amount)">
                                                <apex:outputText value="{!job.Quotes__r[4].CA_Costs_Local_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 CA Cost Only(Euro Amount)">
                                                <apex:outputText value="{!job.Quotes__r[4].CA_Costs_Euro_Amount__c}" />
                                            </apex:column>
                                            <apex:column headerValue="Q5 Total Cost (€)">
                                                <apex:outputText value="{!job.Quotes__r[4].Total_Cost__c}" />
                                            </apex:column>
                                            
                                          
                                            
                                        
                                        <!-- End Adding 177 fields -->
                                        
                                    </apex:pageBlockTable>
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                            <apex:pageBlock >
                                <div class="padding12-0 bg-g1">
                                    <apex:outputPanel styleClass="pagination padding12-0" id="optionpage">
                                        <apex:commandButton value="<<" action="{!beginningForSummaryJobs}" disabled="{!DisablePreviousForSummaryJobs}" reRender="listRefresh" />
                                        <apex:commandButton value="<" action="{!previousForSummaryJobs}" disabled="{!DisablePreviousForSummaryJobs}" reRender="listRefresh" />
                                        <apex:commandButton value=">" action="{!nextForSummaryJobs}" disabled="{!DisableNextForSummaryJobs}" reRender="listRefresh" />
                                        <apex:commandButton value=">>" action="{!lastForSummaryJobs}" disabled="{!DisableNextForSummaryJobs}" reRender="listRefresh" />
                                        &nbsp;{!CurrentActivePageNumber}&nbsp;out of&nbsp;{!TotalActiveJobPages}
                                    </apex:outputPanel>
                                </div>
                            </apex:pageBlock>
                        </apex:outputPanel>
                    </div>
                </div>
            </div>
            <apex:actionFunction name="sendCategory" action="{!brandPositionListData}" reRender="brandPosPick" oncomplete="closeloading()">
                <apex:param id="catname" assignTo="{!categoryName}" name="categoryName" value="{!categoryName}" />
            </apex:actionFunction>
        </apex:form>
    </div>
</apex:page>