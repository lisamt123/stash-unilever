<apex:page controller="Amr_CAPJobPortfolioController" title="Jobs Portfolio" sidebar="false" standardStylesheets="true">
<head>
<apex:includeScript value="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"/>
  
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"/>
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css"/>

<apex:pageMessages />

<apex:includeScript value="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"/>
<script>
    j$ = jQuery.noConflict();
    
    function showLoadingDiv() {
        var newHeight = j$("[id$=lead-edit-section] .pbSubsection").css("height");//Just shade the body, not the header
        j$("[id$=loading-curtain-div]").css("background-color", "black").css("opacity", 0.35).css("height", newHeight).css("width", "80%");
    }
    function hideLoadingDiv() {
        j$("[id$=loading-curtain-div]").css("background-color", "black").css("opacity", "1").css("height", "0px").css("width", "80%");
    }
    
</script>

<script>
  
$j = jQuery.noConflict();
  $j(function() {
    //$j( "#datepicker" ).datepicker();
    // $j( "#datepicker1" ).datepicker();
     //alert('2');
     $j('.addlicon-filter').click(function(){
        $j('.mainleftfield').toggle();            
     });
     
     $j('.commonall').click(function(){   
               var dataId = $j(this).attr('data-id');
               
               if($j(this).hasClass('minusclass')) {
                    $j(this).attr('class', 'commonall plusclass');
                    $j('.'+dataId).slideToggle(500);
               } else if($j(this).hasClass('plusclass')) {
                    $j(this).attr('class', 'commonall minusclass');
                    $j('.'+dataId).slideToggle(500);
               }                                   
              });
     
  });
  </script>
  
  <script type="text/javascript">
  
      function callActionFunctionStartDate(startDate) {
        
        callContrlStartDate(startDate);
       }  
     function callActionFunctionEndDate(endDate) {
    
       callContrlEndDate(endDate);
      
    }
     function callFuctionForJobsSort(jobsSort){
    //alert('pendingSortOption!!'+jobsSort);
        callContrlJobsSort(jobsSort);
    }
    
     function callFuctionForCancelSort(jobsCancel){
    //alert('pendingSortOption!!'+jobsCancel);
        callContrlCancelSort(jobsCancel);
    }
    </script>
    <script type="text/javascript">
     //$ = jQuery.noConflict();
    function transferValue(projName)
        {
       // alert('inside function'+projName);
      if(projName!=="--None--") {
        $j('.projecttextProjDetail').val(projName);
          // alert('Hi---'+$j('.projecttextProjDetail').val());
          }
        }
    </script>
    <style>
    .hide{
            display:none;           
            }
    </style>
     
        <style>
             #loading-curtain-div {
                height:0px;
                width:100%;
                position:absolute;
                z-index:5;
                //-webkit-transition: all 0.30s ease-out;
                //-moz-transition: all 0.30s ease-out;
            }
            .capjobportfolio-search-id {
                display:none;
                background: #fff none repeat scroll 0 0;    
                padding: 20px 0;
            }
            
            @font-face {
            font-family: 'dinOffPro';           
            src: url("{!URLFOR($Resource.Ad_Manager, 'Ad-Manager/fonts/UnileverDINOffcPro.ttf')}")  format('truetype');
            }
            @font-face {
            font-family: 'dinOffProBold';           
            src: url("{!URLFOR($Resource.Ad_Manager, 'Ad-Manager/fonts/UnileverDINOffcPro-Bold.ttf')}")  format('truetype');
            }
            body{
            background: #ffffff; /* Old browsers */
            background: -moz-linear-gradient(top,  #ffffff 0%, #ffffff 0%, #ffffff 0%, #ffffff 0%, #ffffff 0%, #ffffff 8%, #ffffff 8%, #4f93cd 100%); /* FF3.6-15 */
            background: -webkit-linear-gradient(top,  #ffffff 0%,#ffffff 0%,#ffffff 0%,#ffffff 0%,#ffffff 0%,#ffffff 8%,#ffffff 8%,#4f93cd 100%); /* Chrome10-25,Safari5.1-6 */
            background: linear-gradient(to bottom,  #ffffff 0%,#ffffff 0%,#ffffff 0%,#ffffff 0%,#ffffff 0%,#ffffff 8%,#ffffff 8%,#4f93cd 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#4f93cd',GradientType=0 ); /* IE6-9 */
            margin:0 auto;}
            h2 {
            font-family: 'dinOffPro',sans-serif !important;
            font-size:21px !important;
            }
            /* Ad Main section CSS*/
            .navbar-header{display:inline-block;width:100%}
            .roundarrow {
            float: left;
            width: 43%;
            }
            .roundarrow img{float:left;width: 60px;margin: 12px;}
            .clear{clear:both;}
            .adtext {float: left;margin:35px 0px 0px 0px;color:#3399CC;font-size: 20px;}
            .form-control { border-radius:10px;}
            .searchbox{float:left;margin: 10px 0px 0px 0px;width: 9%;margin: 37px 0px 0px 0px;}
            .searchbox input[type="text"] {
            border: 1px solid #efefef;
            padding: 2px 0 2px 14px;
            width: 200px;
            color:#3399CC;
            font-weight:bold;
            }
            #myNavbar{float:right;display:inline;width: 36%;margin-top: 30px;}
            #myNavbar a{text-decoration:none; padding: 12px 15px 0 0px;display:block;color:#3399CC;}
            #myNavbar ul li {display: inline-block;list-style-type:none;color:#1796BF;font-size:12px;font-weight:bold;}
            #myNavbar > ul {
            margin: 0;
            padding: 0;
            }
            .caret{border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-top: 4px dashed;
            display: inline-block;
            float: right;
            height: 0;
            margin-left: 5px;vertical-align: middle;
            width: 0;position: relative;top: 6px;}
            .admanager_text a{color:#fff !important;background: #1796bf none repeat scroll 0 0;border-radius: 30px;padding: 5px 30px 5px 5px !important;}
            .caret1{color:#fff;margin: 0 -21px 0 20px;}
            .subsection{background:#c8e0f0;border-bottom: 6px solid #2787c6; padding-left:10px; padding-top: 6px;}
            .subsection > ul {margin: 0; padding:0px}
            .subsection ul li{display: inline-block;list-style-type:none;}
            .subsection a{text-decoration:none;display:block;color:#333333;font-weight:bold;padding:4px 8px; font-size: 13px; border-top-left-radius:10px; border-top-right-radius:10px;}
            .subsection .active a{background: linear-gradient(to bottom, #ccc 0%, #ccc 0%, #A6CCE6 0%, #2F87C6 0%, #A6CCE6 0%, #A6CCE6 8%, #A6CCE6 8%, #2F87C6 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
            color: #fff;
            border-top-left-radius:10px;
            border-top-right-radius:10px;}
            .jobportpolio_header h2{padding: 15px 0 0 15px;color:#3399CC;}
            .job_section{background: #e5e5e5  none repeat scroll 0 0;overflow: hidden;}
            .joblist_section h4{background: #2c99ce none repeat scroll 0 0;
            font-size: 12px;
            padding: 5px;color: #fff;}
            .port_section{padding: 0 20px 20px; background: #fff none repeat scroll 0 0;}
            .filter_section h4{background:#66CCFF none repeat scroll 0 0;
            font-size: 12px;
            padding: 8px;color: #fff;
            border-radius:6px 6px 0 0;
            }
            <!--.tabsection{border-bottom:6px solid #66CCFF;}-->
            .tabsection > ul {margin: 0; padding:0px}
            .tabsection ul li{display: inline-block;list-style-type:none;}
            .tabsection a{text-decoration:none;display:block;color:#000;padding: 8px 28px; font-size: 12px;font-weight: bold;}
            .tabsection .active a{ background: linear-gradient(to bottom, #ccc 0%, #ccc 0%, #ffffff 0%, #ffffff 0%, #ffffff 0%, #ffffff 8%, #AFE2FC 8%, #66CCFF 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
            color: #fff;
            border-top-left-radius: 14px;
            border-top-right-radius: 14px;
            }
            .datalist table,.datalist td { color: #333;
            font-size: 12px;}
            .datalist th{font-size: 12px;padding:7px;text-align: left;}
            .datalist td {padding:7px;text-align: left;border-bottom: 3px solid #f9fafb;}   
            .tablehead{background:#e7e8e8 !important;}
            .numbertext{color:#2787c6;}
            .borderbottom{border-bottom:1px solid red;}
            .slidesection{background: none repeat scroll 0 0 #e7e8e8;
            margin: 5px 0 0;
            padding: 0;}
            .footer{
            background: none repeat scroll 0 0 #f16567;
            margin-top: 10px;
            padding: 10px;
            width :99%;
            z-index : 1;
            position : absolute;
            }
            .smallicon{width:20px;}
            .clear{clear:both;}
            .boxcont {
            background:#f9fafb;padding: 0 20px 20px;
            }
            table {
            border-collapse: collapse;
            width: 100%;background:#fff;
            }
            .tabsection table {
            width:auto !important;
            }
            .flag{width:25px;position:relative;top:10px;}
            .footer_section{background: #fff none repeat scroll 0 0 !important;
            //overflow-x: scroll;}
            .alert_div{
                position:relative;
                width : 100%;
                height:41px;
            }
            .top{
            z-index: 2 !important;
            }
            .footertxt{margin-left: 5px;}
            .footertxt a{color:#ffffff;font-size:14px;font-weight:bold;}
            .footeralertmsg{color:#ffffff;font-size:13px;margin-left: 5px;}
            .close{float: right;
            margin-top:4px;
            width: 25px;}
            .joblist_section {
            margin: 0 -20px 0 -21px;
            width: auto;
            }
            .slidesection img{ position: relative;
            top: 3px;
            width: 20px;}
            .slidenav {text-align: right;}
            .slidenav {text-align: right;}
            .filter_section img{bottom: 5px;
            float: right;
            position: relative;
            width: 20px;}
            .box-group label{ color: #fff;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase; position: relative;bottom: 6px;}
            .boldtext {
            display: block;
            color:#fff;
            font-size: 25px;
            }
            .job_section{
            padding:10px;
            }
            .job_section .box-group{
            background: none repeat scroll 0 0 #2c99ce;
            margin-right:1%;
            width:14%;
            padding: 10px 10px 0;
            float: left;
            text-align: right;
            }
            .box-group {
                border-radius: 10px;
            }            
            .job_section .box-group:last-child{
            margin-right:0px;
            }
            .iconimg {
            float: left;
            height: 40px;
            margin-top: 20px;
            width:40px;
            position: relative;
            right: 3px;
            bottom: 14px;
            opacity: 0.3;
            }
            .pendingtxt{background:#e76a70 !important;}
            .livetxt{background:#50bf78 !important;}
            .prioritytxt{background:#ff941f !important;}
            .dormanttxt{background:#8c8c90 !important;}
            .Savingtxt{background:#559dd0 !important;}
            h4 {
            display:block !important;
            margin: 14px 0 !important;
            }
            h2 {
            font-family: 'dinOffPro',sans-serif !important;
            font-size:21px !important;
            }
            .jobportpolio_header h2{padding: 15px 0 0 15px;}
            .jobportpolio_header{margin:15px 0 5px 0;}
            .rich-tab-inactive{
            background: none !important;            
            cursor:pointer;
            padding: 0 25px;
            font-family: "dinOffPro-Bold",sans-serif;
            font-weight:bold;
            font-size: 14px;
            }
            .rich-tab-active {
            background: rgba(0, 0, 0, 0) linear-gradient(to bottom, #ccc 0%, #ccc 0%, #ffffff 0%, #ffffff 0%, #ffffff 0%, #ffffff 8%, #afe2fc 8%, #66ccff 100%) repeat scroll 0 0;
            border-top-left-radius: 14px;
            border-top-right-radius: 14px;
            color: #fff;
            height: 35px;
            padding: 0 25px;
            font-family: "dinOffPro-Bold",sans-serif;
            font-weight:bold;
            font-size: 14px;    
            }
            .hide{
            display:none;           
            }
            td.rich-tab-bottom-line  table {
                //left: 0;
                //position: absolute;
                //top: 10px;
            }
            .tabsection {
            //  position:relative;
            }
            .rich-tabpanel  {
                position:relative;
            }
            .rich-tab-bottom-line  table:first-child {
                //position: absolute;
                //top: 31px;
                //z-index: 999;
            }
            .rich-tabhdr-side-cell {
                border:none !important;
            }
            .rich-tab-bottom-line{
                border-bottom: 6px solid #66ccff !important;
            }
            td.rich-tabhdr-side-cell table {
                background:#F9FAFB !important;
            } 
            .rich-tabhdr-side-border img {
                width:0px !important;
            }
            .rich-tab-bottom-line {
                 background: #f9fafb;
            }
            .rich-tab-bottom-line table:first-child {
                background: #f9fafb;
            }
            tr.headerRow th div{
                font-size: 12px;
                padding: 7px;
                text-align: left;
            }
            tr.headerRow th{
                border:none !important;
            } 
            .bPageBlock {
                border:none !important;
            }
            .dataCol {
                padding:0px !important;
            }
            .pbBody {
                margin:0px !important;
            }
            .tabsection {
                scrollbar-face-color: #000000;
                scrollbar-shadow-color: #2D2C4D;
                scrollbar-highlight-color:#7D7E94;
                scrollbar-3dlight-color: #7D7E94;
                scrollbar-darkshadow-color: #2D2C4D;
                scrollbar-track-color: #7D7E94;
                scrollbar-arrow-color: #C1C1D1; 
            }
            .dataCell span{
                padding-left:10px;
            }
            .left-arrow {
                left: 1006px;
                position: absolute;
            }
            .right-arrow {
                left: 1025px;
                position: absolute;
            }
            table {
                font-family: 'dinOffPro',sans-serif !important;
            }
            .slidenav{
                border: 1px solid #fff;
                height: 29px;
                position: relative;
                width: 100%;
            }
            .subleftfield{
                float:left;
                width:178px;
            }
            .subrightfield{
                float:left;
                width:250px;
            }
            .mainleftfield {
                width:450px;
                float:left;
                margin-left:50px;
                margin-bottom: 16px;
            }
                        
            input[type="text"], input[type="password"], select {
                background: rgba(0, 0, 0, 0) -moz-linear-gradient(center top , #ffffff 0%, #ffffff 100%) repeat scroll 0 0;
                border: 2px solid #e5e5e5;
                box-sizing: border-box;
                color: #0b2f4d;
                width: 200px;
            }
            input[type="text"] {
                height:30px;
            }
            select {
                border-radius: 8px;
                padding: 6px 2px 6px 3px;
            }
            .pbSubheader{
                display:none;
            }
            .pagination{
                 margin-left: 453px;
            }
            .minusclass {
                background-image: url("/resource/1451457838000/Ad_Manager/Ad-Manager/images/Subtract-m.png");               
                background-position: 0 7px;
                background-repeat: no-repeat;
                background-size: 20px 8px;
                float: right;
                height: 10px;
                width: 20px;
            }           
                       
            .plusclass {
                 background-image: url("/resource/1451457838000/Ad_Manager/Ad-Manager/images/addicon-s.png");
                background-position: 0 -4px;
                background-repeat: no-repeat;
                background-size: 20px 29px;
                float: right;
                height: 29px;
                width: 20px;
            }
            .minusclass {
                cursor:pointer;
            }
            .plusclass {
                cursor:pointer;
            }
    .tabsection img{
        height:20px;
    }
        </style>
    </head>
    <body>
        <!---Ad Main section---->
        <div class="container">
            <apex:form >
                <div class="jobsportpolio_section">
                    <div class="jobportpolio_header">
                        <h2>Jobs Portfolio</h2>
                    </div>
                     <!--  <div class="job_section">
                                                <div class="box-group">
                                                        <img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/Icon_Total.png')}" class="iconimg" alt="number"/>
                                                        <b class="boldtext">{!TotalJobs}</b>
                                                        <apex:outputLabel >total jobs</apex:outputLabel>
                                                </div>                                                
                                                <div class="box-group pendingtxt">
                                                        <img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/Icon_Pending.png')}" class="iconimg" alt="number"/>
                                                        <b class="boldtext">{!TotalLiveJobs}</b>
                                                        <apex:outputLabel >pending</apex:outputLabel>
                                                </div>
                                                <div class="box-group livetxt">
                                                        <img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/Icon_Active.png')}" class="iconimg" alt="number"/>
                                                        <b class="boldtext">{!TotalLiveJobs}</b>
                                                        <apex:outputLabel >live</apex:outputLabel>
                                                </div>                                                
                                                <div class="box-group prioritytxt">
                                                        <img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/Icon_Priority.png')}" class="iconimg" alt="number"/>
                                                        <b class="boldtext">{!TotalPriorityJobs}</b>
                                                        <apex:outputLabel >priority</apex:outputLabel>
                                                </div>
                                                <div class="box-group dormanttxt">
                                                        <img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/Icon_Dormat.png')}" class="iconimg" alt="number"/>
                                                        <b class="boldtext">{!TotalDormantJobs}</b>
                                                        <apex:outputLabel >dormant</apex:outputLabel>
                                                </div>
                                                <div class="box-group Savingtxt">
                                                        <img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/Icon_Savings.png')}" class="iconimg" alt="number"/>
                                                        <b class="boldtext">{!TotalSavingsJobs}</b>
                                                        <apex:outputLabel >Savings</apex:outputLabel>
                                                </div>
                                        </div>
                           
                           -->             
                    <div class="footer_section">
                        
                        <div class="port_section">
                            <div class="boxcont">
                                <div class="joblist_section" style="height: 26px;">
                                    <h4 style="border-radius: 6px 6px 0 0;"></h4>
                                </div>
                                
                                <!--  
                                 <div class="search_section">
                                    <div class="filter_section">
                                        <h4>Alerts<span><img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/addicon.png')}" class="addlicon addlicon-filterAlert" alt="number"/></span></h4>
                                        <div class="job-list-search-sectionAlert">
                                                
                       
                        <apex:pageBlock id="pbAlertId">
                                   <apex:outputPanel styleClass="custom1" id="pbSectionAlertId">
                                   
                                   <apex:pageBlockTable value="{!alertList}" var="alert1" styleClass="box_content jobalerts" style="width:100%" rendered="{!alertList.size>0}">
                                       <apex:column value="{!alert1.New_Alert__c}" headerValue="Date"/>
                                        <apex:column value="{!alert1.Alert_Message__c}" headerValue="Alert Message"/>
                                        <apex:column headerValue="Hide">
                                            <apex:commandLink value="Hide"  action="{!hideAlert}" reRender="pbSectionAlertId,showUnhideRecords1" >
                                            <apex:param name="recordId"  assignTo="{!chosenAlertId}" value="{!alert1.id}"/>
                                            </apex:commandLink>
                                            </apex:column>
                                     </apex:pageBlockTable>
                              
                          
                         <div>
                          <apex:commandButton action="{!unHideAlertShow}" value="Show Unhide Alerts" reRender="pbSectionAlertId" rendered="{!!flagForButtons }"/>
                          <apex:commandButton action="{!unHideAlertHide}" value="Close Unhide Alerts" reRender="pbSectionAlertId" rendered="{!flagForButtons}" />
                         </div>
                          
                          <apex:outputPanel id="showUnhideRecords" rendered="{!showUnhideRecords}">
                          
                          <apex:pageBlockTable value="{!unHideAlertList}" var="unHide" styleClass="box_content jobalerts" style="width:100%">
                              <apex:column value="{!unHide.New_Alert__c}" headerValue="Date"/>
                              <apex:column value="{!unHide.Alert_Message__c}"/>
                          </apex:pageBlockTable>
                          </apex:outputPanel>
                        
                          </apex:outputPanel>
                         
                          </apex:pageBlock>
                         </div>
                        </div>                        
                      </div>       
                                            
                      -->                      
                                            
                                <div class="search_section">
                                    <div class="filter_section">
                                        <h4>Search &amp; Filter
                                            <!--  <span><img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/addicon.png')}" class="addlicon addlicon-filter" alt="number" style="margin-top:10px;"/></span>-->
                                            <div class="plusclass commonall" data-id="capjobportfolio-search-id">                                        
                                            </div>
                                        </h4>
                                        <div class="capjobportfolio-search-id">
                                      <!--  <div class="filter_sub_section" style="background:#fff;">
                                            <div class="mainleftfield">
                                                <div class="subleftfield">
                                                    Start date
                                                </div>
                                                <div class="subrightfield">
                                                    <input type="text" class="inputTextCommon" id="datepicker" onchange="callActionFunctionStartDate(this.value);"/>
                                                </div>
                                                <div class="clear">
                                                </div>
                                            </div>
                                            <div class="mainleftfield">
                                                <div class="subleftfield">
                                                    End date
                                                </div>
                                                <div class="subrightfield">
                                                    <input type="text" class="inputTextCommon" id="datepicker1" onchange="callActionFunctionEndDate(this.value);"/>
                                                </div>
                                                <div class="clear">
                                                </div>
                                            </div>
                                        </div>-->
                                        
                                         <div class="mainleftfield">
                                                                                                <div class="subleftfield">                                                                                                        
                                                                                                        {!$ObjectType.Amr_Job_Details__c.fields.Start_Date__c.label}                                                                                                        
                                                                                                </div>
                                                                                                <div class="subrightfield">
                                                                                                        <apex:inputField value="{!jobDetails.Start_Date__c}" />
                                                                                                       
                                                                                                </div>
                                                                                                <div class="clear">
                                                                                                </div>
                                                                                        </div>
                                                                                        
                                                                                         <div class="mainleftfield">
                                                                                                <div class="subleftfield">                                                                                                        
                                                                                                        {!$ObjectType.Amr_Job_Details__c.fields.End_Date__c.label}                                                                                                        
                                                                                                </div>
                                                                                                <div class="subrightfield">
                                                                                                        <apex:inputField value="{!jobDetails.End_Date__c}"  />
                                                                                                </div>
                                                                                                <div class="clear">
                                                                                                </div>
                                                                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Category
                                            </div>
                                            <div class="subrightfield">
                                                <apex:selectList value="{!categoryName}" size="1"  multiselect="false" >
                                                     <apex:actionSupport event="onchange" reRender="brandPosPick,brandPick" status="actStatusId"/>
                                                     <apex:selectOptions value="{!CategoryList}" />
                                                 </apex:selectList>
                                            </div>
                                            
                                            <div style="width :100%; align:center;" >
                                            <br/>
                                            <apex:actionStatus id="actStatusId" >
                                                <apex:facet name="start" >
                                                    <img src="/img/loading.gif" />                    
                                                </apex:facet>
                                            </apex:actionStatus>
                                        </div>
                                        <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Brand positioning
                                            </div>
                                            <div class="subrightfield">
                                                <apex:selectList id="brandPosPick" value="{!brandPos}" size="1" multiselect="false" >
                                                      <apex:actionSupport event="onchange" reRender="brandPick" status="actStatusId1"/>
                                                      <apex:selectOptions value="{!BrandPositioningList}" />
                                                  </apex:selectList>
                                            </div>
                                            <div style="width :100%; align:center;" >
                                            <br/>
                                            <apex:actionStatus id="actStatusId1" >
                                                <apex:facet name="start" >
                                                    <img src="/img/loading.gif" />                    
                                                </apex:facet>
                                            </apex:actionStatus>
                                        </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Brand name
                                            </div>
                                            <div class="subrightfield">
                                                <apex:selectList id="brandPick" value="{!brandName}" size="1" multiselect="false" >
                                                      <apex:selectOptions value="{!BrandList}" />
                                                  </apex:selectList>
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="clear">
                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Location of project leader cluster
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobDetails.Project_Leader_Cluster__c}"   />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Location of project leader country
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobDetails.Project_Leader_Country__c}"   />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="clear">
                                        </div>
                                        
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Lead agency name
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobDetails.Lead_Creative_Agency_name__c}" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Broadcast market
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobDetails.Brodcast_Market__c}" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="clear">
                                        </div>                                                                                
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Stage logged
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobDetails.Stage_of_Production_Activity__c}" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Job allocated
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobAllocation.Job_Allocated__c}" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                     <!--   <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Job accepted
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobAllocation.Job_Allocated__c}" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="clear">
                                        </div>
                                        
                                        
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Job started
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobAllocation.Started__c}" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Job reported
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobAllocation.Reported__c}" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="clear">
                                        </div>
                                        
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Job shared
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobAllocation.Job_Shared__c}" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>-->
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                AdManager number
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobDetails.AdManagerText__c}" Styleclass="inputTextCommon" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="clear">
                                        </div>                                        
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Unilever project leader email
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputText value="{!jobDetails.Unilever_Project_Leader_Email__c}" Styleclass="inputTextCommon" />
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                Project name
                                            </div>
                                            <div class="subrightfield">
                                                <apex:inputField value="{!jobDetails.Project_Details__c}" styleClass="projecttextProjDetail hide"/><select id="projectList" size="1" style="width: 200px;" onchange="transferValue(this.value)"></select>
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                              
                                        
                                        <div class="mainleftfield">
                                            <div class="subleftfield">
                                                RAP allocated
                                            </div>
                                            <div class="subrightfield">
                                               <apex:selectList value="{!userName}" size="1" multiselect="false" >                   
                                        <apex:selectOptions value="{!UserList}" />              
                                      </apex:selectList>
                                            </div>
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="clear">
                                        </div>
                                        
                                       
                                                                       
                                        
                                        <div class="mainleftfield">
                                             <apex:actionStatus id="actStatusId4" >
                                                            <apex:facet name="start" >
                                                              <img src="/img/loading.gif" />                    
                                                            </apex:facet>
                                              </apex:actionStatus>
                                            <div class="subleftfield">
                                                <apex:commandButton value="Apply" status="actStatusId4" action="{!getJobSearchDetails}" reRender="test,test1">
                                                <!-- reRender="listRefresh" -->
                                                </apex:commandButton>
                                            </div>                                              
                                            <div class="clear">
                                            </div>
                                        </div>
                                        
                                        <div class="clear">
                                        </div> 

                                        </div>
                                    </div>
                                                                                                           
                                </div>
                                 
                                <div class="tabsection">                                   
    
                                    <apex:actionFunction action="{!getJobSearchDetails}" name="callContrlStartDate" reRender="listRefresh1">
                                       <apex:param name="param" value="" id="y" assignTo="{!startDate}" />
                                    </apex:actionFunction>
                                    
                                    <apex:actionFunction action="{!getJobSearchDetails}" name="callContrlEndDate" reRender="listRefresh1">
                                       <apex:param name="param16" value="" id="y16" assignTo="{!endDate}" />
                                    </apex:actionFunction> 
                                    
                                    <apex:actionFunction action="{!getJobSearchDetails}" name="callContrlJobsSort" reRender="test" status="actionStatusJobsSorting">
                                       <apex:param name="param18" value="" id="y18" assignTo="{!selectedSortJobsOption}" />
                                    </apex:actionFunction>
                                    
                                    <apex:actionFunction action="{!getJobSearchDetails}" name="callContrlCancelSort" reRender="test1" status="actionStatusCancelSorting">
                                       <apex:param name="param19" value="" id="y19" assignTo="{!selectedSortCancelOption}" />
                                    </apex:actionFunction>                                                                      
    
    
                                  <apex:outputPanel id="listRefresh"> 
                                    
                                    <div class="filter_section">
                                        <h4>Job List
                                        <!--  
                                        <span><img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/Subtract.png')}" class="addlicon" alt="number"/></span>
                                        -->
                                        <div class="minusclass commonall" data-id="capjobportfolio-joblist-id">                                        
                                        </div>
                                        </h4>
                                    </div>
                                    <div class="capjobportfolio-joblist-id" style="overflow-x:scroll">
                                    <apex:pageBlock id="test">
                                          <apex:pageBlockSection title="Job List"  columns="1" collapsible="true">                                                                                    
                                          <div style="margin:10px;background: #f1f1f1;">
                                          <apex:outputPanel rendered="{!if(activeJobsToShow.size>0,true,false)}">
                                            <apex:outputLabel value="Sort By"></apex:outputLabel>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                                           <apex:selectList value="{!selectedSortJobsOption}" size="1" multiselect="false"  onchange="callFuctionForJobsSort(this.value);">                   
                                                <apex:selectOptions value="{!SortOptions}" />              
                                           </apex:selectList>
                                           <apex:actionStatus id="actionStatusJobsSorting" >
                                                        <apex:facet name="start" >
                                                            <img src="/img/loading.gif" />                    
                                                        </apex:facet>
                                                    </apex:actionStatus>
                                           </apex:outputPanel>
                                           </div>
                                          <apex:pageBlockTable value="{!activeJobsToShow}" var="job"  id="activeJobId">
                                                       <apex:column headerValue="AdManager number">
                                                       <apex:commandLink value="{!job.AM_Job_Detail__r.AdManagerText__c}"  action="{!jobSheetPageTransfer}"  target="_blank">
                                                       <apex:param name="chosenId" value="{!job.AM_Job_Detail__r.id}" assignTo="{!chosenId}"/>  
                                                       </apex:commandLink>
                                                       </apex:column>
                                                       <apex:column headerValue="Date logged">
                                                       <apex:outputText value="{0,date,MM/dd/yy}"><apex:param value="{!job.AM_Job_Detail__r.CreatedDate}" /></apex:outputText>
                                                       </apex:column> 
                                                       <apex:column value="{!left(job.AM_Job_Detail__r.Stage_of_Production_Activity__c,10)}..." headerValue="Stage"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Unilever_Project_Leader_Email__c}" headerValue="Project leader email"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Project_Leader_Country__c}" headerValue="Location of project leader(country)"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.ProductCategory__c}" headerValue="Category"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Brand_Position__c}" headerValue="Brand positioning"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Brand_Final__c}" headerValue="Brand name"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Project_Details__c}" headerValue="Project name"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Lead_Creative_Agency_name__c}" headerValue="Lead agency name"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Allocated_Budget_euro__c}" headerValue="Allocated budget(euro)"/>
                                                       <apex:column value="{!job.User__c}" headerValue="RAP allocated"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Brodcast_Market__c}" headerValue="Broadcast market"/>
                                                       <apex:column value="{!job.AM_Job_Detail__r.Production_Activity_Type__c}" headerValue="Production activity type"/>
                                                       <apex:column value="{!job.Job_Allocated_Image__c}" headerValue="Allocated"/>
                                                       <apex:column value="{!job.Job_Status_Image__c}" headerValue="Accepted and email sent"/>
                                                       <!--<apex:column value="{!job.Reported_Image__c}" headerValue="Reported"/>
                                                       <apex:column value="{!job.Started_Image__c}" headerValue="Started"/>
                                                       <apex:column value="{!job.Job_Shared__c}" headerValue="Shared"/>-->
                                                       
                                                       
                                           </apex:pageBlockTable>
                                           <div class="no-data" style="display:{!if(activeJobsToShow.size=0 , '', 'none')}" >
                                                    There is no data to display
                                           </div>
                                       <!--    <apex:outputPanel rendered="{!showPageButtonForActive}" styleClass="pagination">-->
                                              <apex:outputPanel styleClass="pagination">
                                                        <apex:actionStatus id="actStatusId3" >
                                                            <apex:facet name="start" >
                                                              <img src="/img/loading.gif" />                    
                                                            </apex:facet>
                                                        </apex:actionStatus>
                                                      <apex:commandButton value="<<" action="{!beginningForActiveJobs}" status="actStatusId3" disabled="{!DisablePreviousForActiveJobs}"  reRender="test"/>
                                                      <apex:commandButton value="<" action="{!previousForActiveJobs}" status="actStatusId3" disabled="{!DisablePreviousForActiveJobs}" reRender="test"/>
                                                      <apex:commandButton value=">" action="{!nextForActiveJobs}" status="actStatusId3" disabled="{!DisableNextForActiveJobs}" reRender="test"/>
                                                      <apex:commandButton value=">>" action="{!lastForActiveJobs}" status="actStatusId3" disabled="{!DisableNextForActiveJobs}" reRender="test"/>
                                            </apex:outputPanel>
                                           <!-- <apex:actionStatus id="actStatusId3" >
                                                            <apex:facet name="start" >
                                                              <img src="/img/loading.gif" />                    
                                                            </apex:facet>
                                                        </apex:actionStatus>  -->
                                            
                                            
                                           </apex:pageBlockSection>
                                           </apex:pageBlock>
                                           
                                 </div>
                            <div class="filter_section">
                                 <h4>Cancelled Jobs
                                    <!--  <span><img src="{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/Subtract.png')}" class="addlicon" alt="number"/></span>
                                    -->
                                    <div class="minusclass commonall" data-id="capjobportfolio-jobcancelledlist-id">                                        
                                    </div>
                                    </h4>
                             </div> 
                             
                             <div class="capjobportfolio-jobcancelledlist-id" style="overflow-x:scroll">  
                                           <apex:pageBlock id="test1">
                                          <apex:pageBlockSection title="Cancellation List"  columns="1" collapsible="true">                                                                                     
                                          
                                          <apex:outputPanel rendered="{!if(cancelJobsToShow.size>0,true,false)}">
                                            <apex:outputLabel value="Sort By"></apex:outputLabel>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                           <apex:selectList value="{!selectedSortCancelOption}" size="1" multiselect="false"  onchange="callFuctionForCancelSort(this.value);">                   
                                                <apex:selectOptions value="{!SortOptions}" />              
                                           </apex:selectList>
                                           <apex:actionStatus id="actionStatusCancelSorting" >
                                                        <apex:facet name="start" >
                                                            <img src="/img/loading.gif" />                    
                                                        </apex:facet>
                                                    </apex:actionStatus>
                                           </apex:outputPanel>
                                            <apex:pageBlock >
                                          <apex:pageBlockTable value="{!cancelJobsToShow}" var="job" Id="TheTable1123" >
                                                       <apex:column width="10" >
                                                           <apex:facet name="header">
                                                               <apex:inputCheckbox id="selectAllChecks" value="{!job.SelectBox}" onclick="checkAll(this,'eachrow')" />                          
                                                           </apex:facet>
                                                           <apex:inputcheckbox value="{!job.SelectBox}" id="eachrow"  />               
                                                       </apex:column>
                                                       
                                                       <apex:column headerValue="AdManager number">
                                                       <apex:commandLink value="{!job.sObjRec.AM_Job_Detail__r.AdManagerText__c}"   action="{!jobSheetPageTransfer}"  target="_blank">
                                                       <apex:param name="chosenId" value="{!job.sObjRec.AM_Job_Detail__r.id}" assignTo="{!chosenId}"/>  
                                                       </apex:commandLink>
                                                       </apex:column>
                                                       <apex:column headerValue="Date logged">
                                                       <apex:outputText value="{0,date,MM/dd/yy}"><apex:param value="{!job.sObjRec.AM_Job_Detail__r.CreatedDate}" /></apex:outputText>
                                                       </apex:column> 
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Stage_of_Production_Activity__c}" headerValue="Stage of production activity"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Unilever_Project_Leader_Email__c}" headerValue="Project leader email"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Project_Leader_Country__c}" headerValue="Location of project leader(country)"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.ProductCategory__c}" headerValue="Category"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Brand_Position__c}" headerValue="Brand positioning"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Brand_Final__c}" headerValue="Brand name"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Project_Details__c}" headerValue="Project name"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Lead_Creative_Agency_name__c}" headerValue="Lead agency name"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Allocated_Budget_euro__c}" headerValue="Allocated budget(euro)"/>
                                                       <apex:column value="{!job.sObjRec.User__c}" headerValue="RAP allocated"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Brodcast_Market__c}" headerValue="Broadcast market"/>
                                                       <apex:column value="{!job.sObjRec.AM_Job_Detail__r.Production_Activity_Type__c}" headerValue="Production activity type"/>
                                                       <apex:column value="{!job.sObjRec.Job_Allocated_Image__c}" headerValue="Allocated"/>
                                                       <apex:column value="{!job.sObjRec.Job_Status_Image__c}" headerValue="Accepted and email sent"/>
                                                     <!--  <apex:column value="{!job.sObjRec.Reported_Image__c}" headerValue="Reported"/>
                                                       <apex:column value="{!job.sObjRec.Started_Image__c}" headerValue="Started"/>
                                                       <apex:column value="{!job.sObjRec.Job_Shared__c}" headerValue="Shared"/>-->
                                                       
                                                       
                                           </apex:pageBlockTable>
                                           
                                           <div class="no-data" style="display:{!if(WrapperList.size=0 , '', 'none')}" >
                                                    There is no data to display
                                           </div>
                                           
                                               <apex:pageBlockButtons >
                                                     <apex:commandButton value="Uncancel"  action="{!changwrapperClasseStatus}"  styleClass="pagination" rendered="{!IF(WrapperList.size>0,true,false)}"/>
                                              </apex:pageBlockButtons>
                                           </apex:pageBlock>

                                        <!--   <apex:outputPanel rendered="{!showPageButtonForCancel}" styleClass="pagination">-->
                                        <apex:outputPanel styleClass="pagination">
                                                        <apex:actionStatus id="actStatusId4" >
                                                            <apex:facet name="start" >
                                                              <img src="/img/loading.gif" />                    
                                                            </apex:facet>
                                                        </apex:actionStatus>
                                                      <apex:commandButton value="<<" action="{!beginningForCancelJobs}" disabled="{!DisablePreviousForCancelJobs}"  reRender="test1" status="actStatusId4"/>
                                                      <apex:commandButton value="<" action="{!previousForCancelJobs}" disabled="{!DisablePreviousForCancelJobs}" reRender="test1" status="actStatusId4"/>
                                                      <apex:commandButton value=">" action="{!nextForCancelJobs}" disabled="{!DisableNextForCancelJobs}" reRender="test1" status="actStatusId4"/>
                                                      <apex:commandButton value=">>" action="{!lastForCancelJobs}" disabled="{!DisableNextForCancelJobs}" reRender="test1" status="actStatusId4"/>
                                            </apex:outputPanel>
                                          
                                           </apex:pageBlockSection>
                                           
                                           </apex:pageBlock>
                                </div>
                                
                                          </apex:outputPanel> 
                                </div>
                               
                                <div class="clear"></div>                               
                                <div style="margin-top:30px;">
                                    &nbsp;
                                </div>                                
                            </div>
                        </div>
                    </div>
                </div>
            </apex:form>
        </div>
        
         <script>
   $j(function(){
   //alert('hello');
       var stringArray = JSON.parse('{!MethodToPassProjectNames}');
      // alert(stringArray );
                    for(var i=0;i<stringArray.length;i++){
                    console.log(stringArray);
                         var newOption = $j('<option value="'+stringArray[i]+'">'+stringArray[i]+'</option>');
                         $j('#projectList').append(newOption);
                    }
                   console.log('options'+newOption );
   });
                    
                    
   function redirectToScheduler() {
   
    window.location.href= 'apex/Amr_AdManager';
   }                 
                    
    function checkAll(cb,cbid){
            var inputElem = document.getElementsByTagName("input");                    
            for(var i=0; i<inputElem.length; i++){            
                 if(inputElem[i].id.indexOf(cbid)!=-1){                                       
                    inputElem[i].checked = cb.checked;
                 }
            }
    }                      
 </script>
        
    </body>
</apex:page>