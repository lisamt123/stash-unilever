<apex:page controller="PACV_ShowPopUp_CC" id="wpage">  

<script type="text/javascript">
var templatenameid;
function openTemplatePopUp(field){

    var anchortagid=field.id;
    var rowindex=anchortagid.substring(9,10);
    templatenameid='wpage:form1:pgb1:pgbks1:pgbsi1:pgbt1:'+rowindex+':Template';
    //alert('--anchortagid:'+anchortagid+';--templatenameid:'+templatenameid);
    
    if (field != null) {
    alert("hi");
        field.href = "JavaScript:openLookup('/_ui/common/data/LookupPage?lkfm=editPage&lknm='+templatenameid+'&lkrf=&epf=1&lktp=00X',670,'1','&lksrch=' + escapeUTF(getElementByIdCS(templatenameid).value.substring(0, 80)))";
    }
}
</script>     

   <apex:form >
<apex:pageBlock >
<apex:commandButton value="show popup" action="{!showPopup}" rerender="popup" status="status"/>


  
             <apex:outputPanel id="popup">

                <apex:outputPanel id="popInnerOutputPnl" styleClass="customPopup" layout="block" rendered="{!displayPopUp}">
                     <apex:commandButton value="X" title="Close the popup" action="{!closePopup}" styleClass="closeButton" rerender="popup">
                     </apex:commandButton>                     
               
                         <apex:outputPanel style="Outputpanel">
                          <table width="130%">
                          <tr>
                          <td><apex:outputLabel value="Internal User" styleClass="popupfontstyling"></apex:outputLabel></td>                             
                                <td>
                                   <div> 
                                   <apex:inputhidden id="Template_lkid" />                 
                                   <apex:inputhidden id="Template_lkold" /> 
                                   <span class="lookupInput"> 
                                   <apex:inputText onchange="getElementByIdCS('wpage:form1:pgb1:pgbks1:pgbsi1:pgbt1:Template_lkid').value=''; " id="Template"/>                   
                                   <a title="Email Template Lookup (New Window)" tabindex="4" onclick="setLastMousePosition(event),openTemplatePopUp(this)" >
                                   <img title="Email Template Lookup (New Window)" onmouseover="this.className = 'lookupIconOn';this.className = 'lookupIconOn';" onmouseout="this.className = 'lookupIcon';this.className = 'lookupIcon';" onfocus="this.className = 'lookupIconOn';" onblur="this.className = 'lookupIcon';" class="lookupIcon" alt="Email Template Lookup (New Window)" src="/s.gif" />
                                   </a>
                                   </span>
                                   </div>                                  
                                </td>
                          </tr>  
                          <tr>
                          <td><apex:outputLabel value="External User" styleClass="popupfontstyling"></apex:outputLabel></td>
                          <td><apex:inputText label="Email" id="SendEmail" value="{!ExtUserEmail}" /></td>
                          </tr>  
                          <tr>
                          <td><apex:outputText ></apex:outputText></td>
                          <td><apex:commandButton value="Send Email" action="{!redirectPopup}" styleClass="SendButton" rerender="popup"></apex:commandButton></td>
                          </tr> 
                          </table>
                          </apex:outputpanel>
                           
       
                     
                </apex:outputPanel>
            </apex:outputPanel>
          
            </apex:pageBlock>
            
              </apex:form>
              
<style type="text/css">

.popupfontstyling{
font-weight: bold;
}

.Outputpanel{
width: 300%;
}

.customPopup {
    background-color: white;
    border-style: solid;
    border-width: 2px;
    left: 30%;
    padding: 10px;
    position: absolute;
    z-index: 9999;
    /* These are the 3 css properties you will need to tweak so the pop 
                            up displays in the center of the screen. First set the width. Then set 
                            margin-left to negative half of what the width is. You can also add 
                            the height property for a fixed size pop up.*/
    width: 400px;
    top:100%;
}

.disabledTextBox {
    background-color: white;
    border: 1px solid;
    color: black;
    cursor: default;
    width: 90px;
    display: table;
    padding: 2px 1px;
    text-align:right;
}   

.closeButton {
    float: right;
    width: 10%;
}

.SendButton {
    float: left;
    width: 50%;
}

.ButtonStyling{
        color:black !important;
        background:#8eb4e3  !important;
        border: 1px solid #8eb4e3  !important;
        font-size: 15px  !important;
        padding: 8px 50px 8px 50px  !important;
        margin-top: 20px  !important;
    }
</style>


</apex:page>