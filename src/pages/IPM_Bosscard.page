<!--  
*************************************************************************
*@Description:User can create new bosscard and need to fill mandatory fields. 
              User can approve,reject and discard the bosscard.
*@Author: Cognizant
*@Created Date: 12/03/2015 
*@Copyright ? 2015  Unilever  
*************************************************************************
-->
<apex:page standardController="IPM_Bosscard__c" extensions="IPM_BosscardController,IPM_GetHelpDoc" sidebar="false" standardStylesheets="false"  docType="html-5.0" id="IPM_Bosscard">      
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_Header-new.css')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.IPM_Resource, 'css/IPM_Bosscard.css')}"/>   
    <apex:composition template="IPM_TemplateRevamp"> 
        <apex:define name="body">
            <div class="customFloatedMsg">
                <apex:outputPanel id="showMsg" layout="block">           
                    <apex:outputPanel id="floatedSaveMsg" layout="block" styleClass="floatedMsg" >
                        <apex:pageMessages id="pgmsg" />             
                    </apex:outputPanel>
                </apex:outputPanel> 
            </div>     
            <div class="gradientbg">
                <div class="row">                   
                    <div class="ipmProjectDetails">
                        <div class="panel">
                            <div class="panel-body">
                                <div class="col-sm-5 noPadleft">    
                                    <apex:outputPanel id="bossHeader">
                                        <div class="col-sm-12 noPadright">                             
                                            <span class="ipmpanel-heading prosetupTop noBorderright dispBlock"><apex:outputText value="{!bosscard.IPM_BosscardName__c}" /></span>
                                        </div>
                                    </apex:outputPanel>
                                </div>    
                                <div class="col-sm-7">                                
                                    <c:IPM_BosscardFunnel isBosscard="{!isBossCSaved}"></c:IPM_BosscardFunnel>
                                </div>
                            </div>                             
                        </div>
                    </div>
                </div>
            </div>
            <div class="ipmContent">           
                <apex:form id="frm">
                    <apex:actionPoller action="{!hideSaveMsg}" reRender="floatedSaveMsg" interval="5" />
                    <!--to hide the message-->
                    
                    <apex:actionStatus startText="" id="Loading" startStyleClass="proInit"/>
                    <apex:actionFunction name="removeAppr" action="{!removeApprover}" reRender="deltappr"/>
                    <apex:actionFunction name="deleteBossImage" action="{!removeBosscardLogo}" reRender="deltImg"/>
                                           
                    <div class="row">
                        <div class="col-sm-12 noPadleft noPadright">
                            <div class="panel-group pageHeadToolbar clearfix">
                                <div class="row">
                                    <div class="bosscardtitleContainer pull-left">
                                        <span class="pageTitle">
                                           {!$Label.IPM_BOSSCARD}
                                        </span>
                                        <div class="SecFillProgress">
                                            <apex:outputPanel id="fill">
                                                <div class="fillProgress">
                                                    <apex:outputField value="{!bosscard.IPM_Filled_In_Percent__c}"/><span class="bossFilled">{!$Label.IPM_Percent}</span>
                                                </div>
                                                <div class="fillProgressTxt">{!$Label.IPM_FILLED_IN}</div>
                                            </apex:outputPanel>
                                        </div>  
                                        <!-- Below render condition is used to skip bosscard -->
                                        <apex:outputPanel rendered="{!isSkipBosscard}">
                                            <div class="skipButton" id="skipbosscard" data-toggle="modal" data-target="#ipmModalSkipBossConfirm" title="Skip Bosscard" data-backdrop="static" data-keyboard="false">
                                                <span class="ipmButton">{!$Label.IPM_BOSSCARD_SKIP}</span>
                                            </div>
                                        </apex:outputPanel>                  
                                    </div>
                                    <div class="bosscardStatusContainer pull-right clearfix">   
                                        <div class="SecButtonSet pull-right"> 
                                                <!-- Below render condition is used to provide download button -->                        
                                            <apex:commandLink action="{!PDFAfterApproved}" styleClass="icoButton download" title="{!$Label.IPM_DOWNLOAD}" rendered="{!!isBosscardEdit}">
                                                <apex:param name="exportpdf" assignTo="{!exportPDFBooln}" value="true"/>
                                            </apex:commandLink>
                                             <!-- Below render condition is used to provide download button -->   
                                            <apex:commandLink action="{!PDFAfterApproved}" styleClass="icoButton download" title="{!$Label.IPM_DOWNLOAD}" rendered="{!isBosscardEdit}"/>
                                            
                                            <!-- To place the help symbol in the top right hand corner of page -->
                                            <apex:outputLink value="{!URL}" id="theLink" styleClass="icoButton question" target="_blank" title="{!$Label.IPM_Help}">?</apex:outputLink>
                                        
                                        </div> 
                                        <apex:outputPanel id="updateModal">
                                            <apex:outputPanel >
                                                <div class="SecStatusUpdate pull-right updateBox" value="{!$Page.IPM_BosscardStatus}?id={!bosscard.Id}&goto={!gotopage}" >
                                                    <!-- Below render condition is used to provide change status button -->   
                                                    <apex:commandLink value="{!$Label.IPM_Change_Status}" onComplete="checkValidation();" styleClass="ipmButton orangebg" action="{!save}" reRender="validscript,companyMand,CateMand,pgmsg,nameMsg,specialchar,fill,modalpop,bossHeader" rendered="{!!isBosscardEdit}">
                                                        <apex:param assignTo="{!isNoSuccessMsg}" value="{!defaultTrue}" name="skipsuccessmsg"/>   
                                                    </apex:commandLink>
                                                </div>
                                            </apex:outputPanel>
                                        </apex:outputPanel>
                                        <div class="SecCurrentStatus pull-right">
                                            {!$Label.IPM_CURENT_BOSSCARD_STATUS}
                                            <span class="{!changeBossStatusCCS}">
                                                <apex:outputField value="{!bosscard.IPM_Bosscard_Status__c}"/>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bosscardErrMsg">
                        <apex:outputPanel id="nameMsg">
                         <!-- Below render condition is used to provide below output text -->   
                            <apex:outputText value="{!$Label.IPM_MANDATORY_BOSSCARD_NAME}" rendered="{!isNameMandatory}" styleClass="redAlerticon ErrMsg"/>
                            
                        </apex:outputPanel>
                    </div>
                    <div class="col-sm-12 noPadright bosscardMtop">
                        <div class="col-sm-5 pull-right noPadright txtAlignright">
                        <!-- Below render condition is used to execute code if we don't have bosscard edit access  -->
                            <apex:outputPanel rendered="{!!isBosscardEdit}">
                                <apex:commandLink action="{!cancelBosscard}" value="{!$Label.IPM_CANCEL}" styleClass="ipmButton bosscardmright"/>
                                <apex:commandLink action="{!save}" value="{!$Label.IPM_SAVE}" styleClass="ipmButton primary saveBosscard" reRender="companyMand,CateMand,specialchar,pgmsg,nameMsg,fill,showMsg,bossHeader,modalpop" onComplete="checksavedone();">
                                    <apex:param name="IsSave" assignTo="{!bosscard.IPM_IsSaved__c}" value="{!isBossCSaved}"/>
                                </apex:commandLink>
                            </apex:outputPanel>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="col-sm-2 noPadleft noPadright">
                                <div class="panel">
                                    <div class="panel-body custBossPadding">
                                        
                                        <apex:actionFunction name="callsave" reRender="validscript,companyMand,CateMand,pgmsg,nameMsg,specialchar,fill,modalpop,bossHeader,isID" action="{!save}" onComplete="upldImage();" >
                                            <apex:param assignTo="{!isNoSuccessMsg}" value="{!defaultTrue}" name="skipsuccessmsgUploadImg"/>   
                                        </apex:actionFunction>
                                          
                                        <apex:outputPanel id="imgpn">
                                            
                                            <apex:outputPanel id="isID" >
                                            <!-- Below render condition is used to execute code if we have bosscard edit access  -->
                                                <apex:outputPanel rendered="{!isBosscardEdit}">                                                      
                                                    <div>
                                                    <!-- Below render condition is used to provide image -->
                                                        <apex:image styleClass="ipmImage custUploadImage" value="{!URLFOR($Resource.IPM_Resource, 'images/upload_placeholder.png')}" rendered="{!isClickToUpload}" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}"/>
                                                        <!-- Below render condition is used to provide below output field -->
                                                        <apex:outputfield value="{!bosscard.IPM_Bosscard_Logo__c}" rendered="{!!isClickToUpload}"/>                                                    
                                                    </div>
                                                </apex:outputPanel>
                                                <apex:outputPanel id="deltImg">
                                                <!-- Below render condition is used to execute code if we don't have bosscard edit access  -->
                                                    <apex:outputPanel rendered="{!!isBosscardEdit}"> 
                                                        <div value="{!$Page.IPM_ImageUpload}?id={!BossCUrl_ID}&isProject=false" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}" class="uploadImage upImageContainer" data-target="#ipmModal" >
                                                           <!-- Below render condition is used to provide image -->
                                                            <apex:image styleClass="ipmImage" value="{!URLFOR($Resource.IPM_Resource, 'images/pro_placeholder.png')}" rendered="{!isClickToUpload}" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}"/>
                                                              <!-- Below render condition is used to provide below output field -->
                                                            <apex:outputfield value="{!bosscard.IPM_Bosscard_Logo__c}" rendered="{!!isClickToUpload}"/>                                                   
                                                            
                                                        </div>
                                                          <!-- Below render condition is used to execute code if we don't click on upload image button -->
                                                        <apex:outputPanel layout="block" rendered="{!!isClickToUpload}">
                                                            <div class="imgHoverContainer">
                                                                <div class="imgHbuttonContainer">
                                                                   <span value="{!$Page.IPM_ImageUpload}?id={!BossCUrl_ID}&isProject=false" title="{!$Label.IPM_CLICK_TO_UPLOAD_IMAGE}" class="uploadImage" data-target="#ipmModal" >
                                                                       <!-- Below render condition is used to provide update button-->
                                                                       <apex:commandLink value="{!$Label.IPM_Update}" styleClass="imgUpdateButton" action="{!save}" reRender="none" rendered="{!!isClickToUpload}">
                                                                           <apex:param assignTo="{!isNoSuccessMsg}" value="{!defaultTrue}" name="skipsuccessmsgUpdateImg"/>        
                                                                       </apex:commandLink>
                                                                   </span>
                                                                   <span class="imgDelButton" data-target="#deleteImgPop" data-toggle="modal" data-keyboard="false" data-backdrop="static">Delete</span>
                                                                </div>
                                                            </div>
                                                        </apex:outputPanel>
                                                    </apex:outputPanel> 
                                                </apex:outputPanel>
                                            </apex:outputPanel> 
                                        </apex:outputPanel>                                      
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-10">
                                <div class="col-sm-11 noPadleft">
                                    <div class="inputField oneCol">
                                        <div class="required BosscardNameInputBoxDiv">
                                            <apex:outputLabel value="{!$Label.IPM_BOSSCARD_NAME}" styleClass="bsFieldLabel" />
                                            <span class="mandatorycolor">{!$Label.IPM_Bosscard_Mandatory}</span>
                                            <apex:inputText value="{!bosscard.IPM_BosscardName__c}" id="proname"  styleClass="brandautocomplete BosscardNameInputBox" onblur="hideSuggetion();" onkeyup="var u=this.value.toUpperCase();if(this.value!=u){this.value=u;};dupBosscard();"  maxlength="{!bossMaxLength}" disabled="{!isBosscardEdit}">
                                            </apex:inputText>
                                        </div> 
                                        <apex:actionfunction name="dupBosscard" action="{!searchDuplicateBosscard}" rerender="refreshBosscardName"/>
                                        <apex:actionfunction name="hideSuggetion" action="{!hideBosscardSuggetion}" rerender="refreshBosscardName"/>
                                        
                                        <apex:outputpanel id="refreshBosscardName" >
                                        <!-- Below render condition is used to execute code if bosscard name is not blank -->
                                            <apex:outputpanel layout="block" styleClass="autoContainer" rendered="{!!isBosscardNameBlank}">
                                                <apex:repeat value="{!listofprojectname}" var="proList">          
                                                    <apex:outputLabel styleClass="bcAuto" value="{!proList.IPM_BosscardName__c}"/>         
                                                </apex:repeat> 
                                            </apex:outputpanel> 
                                        </apex:outputpanel>
                                        
                                        <apex:outputPanel id="specialchar">
                                        <!-- Below render condition is used to provide below output text -->
                                            <apex:outputText value="{!$Label.IPM_BOSSCARD_DO_NOT_SPECIALCHAR}" rendered="{!isContainSpecialChars}" styleclass="fieldErrmsg"/>
                                           <!-- Below render condition is used to provide below output text -->
                                            <apex:outputText value="{!$Label.IPM_BOSSCARD_Name_Exists}" rendered="{!isDuplicateBoss}" styleclass="fieldErrmsg"/>
                                            <span class="hiddenBossname" data-target="{!isDuplicateBoss}"></span>
                                        </apex:outputPanel>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                           
                                            <div class="inputField">
                                                <apex:outputLabel value="{!$Label.IPM_COMPANY_CARD}" styleClass="bsFieldLabel" />
                                                <span class="mandatorycolor">{!$Label.IPM_Bosscard_Mandatory}</span>
                                                 <span class="SecButtonSet infoMarTop">
                                                 <a class="icoButton info smalllinfo" title="{!$Label.IPM_THIS_WILL_DESCRIBE}"></a>
                                             </span>
                                                <label class="ipmSelect">
                                                    <apex:selectList size="1" value="{!selectedCompany}" styleClass="compC" onchange="CCchange(this.value)" disabled="{!isBosscardEdit}" >
                                                        <apex:selectOptions value="{!Allcompanycard}"/>
                                                        <apex:actionFunction name="CCchange" action="{!searchprojectpahse}" oncomplete="refreshBPos();" reRender="cat,pos" status="refreshCat">
                                                            <apex:param name="Cname" assignTo="{!selectedCompany}" value=""/>
                                                        </apex:actionFunction>
                                                        <apex:actionFunction name="refreshBPos" action="{!getBrandposition}" reRender="pos"/>
                                                    </apex:selectList>
                                                </label>
                                                
                                                 <apex:outputPanel id="companyMand">
                                                 <!-- Below render condition is used to provide below output text -->
                                                   <apex:outputText value="{!$Label.IPM_Company_Card_Mandatory}" rendered="{!company_Booln}" styleclass="fieldErrmsg"/>
                                                 </apex:outputPanel>
                                            </div>
                                            
                                            <div class="inputField">
                                                <apex:outputLabel value="{!$Label.IPM_BRAND_POSITIONING}" styleClass="bsFieldLabel" />                                                
                                                <label class="ipmSelect">
                                                    <apex:actionStatus startText="" id="refreshPos" startStyleClass="proInit"/>
                                                    <apex:actionRegion >
                                                            <apex:selectList value="{!selBrandPos}" multiselect="false" size="1" id="pos" disabled="{!isBosscardEdit}" >
                                                                <apex:selectOptions value="{!brandPos}"></apex:selectOptions>
                                                            </apex:selectList>
                                                    </apex:actionRegion>
                                                </label>
                                                
                                            </div>
                                             
                                            <div class="inputField">
                                                <apex:outputLabel value="{!$Label.IPM_TARGET_LAUNCH_PERIOD}" styleClass="bsFieldLabel" />                                               
                                                <span class="SecButtonSet infoMarTop">
                                                 <a class="icoButton info smalllinfo" title="{!$Label.IPM_YOUR_ESTIMATE}"></a>
                                             </span>
                                                <apex:inputText value="{!expectedTLD}" id="pos1" styleClass="quarterForward calendar" disabled="{!isBosscardEdit}" />
                                                <span class="fieldnote"><span class="">{!$Label.IPM_Bosscard_Mandatory}</span> {!$Label.IPM_MARKED_FIELDS_MANDATORY}</span>
                                            </div>
                                        </div>
                                        
                                        <div class="col-sm-6 rightColumn">
                                            <div class="inputField">
                                                <apex:outputLabel value="{!$Label.IPM_CATEGORY}" styleClass="bsFieldLabel" />                                                
                                                <span class="mandatorycolor">{!$Label.IPM_Bosscard_Mandatory}</span>
                                                <label class="ipmSelect">
                                                    <apex:actionStatus startText="" id="refreshCat" startStyleClass="proInit"/>
                                                    <apex:selectList value="{!selCat }" multiselect="false" size="1" styleClass="cateG" id="cat" onChange="BrandP(this.value)"  disabled="{!isBosscardEdit}" >
                                                        <apex:selectOptions value="{!Category}"></apex:selectOptions>
                                                    </apex:selectList>
                                                    <apex:actionFunction name="BrandP" action="{!getBrandposition}" reRender="pos" status="refreshPos">
                                                        <apex:param name="BrandPo" assignTo="{!selCat }" value=""/>
                                                    </apex:actionFunction>
                                                </label>
                                                <apex:outputPanel id="CateMand">
                                                <!-- Below render condition is used to provide below output text -->
                                                   <apex:outputText value="{!$Label.IPM_Category_Mandatory}" rendered="{!category_Booln}" styleclass="fieldErrmsg"/>
                                                 </apex:outputPanel>
                                            </div>                                     
                                            <div class="inputField">
                                                <apex:outputLabel value="{!$Label.IPM_APPROVER}" styleClass="bsFieldLabel" />
                                                <span class="SecButtonSet infoMarTop">
                                                 <a class="icoButton info smalllinfo" title="{!$Label.IPM_SELECT_THE_APPROVER}"></a>
                                             </span>
                                                <apex:outputPanel styleClass="approvContainer" id="deltappr">  
                                                    <apex:outputPanel styleClass="selectContainer" html-value="{!$Page.IPM_ApproverList}?Id={!bosscard.id}" html-data-target="#editApprover" layout="block" rendered="{!isAddApprover}">
                                                        <!-- Below render condition is used to provide select approver label -->
                                                        <apex:outputpanel rendered="{!if(bosscard.IPM_Bosscard_Status__c='In Progress',true,false)}">
                                                            <span class="selectAppr" onclick="saveboss();" >{!$Label.IPM_Select_Approver}</span>
                                                        </apex:outputPanel>  
                                                    </apex:outputPanel>                                                                                        
                                                    <apex:actionfunction name="saveboss" action="{!save}" reRender="validscript,companyMand,CateMand,pgmsg,nameMsg,specialchar,fill,modalpop,bossHeader" onComplete="slctApprover();">
                                                        <apex:param assignTo="{!isNoSuccessMsg}" value="{!defaultTrue}" name="skipsuccessmsgApprover"/>   
                                                    </apex:actionFunction>
                                                    <!-- Below render is used to execute code if isAddApprover is false -->
                                                    <apex:outputPanel styleClass="apprSelectContainer pull-left" layout="block" rendered="{!!isAddApprover}">
                                                        <div class="apprImageContainer pull-left">
                                                            <apex:image styleClass="circular apprImage pull-left" url="{!bosscard.IPM_Gate_Keeper__r.smallphotourl}"/>
                                                        </div>
                                                        <span class="apprName">{!bosscard.IPM_Gate_Keeper__r.name}</span> 
                                                        <!-- Below render is used to execute code if we don't have bosscard edit access -->
                                                       <apex:outputpanel rendered="{!!isBosscardEdit}">
                                                        <div class="SecButtonSet editApprover pull-left" data-target="#removeApprover" data-toggle="modal" data-keyboard="false" data-backdrop="static">
                                                            <a class="icoButton delete02 deleteTeamMember"></a>    
                                                        </div>
                                                       </apex:outputpanel>
                                                        
                                                    </apex:outputPanel>       
                                                </apex:outputPanel>
                                               
                                            </div> 
                                        </div>
                                    </div>
                                </div>        
                                <div class="col-sm-12 noPadleft noPadright">
                                    <div class="col-sm-4 pull-right expandTool noPadright">
                                        <span class="expandAll">{!$Label.IPM_EXPAND_ALL}</span><span class="collapseAll">{!$Label.IPM_COLLAPSE_ALL}</span>
                                    </div>
                                </div> 
                                <div class="col-sm-12 noPadleft noPadright">
                                    <div class="ipmAccordion">
                                        <div class="bcsinglecontainer">   
                                            <span class="pHead">
                                                <span class='expico fa fa-minus'></span>{!$Label.IPM_BACKGROUND}
                                            </span>
                                            <div class="ipmAcrdnExpand">
                                                <div>
                                                
                                                    <span class="bcFielddesc">{!$Label.IPM_FOCUS_ON_STRATEGIC_FIT}</span>
                                                 <!-- Below render condition is used to provide below input field -->
                                                    <apex:inputField value="{!bosscard.IPM_Background__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                   <!-- Below render condition is used to provide below output field -->
                                                    <apex:outputField value="{!bosscard.IPM_Background__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />
                                                    <span id="lblMessage"></span><span id="lblTotalCharCount"></span>
                                                    <span id="lblWarning"></span>   
                                                                                                                                            
                                                </div>
                                            </div>
                                        </div> 
                                        <div class="bcsinglecontainer">   
                                            <span class="pHead">
                                                <span class='expico fa fa-minus'></span>{!$Label.IPM_OPPORTUNITY}

                                            </span>
                                            <div class="ipmAcrdnExpand">
                                                <div>
                                                    <span class="bcFielddesc"><strong>{!$Label.IPM_CONSUM_NEED}:</strong> {!$Label.IPM_REFERENCE_MARKET_RESEARCH}</span>
                                                    <apex:outputLabel value="{!$ObjectType.IPM_Bosscard__c.fields.IPM_Consumer_Need__c.label}" styleClass="subSectionLabel" />
                                                           <!-- Below render condition is used to provide below input field -->                                       
                                                    <apex:inputField value="{!bosscard.IPM_Consumer_Need__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                    <!-- Below render condition is used to provide below output field -->
                                                    <apex:outputField value="{!bosscard.IPM_Consumer_Need__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />   

                                                    <span class="bcFielddesc"><strong>{!$Label.IPM_POTENTIAL_BUSINESS_OPP}</strong>{!$Label.IPM_SOME_CONSIDERATIONS}</span>
                                                    <apex:outputLabel value="{!$ObjectType.IPM_Bosscard__c.fields.IPM_Potential_Business_Opportunity__c.label}" styleClass="subSectionLabel" />
                                                   <!-- Below render condition is used to provide below input field -->
                                                    <apex:inputField value="{!bosscard.IPM_Potential_Business_Opportunity__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                    <!-- Below render condition is used to provide below output field -->
                                                    <apex:outputField value="{!bosscard.IPM_Potential_Business_Opportunity__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />   
                                                    
                                                </div>
                                            </div>
                                        </div> 
                                        <div class="bcsinglecontainer">   
                                            <span class="pHead">
                                                <span class='expico fa fa-minus'></span>{!$Label.IPM_SCOPE}
                                            </span>
                                            <div class="ipmAcrdnExpand">
                                                <div>
                                                    <span class="bcFielddesc">{!$Label.IPM_IS_IN_AND_OUT_OF_SCOPE}</span>
                                                         <!-- Below render condition is used to provide below input field -->                                              
                                                  <apex:inputField value="{!bosscard.IPM_Scope__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                  <!-- Below render condition is used to provide below output field -->
                                                  <apex:outputField value="{!bosscard.IPM_Scope__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />   
                                                  
                                                </div>
                                            </div>
                                        </div>     
                                        <div class="bcsinglecontainer">   
                                            <span class="pHead">
                                                <span class='expico fa fa-minus'></span>{!$Label.IPM_SUSTAINABILITY}

                                            </span>
                                            <div class="ipmAcrdnExpand">
                                                <div>
                                                    <span class="bcFielddesc">{!$Label.IPM_PROVIDE_PRELIMINARY_VIEW}
                                                    </span>
                                                   <!-- Below render condition is used to provide below input field -->
                                                    <apex:inputField value="{!bosscard.IPM_Sustainibility__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                    <!-- Below render condition is used to provide below output field -->
                                                    <apex:outputField value="{!bosscard.IPM_Sustainibility__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />
                                                    
                                                </div>
                                            </div>
                                        </div>  
                                        <div class="bcsinglecontainer">   
                                            <span class="pHead">
                                                <span class='expico fa fa-minus'></span>{!$Label.IPM_CONSTRAINTS}

                                            </span>
                                            <div class="ipmAcrdnExpand">
                                                <div>
                                                    <span class="bcFielddesc">{!$Label.IPM_WHAT_WE_CANT_CHANGE}</span>
                                                          <!-- Below render condition is used to provide below input field -->                                             
                                                   <apex:inputField value="{!bosscard.IPM_Constraints__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                   <!-- Below render condition is used to provide below output field -->
                                                   <apex:outputField value="{!bosscard.IPM_Constraints__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />

                                                </div>
                                            </div>
                                        </div>
                                        <div class="bcsinglecontainer">   
                                            <span class="pHead">
                                                <span class='expico fa fa-minus'></span>{!$Label.IPM_ASSUMPTIONS}

                                            </span>
                                            <div class="ipmAcrdnExpand">
                                                <div>
                                                    <span class="bcFielddesc">{!$Label.IPM_INITIAL_HUNCHES_AND_HYPOTHESES}
                                                    </span>
                                                     <!-- Below render condition is used to provide below input field -->
                                                    <apex:inputField id="IPM_Assumptions" value="{!bosscard.IPM_Assumptions__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                    <!-- Below render condition is used to provide below output field -->
                                                    <apex:outputField value="{!bosscard.IPM_Assumptions__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="bcsinglecontainer">   
                                            <span class="pHead">
                                                <span class='expico fa fa-minus'></span>{!$Label.IPM_RESOURCES}

                                            </span>
                                            <div class="ipmAcrdnExpand">
                                                <div>
                                                    <span class="bcFielddesc">{!$Label.IPM_HAVE_RESOURCES}
                                                    </span>
                                                       <!-- Below render condition is used to provide below input field -->
                                                    <apex:inputField value="{!bosscard.IPM_Resources__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                    <!-- Below render condition is used to provide below output field -->
                                                    <apex:outputField value="{!bosscard.IPM_Resources__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />

                                                </div>
                                            </div>
                                        </div>
                                        <div class="bcsinglecontainer">   
                                            <span class="pHead">
                                                <span class='expico fa fa-minus'></span>{!$Label.IPM_DELIVERABLES}

                                            </span>
                                            <div class="ipmAcrdnExpand">
                                                <div>
                                                    <span class="bcFielddesc">{!$Label.IPM_TIMING_OF_CHARTER}
                                                    </span>
                                                          <!-- Below render condition is used to provide below input field -->                                    
                                                    <apex:inputField value="{!bosscard.IPM_Deliverables__c}" styleClass="countTarget"  rendered="{!!isBosscardEdit}"  />
                                                    <!-- Below render condition is used to provide below output field -->
                                                    <apex:outputField value="{!bosscard.IPM_Deliverables__c}" styleClass="countTarget"  rendered="{!isBosscardEdit}"  />

                                                </div>
                                            </div>
                                        </div>
                                    </div>                                  
                                </div>
                                <div class="col-sm-12 noPadright">
                                    <div class="col-sm-5 pull-right noPadright txtAlignright">
                                    <!-- Below render condition is used to execute code if we don't have bosscard edit permission -->
                                        <apex:outputPanel rendered="{!!isBosscardEdit}">
                                            <apex:commandLink action="{!cancelBosscard}" value="{!$Label.IPM_CANCEL}" styleClass="ipmButton bosscardmright"/>
                                            <apex:commandLink action="{!save}" value="{!$Label.IPM_SAVE}" styleClass="ipmButton primary" reRender="fill,companyMand,CateMand,pgmsg,nameMsg,floatedSaveMsg,bossHeader,modalpop" onComplete="checksavedone();">
                                                <apex:param name="IsSave" assignTo="{!bosscard.IPM_IsSaved__c}" value="{!isBossCSaved}"/>
                                            </apex:commandLink>
                                        </apex:outputPanel>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </apex:form>
            </div>
            <div id="ipmModalDiv">
                <c:IPM_ModalHeaderDiv />
            </div>
            
            <div id="ipmModalUpdateStaus" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_CHANGE_CURRENT_STATUS}
                            </div>
                        </div>
                        <div class="modal-body">
                        </div>                            
                    </div>
                </div>
            </div>
            <div id="deleteImgPop" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_Delete_Image}</div>
                        </div>
                        <div class="modal-body">
                            <div class="removeapprpopup">
                                <span class="removeApprText">{!$Label.IPM_Image_Removal}</span>
                                <div class="remvButtonContainer pull-right">  
                                    <div class="pull-left buttonMarginRight noPadright">
                                        <input type="button" class="ipmButton" data-dismiss="modal" value="{!$Label.IPM_CANCEL}"/>
                                    </div>
                                    <div class="buttonMarginRight noPadright pull-left" >
                                        <span class="ipmButton primary" data-dismiss="modal" onClick="deleteBossImage();">{!$Label.IPM_Delete}</span>
                                    </div>
                                </div>
                            </div>        
                        </div>
                    </div>
                </div>
            </div>
            <div id="removeApprover" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_Remove_Approver}</div>
                        </div>
                        <div class="modal-body">
                            <div class="removeapprpopup">
                                <span class="removeApprText">{!$Label.IPM_Approver_Text}</span>
                                <div class="remvButtonContainer pull-right">  
                                    <div class="pull-left buttonMarginRight noPadright">
                                        <input type="button" class="ipmButton" data-dismiss="modal" value="{!$Label.IPM_CANCEL}"/>
                                    </div>
                                    <div class="buttonMarginRight noPadright pull-left" >
                                        <input type="button" class="ipmButton primary" value="{!$Label.IPM_Remove}" data-dismiss="modal" onclick="removeAppr();"/>
                                        
                                    </div>
                                </div>
                            </div>        
                        </div>
                    </div>
                </div>
            </div>
            <div id="editApprover" tabindex="-1" data-backdrop-limit="1" class="modal fade">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <div class="modal-title">{!$Label.IPM_Select_Approver}</div>
                        </div>
                        <div class="modal-body">
                                
                        </div>
                    </div>
                </div>
            </div>
            <apex:form >
                <div id="ipmModalSkipBossConfirm" class="modal fade">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                <div class="modal-title">{!$Label.IPM_BOSSCARD_SKIP}</div>
                            </div>
                            
                            <div class="modal-body">
                                <div class="container-fluid">
                                    <div class="row">    
                                        <div class="col-sm-12">
                                            <span class="skipDesc">{!$Label.IPM_ARE_YOU_SURE_TO_SKIP_BOSSCARD}
                                            </span>
                                        </div>
                                        
                                        <div class="skipButtoncontainer txtAlignright pull-right">
                                            <apex:outputPanel id="SkipBossC">
                                                <div class="buttonMarginRight  noPadright fleft" >
                                                    <input type="button" class="ipmButton" value="{!$Label.IPM_SKIP_BOSSCARD_AND_CONTINUE}" onclick="createPro()"/>
                                                </div> 
                                            </apex:outputPanel>
                                            
                                            <div class="fleft noPadright">
                                                <input type="button" class="ipmButton primary" data-dismiss="modal" value="{!$Label.IPM_CANCEL}"/>
                                            </div> 
                                        </div>
                                    </div>  
                                </div>          
                            </div>
                        </div>
                    </div>
                </div> 
            </apex:form>
            
        </apex:define>
    </apex:composition>    
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/jquery-ui.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_functions.js')}" type="text/javascript"></script>
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_Accordion.js')}" type="text/javascript"></script>    
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/jquery.ui.quarterpicker.js')}" type="text/javascript" ></script>                 
     <script>
     var IPMApp = {changeStatus:'{!$Label.IPM_CHANGE_CURRENT_STATUS_OF_THE_BOSSCARD}', bossurl:'{!URLFOR($Page.IPM_Bosscard)}',projecturl:'{!URLFOR($Page.IPM_ProjectSetUpView)}', bosscardId:'{!bosscard.Id}', RemoteAction:'{!$RemoteAction.IPM_BosscardController.DeleteBosscard}', systemMsg:'{!$Label.IPM_System_Admin}'};     
     </script>
     <apex:outputPanel id="modalpop">
        <script>                    
            var jq=jQuery.noConflict();                       
            var apexAccountList = [];
            <apex:repeat value="{!listofprojectname}" var="proList">          
                   
            </apex:repeat> 
            function set() {               
                jq("input.ui-quarterpicker-el").val('{!expectedTLD}').quarterpicker("refresh");
            } 
        function checksavedone(){
            
            if({!isSave}==true){
                window.location.reload(true);
            }
        }                
        </script>
        
    </apex:outputPanel> 
    <script src="{!URLFOR($Resource.IPM_Resource, 'js/IPM_Bosscard.js')}" type="text/javascript" ></script>
</apex:page>