<apex:page controller="IPM_GateDocumentController" action="{!prepareDataForReadOnlyView}" sidebar="false" renderAs="PDF"   standardStylesheets="false" applyHtmlTag="false" showHeader="false" applyBodyTag="false" readOnly="true" extensions="IPM_GetHelpDoc">
    
    <apex:form >
        <apex:outPutpanel rendered="{!IF(OR(projectDoc.IPM_Document_Status__c='Approved',projectDoc.IPM_Document_Status__c='Proposed'), 'false', 'true')}">
            <img alt="Draft" src="{!URLFOR($Resource.IPM_Resource, 'images/draft-wm.png')}" class="waterMark"/>
        </apex:outPutpanel>
        
        <!-- Header Start -->
        <div class="header">
            <div class="secLogo">
                <table>
                    <tr>
                        <td width="10%">
                            <apex:image value="/servlet/servlet.FileDownload?file={!project.IPM_Project_Logo_Id__c}" styleClass="projLogo" rendered="{!project.IPM_Project_Logo__c!=null}" />
                            <apex:image value="{!URLFOR($Resource.IPM_Resource, '/images/upload_img2b.png')}" rendered="{!project.IPM_Project_Logo__c=null}" styleClass="projLogo"/>
                        </td>
                        <td align="center">
                            <div class="pdfTitle"><apex:outputText value="{!project.IPM_Project_Name__c}"/></div>
                        </td>
                        <td align="center">        
                            <apex:outputText value="{!projectDoc.IPM_GateDocuments__c }" styleClass="headSecBlock bold"/>
                            <apex:outputText value="{!project.IPMProject_Span__c }" styleClass="headSecBlock global" rendered="{!project.IPM_Project_Type__c='Original'}"/>
                            <apex:outputText value="{!project.IPMProject_Span__c }" styleClass="headSecBlock operational"  rendered="{!project.IPM_Project_Type__c='Operational'}"/>    
                            <apex:outputText value="{!project.IPMProject_Span__c }" styleClass="headSecBlock local"  rendered="{!project.IPM_Project_Type__c='Rollout'}"/>
                            <apex:outPutpanel rendered="{!IF(OR(projectDoc.IPM_Document_Status__c='Approved',projectDoc.IPM_Document_Status__c='Proposed'), 'true', 'false')}">
                                <div class="headSecBlock bold">{!projectDoc.IPM_Document_Status__c}</div>
                            </apex:outPutpanel> 
                        </td>       
                    </tr>
                </table>
            </div>
            
            <div class="categoryContainer pull-right"> 
                <div class="cTitle pull-right">           
                    <apex:outputText value="{!project.IPM_Category_Text__c}" styleClass="secCategory"/>                               
                </div>  
                <div class="cImage pull-right secCategory">
                    <apex:outputField styleClass="categoryImage"  value="{!project.IPM_Category_Icon__c}" rendered="{!if(ISBLANK(project.IPM_Category_Icon__c),'false','true')}"/>
                </div>                              
            </div>   
            <div class="spacer"></div>  
        </div>
        <!--/ Header End-->
        
        
        
        <!-- Footer Start -->
        <div class="footer">
            <apex:outputText value="{!$Label.IPM_UNILEVER_HIGHLY_CONFIDENTIAL}"></apex:outputText>
        </div>
        <!--/ Footer Start -->
        
        <!-- Content Start -->
        <div id="wrapper"> 
            <apex:outputPanel rendered="{!if(project.IPM_Project_Type__c !='Operational','true','false')}">     
                <div class="dataTableTop"></div>
                <div class="dataTable">
                    <table width="100%" cellpadding="0" cellspacing="0">            
                        <tr>
                            <td class="label" width="15%">
                                {!IF(AND(projectDoc.IPM_GateDocuments__c=='Market Deployment',project.IPM_Project_Type__c !='Operational'),$Label.IPM_Local_Brand,$Label.IPM_BRAND_POSITIONING)}{!$Label.IPM_COLON}
                            </td>      
                            <td width="15%">
                                <apex:outputText value="{!IF(AND(projectDoc.IPM_GateDocuments__c=='Market Deployment',project.IPM_Project_Type__c !='Operational'),project.IPM_LocalProject_Brand__c,brandPosition)}"/> 
                            </td>  
                            
                            <td class="label" width="20%">
                                {!$Label.IPM_Project_Leader}{!$Label.IPM_COLON}
                            </td>      
                            <td width="15%">                    
                                <apex:outputText value="{!project.IPM_Project_Leader__r.Name}"/>
                            </td> 
                            
                            <apex:outputpanel layout="none" rendered="{!if(AND(project.IPM_Project_Type__c!='Original',project.IPMProject_Span__c!='Regional'),true,false)}">
                                <td class="label" width="15%">
                                    {!$Label.IPM_PROJECT_PRIORITY}
                                </td>      
                                <td width="20%">
                                    <!--<apex:outputPanel rendered="{!if(ShowFinanceMember=True, TRUE,False)}">
<apex:outputText value="{!projectResource.IPM_User__r.Name}"/>  
</apex:outputPanel>
<apex:outputPanel rendered="{!if(ShowFinanceMember=False, TRUE,False)}">
<apex:outputText value="{!project.IPM_Project_Leader__r.Name}"/>
</apex:outputPanel>-->
                                    <!--CR0405 New CPP for regional/local rollout-->
                                    <apex:outputText value="{!IF(localCPP != null, localCPP, regionalCPP)}" />  
                                </td>
                            </apex:outputpanel>
                            
                            <apex:outputpanel layout="none" rendered="{!if(AND(project.IPM_Project_Type__c!='Original',project.IPMProject_Span__c=='Regional'),true,false)}">
                                <td width="15%"></td>
                                <td width="20%"></td> 
                            </apex:outputpanel>
                            
                            <apex:outputpanel layout="none" rendered="{!if(AND(project.IPM_Project_Type__c=='Original',!ISBLANK(project.IPM_Cluster__r.name)),true,false)}" >
                                <td class="label" width="15%">      
                                    {!$Label.IPM_Project_Cluster }      
                                </td>
                                <td width="20%">        
                                    {!project.IPM_Cluster__r.name }         
                                </td>
                            </apex:outputpanel>
                            
                            <apex:outputpanel layout="none" rendered="{!if(AND(project.IPM_Project_Type__c=='Original',ISBLANK(project.IPM_Cluster__r.name)),true,false)}">
                                <td width="15%"></td>
                                <td width="20%"></td>
                            </apex:outputpanel>
                        </tr>
                        
                        <tr>     
                            <td class="label">
                                {!$Label.IPM_Strategic_Intent}{!$Label.IPM_COLON}
                            </td>      
                            <td>
                                <apex:outputText value="{!project.IPM_Strategic_Intent__c}"/>
                            </td>
                            
                            <td class="label">
                                {!$Label.IPM_Gatekeeper}{!$Label.IPM_COLON}
                            </td>      
                            <td>                    
                                <apex:outputText value="{!project.IPM_Project_Gatekeeper__r.Name}"/>
                            </td>
                            
                            <td class="label">
                                {!$Label.IPM_BusinessImpact}{!$Label.IPM_COLON}
                            </td> 
                            
                            <apex:outputText rendered="{! if(project.IPMProject_Span__c=='Global','true','false')}">     
                                <td>
                                    <apex:outputText value="{!if(AND(projectDoc.IPM_GateDocuments__c=='Charter', projectDoc.IPM_Document_Status__c=='Approved' ),fin.IPM_Business_Impact_Charter__c,if(AND(projectDoc.IPM_GateDocuments__c=='Contract' , projectDoc.IPM_Document_Status__c=='Approved' ),fin.IPM_Business_Impact_Contract__c,if(AND(projectDoc.IPM_GateDocuments__c=='Market Ready' , projectDoc.IPM_Document_Status__c=='Approved' ),fin.IPM_Business_Impact_MR__c,if(AND(projectDoc.IPM_GateDocuments__c=='Market Deployment' && projectDoc.IPM_Document_Status__c=='Approved'),fin.IPM_Business_Impact_MD__c,globalbusinessImpactStr))))}"/>
                                </td>
                            </apex:outputText>
                            <apex:outputText rendered="{! if(project.IPMProject_Span__c=='Local','true','false')}">     
                                <td>
                                    <apex:outputText value="{!if(AND(projectDoc.IPM_GateDocuments__c=='Charter', projectDoc.IPM_Document_Status__c=='Approved' ),finLocal.IPM_Business_Impact_Charter__c,if(AND(projectDoc.IPM_GateDocuments__c=='Contract' , projectDoc.IPM_Document_Status__c=='Approved' ),finLocal.IPM_Business_Impact_Contract__c,if(AND(projectDoc.IPM_GateDocuments__c=='Market Ready' , projectDoc.IPM_Document_Status__c=='Approved' ),finLocal.IPM_Business_Impact_MR__c,if(AND(projectDoc.IPM_GateDocuments__c=='Market Deployment' && projectDoc.IPM_Document_Status__c=='Approved'),finLocal.IPM_Business_Impact_MD__c,globalbusinessImpactStr))))}"/> 
                                </td>
                            </apex:outputText>
                            <apex:outputText rendered="{! if(project.IPMProject_Span__c=='Regional','true','false')}">     
                                <td>
                                    <apex:outputText value="{!if(AND(projectDoc.IPM_GateDocuments__c=='Charter', projectDoc.IPM_Document_Status__c=='Approved' ),finRegional.IPM_Business_Impact_Charter__c,if(AND(projectDoc.IPM_GateDocuments__c=='Contract' , projectDoc.IPM_Document_Status__c=='Approved' ),finRegional.IPM_Business_Impact_Contract__c,if(AND(projectDoc.IPM_GateDocuments__c=='Market Ready' , projectDoc.IPM_Document_Status__c=='Approved' ),finRegional.IPM_Business_Impact_MR__c,if(AND(projectDoc.IPM_GateDocuments__c=='Market Deployment' && projectDoc.IPM_Document_Status__c=='Approved'),finRegional.IPM_Business_Impact_MD__c,globalbusinessImpactStr))))}"/>
                                </td>
                            </apex:outputText>
                            
                        </tr>
                        
                        <tr>
                            <td class="label">
                                {!$Label.IPM_Market_Place_Activity}{!$Label.IPM_COLON}
                            </td>      
                            <td>                   
                                <apex:outputText value="{!project.IPM_ProjectSubType__c}"/>
                            </td>
                            
                            <td class="label">
                                {!$Label.IPM_PROJECT_ROUTE_COLON}
                            </td>      
                            <td>                    
                                <apex:outputText value="{!project.IPM_Complexity__c}"/>
                            </td>
                            
                        <td class="label textleftalign">
                                <span class="{!if(isRedStylingApplicable,'redtxt','')}" >{!$Label.IPM_Y3_iTO_notation}</span> 
                            </td>
                                <td>
                                    <apex:outputText value="{!year3ITO}" styleClass="{!if(isRedStylingApplicable,'redtxt','')}"/>
                                    <apex:outputText rendered="{!if(project.IPM_Project_Type__c=='Original',true,false)}" styleClass="threshold {!if(isRedStylingApplicable,'redtxt','')}"  value="{!if(projectDoc.IPM_Document_Status__c=='Approved',projectDoc.IPM_Category_Status_while_Approved__c,project.IPM_Threshold_Status__c)}" />
                                    <apex:outputText styleClass="threshold" rendered="{!AND(isExemptFromThresholdITO,project.IPM_Project_Type__c!='Original')}" value="{!$Label.IPM_Exempt_from_Threshold}"/>
                                <apex:outputpanel rendered="{!if(isRedStylingApplicable,true,false)}" >  
                                    <span class="alertimg"></span>  
                                </apex:outputpanel>
                                    
                                </td>
                        </tr>
                        
                        <tr class="lastchild">    
                            <td class="label">
                                {!$Label.IPM_TARGET_LAUNCH_DATE}{!$Label.IPM_COLON}
                            </td>      
                            <td class="tldfontchange">
                                <apex:outputField value="{!project.IPM_Target_Launch_Dates__c}"/>
                            </td>
                            
                            <td class="label">
                                {!$Label.IPM_FIRST_COUNTRY_TO_LAUNCH}
                            </td>      
                            <td>
                                <apex:outputText value="{!if(country.MCO_Name__c=='','N/A',country.MCO_Name__c)}"/>
                            </td>
                            
                            <td class="label">
                                {!$Label.IPM_FAST_TRACK_COLON}
                            </td>      
                            <td>
                                <apex:outputText value="{! IF(project.IPM_Fast_Track_Project__c==true, 'Yes', 'No')}"/>
                                <!--<apex:outputText value="{!project.IPM_CPP__c}"/>-->
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="dataTableBottom"></div>
            </apex:outputPanel>
            
            <apex:outputPanel rendered="{!if(project.IPM_Project_Type__c =='Operational','true','false')}">
                <div class="dataTableTop"></div>
                <div class="dataTable">
                    <table width="100%" cellpadding="0" cellspacing="0">            
                        <tr>
                            <td class="label" width="20%">
                                {!$Label.IPM_TARGET_LAUNCH_DATE}{!$Label.IPM_COLON}
                            </td>      
                            <td class="tldfontchange">
                                <apex:outputField value="{!project.IPM_Target_Launch_Dates__c}"/>
                            </td>
                            
                            <td class="label" >
                                {!$Label.IPM_Project_Leader}{!$Label.IPM_COLON}
                            </td>      
                            <td >                    
                                <apex:outputText value="{!project.IPM_Project_Leader__r.Name}"/>
                            </td> 
                            
                            <td class="label" >
                                {!$Label.IPM_Y3_iTO_notation} 
                            </td>
                            <apex:outputText >
                                <td>
                                    <apex:outputText value="{!year3Ito}"/><apex:outputText styleClass="threshold" rendered="{!isExemptFromThresholdITO}" value="{!$Label.IPM_Exempt_from_Threshold}"/>
                                </td>
                            </apex:outputText>
                        </tr>
                        
                        <tr>     
                            <td class="label" >
                                {!$Label.IPM_Strategic_Intent}{!$Label.IPM_COLON}
                            </td>      
                            <td width="100px">
                                <apex:outputText value="{!project.IPM_Strategic_Intent__c}"/>
                            </td>
                            
                            <td class="label">
                                {!$Label.IPM_Gatekeeper}{!$Label.IPM_COLON}
                            </td>      
                            <td>                    
                                <apex:outputText value="{!project.IPM_Project_Gatekeeper__r.Name}"/>
                            </td>
                            
                            <td class="label">
                                {!$Label.IPM_PROJECT_ROUTE_COLON}
                            </td>      
                            <td>                    
                                <apex:outputText value="{!project.IPM_Complexity__c}"/>
                            </td>
                        </tr>
                        
                        <tr class="lastchild" >    
                            <td class="label" >
                                {!$Label.IPM_Market_Place_Activity}{!$Label.IPM_COLON}
                            </td>      
                            <td >                   
                                <apex:outputText value="{!project.IPM_ProjectSubType__c}"/>
                            </td>  
                            
                            <td class="label" width="20%">
                                {!$Label.IPM_BRAND_POSITIONING}{!$Label.IPM_COLON}
                            </td>      
                            <td colspan="2" >
                                <apex:outputText value="{!brandPosition}"/> 
                            </td>               
                        </tr> 
                    </table>
                </div>
                <div class="dataTableBottom"></div>
            </apex:outputPanel>
            
            <apex:outputPanel layout="none" rendered="{!if(AND(projectDoc.IPM_Document_Status__c='Approved', projectDoc.IPM_GateDocuments__c='Product Design Lock'),true,false)}">
                <apex:outputText value="{!$Label.IPM_COMMENTS_FOR_PDL_GATE_DOC}" styleClass="heading2 bold"/>
                <apex:outputField value="{!projectDoc.IPM_Approved_Comments__c}"  styleClass="bdText" /> 
                
                <div class="row">
                    <div class="col-sm-11 commentPanel">
                        <div class="row clearfix marginbottom">
                            <div class="col-sm-8 innerHead bold">
                                <span class="user">Approved By: </span>
                               <span class="user"> <apex:outputText value="{!projectDoc.IPM_Updated_User_By__r.Name}"/></span>
                                <span class="status-date">On </span>
                                <apex:outputfield value="{!projectDoc.IPM_Approval_Date__c}"/>
                            </div>
                            <div class="col-sm-4 txtRight updateStatus">                                   
                                
                            </div>
                        </div>
                        
                    </div>                    
                </div>
                
            </apex:outputPanel>
            
            
            <div class="getDocs">                     
                <apex:repeat value="{!projDocSectionList}" var="pds">
                    
                    <apex:outputPanel rendered="{!IF(pds.IPM_Section__r.IPM_Section_Type__c='Header',true,false)}"> 
                        <apex:outputText value="{!pds.IPM_Section_Sequence__c} {!pds.IPM_Section_Name__c}" styleClass="heading2 bold"/>
                        
                        <apex:outputText value="(guidance not due until contract)" rendered="{!AND(projectDoc.IPM_GateDocuments__c='Charter',pds.IPM_Section_Name__c='Deployment')}"  styleClass="bdText"> </apex:outputText>
                        
                    </apex:outputPanel>
                    <!-- below panel is rendered when document section sectioType is "sub-header" and default section is true -->
                    <apex:outputPanel rendered="{!IF(AND(pds.IPM_Section__r.IPM_Section_Type__c='Sub Header',pds.IPM_Default_Section__c=true),true,false)}">   
                        <apex:outputText value="{!pds.IPM_Section_Sequence__c} {!pds.IPM_Section_Name__c}"  styleClass="heading3 bold" rendered="{!!pds.IPM_Has_Appendix__c}" /> 
                        
                        <apex:outputField value="{!pds.IPM_Gate_Document_Summary__c}"  styleClass="bdText" />
                    </apex:outputPanel>
                    <!-- below panel is rendered when  -->
                    <!-- 1. SectionType of section associated with project document section is any of the "Text/Checklist/Static Table/Dynamic Complex Table/Dynamic Simple Table" -->
                    <!-- 2. SectionType of section associated with project document section external id is not "Appendix" -->
                    <!-- 3. Projectsubtype associated with prject of document section is not "BLG" and sectionSequence of document section is not "5.3" -->
                    <apex:outputPanel rendered="{!IF(AND(OR(pds.IPM_Section__r.IPM_Section_Type__c='Text',pds.IPM_Section__r.IPM_Section_Type__c='Checklist',pds.IPM_Section__r.IPM_Section_Type__c='Static Table',pds.IPM_Section__r.IPM_Section_Type__c='Dynamic Complex Table',pds.IPM_Section__r.IPM_Section_Type__c='Dynamic Simple Table'),pds.IPM_Section__r.IPM_Parent_Section__r.External_ID__c!='Appendix',pds.IPM_Default_Section__c=true,IF(AND(pds.IPM_Project_Document__r.IPM_Project__r.IPM_ProjectSubType__c = 'BLG',pds.IPM_Section__r.IPM_Section_Sequence__c='5.3'),FALSE,TRUE)),true,false)}"> 
                        
                        <apex:outputText value="{!pds.IPM_Section_Sequence__c} {!pds.IPM_Section_Name__c} [{!pds.IPM_FunctionalRole__c}]"  styleClass="heading4 bold" />
                        <!--- Components To BE Displayed within Sections--->
                        
                        <!-- below component renders while it meet one of the criteria -->
                        <!-- 1. sub header section master section external id is "Initial_Estimate_of_Opportunity" -->
                        <!-- 2. sub header section master section external id is "Business_Case_Action_Standards" and project Document gate is "Market Deployment"--> 
                        <c:IPM_GlobalFinancialActionStandards gate="{!projectDoc.IPM_GateDocuments__c}" isEditable="false" projId="{!projectId}" secId="{!pds.Id}" rendered="{!AND(pds.IPM_Master_Section_External_Id__c='Business_Case_Action_Standards',project.IPMProject_Span__c='Global',project.IPM_Project_Type__c='Original',OR(project.IPM_Phase__c='Ideas',projectDoc.IPM_GateDocuments__c='Charter'))}"></c:IPM_GlobalFinancialActionStandards>
                        <c:IPM_Financial_Action_Standards_Inverse gate="{!projectDoc.IPM_GateDocuments__c}" isEditable="false" projId="{!projectId}" secId="{!pds.Id}" rendered="{!AND(pds.IPM_Master_Section_External_Id__c='Business_Case_Action_Standards',projectDoc.IPM_GateDocuments__c!='Market Deployment',OR(project.IPMProject_Span__c='Regional',AND(project.IPMProject_Span__c='Local',project.IPM_Project_Type__c='Operational'),AND(project.IPMProject_Span__c='Global',project.IPM_Project_Type__c='Operational'),AND(project.IPMProject_Span__c='Global',projectDoc.IPM_GateDocuments__c!='Charter')))}" > </c:IPM_Financial_Action_Standards_Inverse>
                        <c:IPM_FinGate projId="{!projectId}" rendered="{!OR(pds.IPM_Master_Section_External_Id__c='Initial_Estimate_of_Opportunity',AND(pds.IPM_Master_Section_External_Id__c='Business_Case_Action_Standards',projectDoc.IPM_GateDocuments__c=='Market Deployment'))}" ></c:IPM_FinGate>
                        <c:IPM_RND_QuestionsView rendered="{!if(OR(pds.IPM_Section_Name__c=='R&D Initial Outline (Product/Pack)',pds.IPM_Section_Name__c=='R&D Technical Readiness'),true,false)}" gateDocType="{!projectDoc.IPM_GateDocuments__c}" RNDEdit="False"></c:IPM_RND_QuestionsView>
                        <c:IPM_SC_Feasibility_QuestionsView rendered="{!if(OR(pds.IPM_Section_Name__c=='Supply Chain Feasibility',pds.IPM_Section_Name__c=='Supply Chain Technical Readiness'),true,false)}" gateDocType="{!projectDoc.IPM_GateDocuments__c}"></c:IPM_SC_Feasibility_QuestionsView>
                        <c:IPM_RND_Feasibility_QuestionsView rendered="{!if(pds.IPM_Section_Name__c=='R&D Feasibility',true,false)}" RNDEdit="False" gateDocType="{!projectDoc.IPM_GateDocuments__c}"> </c:IPM_RND_Feasibility_QuestionsView>    
                        <!-- below component will render when child od sub header section master external id is "CUs n Complexity" and project span is "Regional" or "Local" and phase is "Ideas" -->
                        <c:IPM_CU_Complexity gateType="{!projectDoc.IPM_GateDocuments__c}" getSectionId="{!pds.Id}" proModel="{project.IPM_GateKeeping_Model__c}" ProSpan="{project.IPMProject_Span__c}" phaseName="{!project.IPM_Phase__c}"  isEdit="false" rendered="{!AND(pds.IPM_Master_Section_External_Id__c='CU_And_Complexity',OR(project.IPMProject_Span__c='Regional',project.IPMProject_Span__c='Local',project.IPM_Phase__c='Ideas',project.IPM_Project_Type__c='Operational'))}"></c:IPM_CU_Complexity>
                        <c:IPM_CU_Complexity_Consolidated getGateType="{!projectDoc.IPM_GateDocuments__c}" isGateDoc="true" getProjId="{!project.Id}" rendered="{!AND(project.IPMProject_Span__c='Global',pds.IPM_Master_Section_External_Id__c='CU_And_Complexity')}" /> 
                        <c:IPM_TradeMark_QuestionsView rendered="{!if(pds.IPM_Master_Section_External_Id__c=='Trademarks',true,false)}"  gateDocType="{!projectDoc.IPM_GateDocuments__c}"> </c:IPM_TradeMark_QuestionsView>    
                        <c:IPM_OTIFStatusTableView otfType="Table" isEdtable="false" getSectionId="{!pds.Id}" rendered="{!IF(pds.IPM_Master_Section_External_Id__c=='OTIF_Status',true,false)}"></c:IPM_OTIFStatusTableView>
                        <c:IPM_GateKeeperListView setEdit="false" getDocType="{!projectDoc.IPM_GateDocuments__c}" rendered="{!IF(pds.IPM_Master_Section_External_Id__c=='Gate_Keeper_Checklist',true,false)}"></c:IPM_GateKeeperListView>
                        
                        
                        <!---Components To BE Displayed within Sections END-->
                        <apex:outputField value="{!pds.IPM_Gate_Document_Summary__c}" styleClass="bdText" />
                        
                        <c:IPM_GlobalClaimPDL projId="{!projectId}" isAppendix="false" rendered="{!pds.IPM_Master_Section_External_Id__c=='Final_Global_Claims'}"></c:IPM_GlobalClaimPDL>
                        
                        <apex:outputPanel layout="block" styleClass="appBlock" rendered="{!pds.IPM_Has_Appendix__c}"> 
                            <apex:outputPanel >{!$Label.IPM_GD_APPENDIX_MSG}tion <span data-dir="{!pds.IPM_Master_Section_External_Id__c}" class="appText">{!pds.IPM_Section__r.IPM_Section_Name__c}</span></apex:outputPanel>
                            
                        </apex:outputPanel>
                    </apex:outputPanel>
                    
                </apex:repeat> 
                
                <apex:outputText value="Appendix" styleClass="heading2 bold" rendered="{!isWithAppendix}"/>
                <apex:repeat value="{!projDocAppdxSectionList}" var="apxSec" rendered="{!isWithAppendix}">
                    
                    <apex:outputPanel rendered="{!IF(apxSec.IPM_Section__r.IPM_Section_Type__c='Header',true,false)}"> 
                        <apex:outputText value="{!apxSec.IPM_Section_Sequence__c} {!apxSec.IPM_Section_Name__c}" styleClass="heading2 bold"/>
                    </apex:outputPanel>
                    <apex:outputText value="{!apxSec.IPM_Section_Name__c} [{!apxSec.IPM_FunctionalRole__c}]"  styleClass="heading4 bold" />
                    <c:IPM_FinInitialEstOfOppCharter projId="{!projectId}" rendered="{!AND(apxSec.IPM_Master_Section_External_Id__c='Initial_Estimate_of_Opportunity',project.IPM_Project_Type__c!='Operational')}"></c:IPM_FinInitialEstOfOppCharter>
                    <c:IPM_Consumer_Evidence gate="{!projectDoc.IPM_GateDocuments__c}" getProjectId="{!projectId}" Editable="false" getSecid="{!apxSec.Id}" rendered="{!apxSec.IPM_Master_Section_External_Id__c='Consumer_Evidence_Concept'}"></c:IPM_Consumer_Evidence>
                    <c:IPM_EcoDesignSection displayOnlyTables="true" getSectionId="{!apxSec.Id}"  rendered="{!apxSec.IPM_Master_Section_External_Id__c=='Environmental_Impact'}"></c:IPM_EcoDesignSection>
                    <c:IPM_Customer_Channels gdpage="true" getProjectID="{!projectId}" getSecid="{!apxSec.Id}" CCEdit="false" rendered="{!apxSec.IPM_Master_Section_External_Id__c='Customers_Channels'}"></c:IPM_Customer_Channels>
                    <c:IPM_Risk_QuestionnaireView getProjectId="{!if(AND(project.IPMProject_Span__c=='Local',project.IPM_Project_Type__c=='Rollout'),project.IPM_Parent_Project__c,projectId)}" getProjectSectionId="{!apxSec.Id}" editSection="false" gateType="{!projectDoc.IPM_GateDocuments__c}" rendered="{!apxSec.IPM_Master_Section_External_Id__c='Risk'}"></c:IPM_Risk_QuestionnaireView>
                    <c:IPM_Gate_RollOuts span="{!project.IPMProject_Span__c}" projId="{!projectId}" rendered="{!AND(apxSec.IPM_Master_Section_External_Id__c='Rollout_Plans',project.IPM_Project_Type__c!='Operational')}"></c:IPM_Gate_RollOuts>
                    <c:IPM_MilestoneList_PDF pId="{!projectId}" gateDocType="{!projectDoc.IPM_GateDocuments__c}" gateDocStatus="{!projectDoc.IPM_Document_Status__c}" rendered="{!apxSec.IPM_Master_Section_External_Id__c='Milestones'}"></c:IPM_MilestoneList_PDF>
                    <c:IPM_Country_Feedback rendered="{!apxSec.IPM_Master_Section_External_Id__c='Country_Feedback_Requirements'}" > </c:IPM_Country_Feedback> 
                    <c:IPM_CMIGateSectionPDF projId="{!projectId}"  gate="{!projectDoc.IPM_GateDocuments__c}" secId="{!apxSec.Id}" rendered="{!apxSec.IPM_Master_Section_External_Id__c='Mix_Qualification_Plan_and_Action_Standards'}"></c:IPM_CMIGateSectionPDF>      
                    <c:IPM_BCC_ConsolidateView gateType="{!projectDoc.IPM_GateDocuments__c}" projSpan="{!project.IPMProject_Span__c}" projectId="{!project.Id}" showBccTab="{!showBBCtable}" rendered="{!apxSec.IPM_Master_Section_External_Id__c=='BD/BB_Alignment'}"></c:IPM_BCC_ConsolidateView>
                    <c:IPM_Assumptions projId="{!projectId}" gateType="{!projectDoc.IPM_GateDocuments__c}" getSectionId="{!apxSec.Id}" rendered="{!if(apxSec.IPM_Master_Section_External_Id__c=='Assumptions',true,false)}" isEditable="false"></c:IPM_Assumptions>
                    <c:IPM_ViewAssortmentStrategy ProSecID="{!apxSec.Id}" rendered="{!apxSec.IPM_Master_Section_External_Id__c=='Assortment_Strategy'}"></c:IPM_ViewAssortmentStrategy>
                    <c:IPM_MarketPerformance projId="{!projectId}" isEditable="false" rendered="{!AND(apxSec.IPM_Master_Section_External_Id__c=='Monitoring_Performance_in_Market' && apxSec.IPM_Section_Sequence__c =='6.5' && project.IPMProject_Span__c='Regional' && project.IPM_Project_Type__c!='Operational')}" ></c:IPM_MarketPerformance>
                    <c:IPM_PerformanceBreakdown isAppendix="true" isEditable="false" projId="{!projectId}" rendered="{!AND(apxSec.IPM_Master_Section_External_Id__c=='Monitoring_Performance_in_Market',apxSec.IPM_Section_Sequence__c =='6.5' && project.IPMProject_Span__c='Local' && project.IPM_Project_Type__c!='Operational')}"></c:IPM_PerformanceBreakdown>
                    <c:IPM_GlobalClaimPDL projId="{!projectId}" isAppendix="true" rendered="{!apxSec.IPM_Master_Section_External_Id__c=='Final_Global_Claims'}"></c:IPM_GlobalClaimPDL>
                    <c:IPM_SourcePlanInPDF projId="{!projectId}" rendered="{!AND(projectDoc.IPM_GateDocuments__c=='Product Design Lock')}"></c:IPM_SourcePlanInPDF> 
                </apex:repeat> 
                
            </div>
        </div>
        <!--/ Content End -->  
    </apex:form>  
    
</apex:page>