<apex:page controller="IPM_HomePageController" sidebar="false" standardStylesheets="false">
    <style>
   .ipmImage > img{width:100%;}
    .ipmTaskWidget .panel-heading {margin: 0 15px;padding: 20px 0 10px;font-weight: bold;text-transform: uppercase;font-family: 'UnileverDINOffcPro', Arial!important;font-size: 1.2em;border-bottom: 1px #ddd solid; color:#00B389!important;}
    .taskContent {min-height:306px;}
    .ipmTaskWidget .ipmButtonGroup.ipmFromAction a {margin:0 10px;}
    .ipmTaskWidget .ipmButtonGroup {text-align:center;}
    .alertContainer{background:#FFF372;padding:10px;float:left; display:none;}
    .alertsContainer{background:#FFF372;padding:10px;float:left;}
    .SecButtonSet .icoButton {display:inline-block;width:30px; margin: 0 5px; cursor:pointer; height:30px;border:1px solid #1568b6;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;}
    .SecButtonSet  {display:inline-block; text-align:right; margin-top:0px;}
   .iconsContainer{background:#fff;padding:5px 0px;}
   .sliderContainer{background:#fff;margin:10px 0px 40px 0px;}
   .sliderContent p{margin:0px;}
   .sliderContent{font-size:1em;color:#333333;height: 120px;text-overflow: ellipsis;overflow: hidden;}
   .contentHeader{color:#666666;margin:10px 0px;font-size:1.5em;font-weight:bold;float:left;}
   .moreLink{color:#1797C0;text-decoration:none;font-weight:normal;font-size:1em;cursor:pointer;}
   .lessLink{color:#1797C0;text-decoration:none;font-weight:bold;cursor:pointer;display:none;}
   .moreLink:hover{text-decoration:none;}
   .box1{height:110px;margin-left: 10px;width: 110px;margin-right: 15px;}
   .box2{height:110px;width: 110px !important;padding-top: 14px !important;}
   .box3{height: 110px;width: 110px;margin-right: 15px;margin-left: 10px;padding-top:11px !important;}
   .box4{height: 138px;width: 110px;}
   .ipmContainer:before{height:0px;}
   .boxTop{margin-top:10px;}
   .noPadleft{padding-left:0px !important;}
   .noPadright{padding-right:0px !important;}
   .noPadding{padding:0px;}
   .centerAlign{text-align:center;padding-top: 18px;cursor:pointer;}
   .boxTitle{display:block;color:#fff;margin-top: 5px;font-size:0.82em;}
   .heading3{font-size:1.338em; font-weight:bold;}
   .blue{color:#253b78 !important;}
   .width4{width:183px;padding-right:5px;}
   .projectsListHeading{border-left:1px solid #969696; }
   .borderBottom{border-bottom:1px solid #8C8C8C;margin:0px 10px;padding:0px 10px 10px 0px;}
   .singleProject{margin:10px 10px;border-bottom:1px solid #D1D1D1;padding: 10px 0px;}
   .captions{color:#777777;}
   .percentage{color:#1797C0;font-weight:bold;}
   .projectsDetails{display:block;}
   .proTitle{color:#1797C0;font-weight:bold;}
   
   
   .ipmAccordion{margin:10px 10px;padding: 10px 0px;}
   .ipmAccordion .projectContainer .pHead > span.expico {display: inline-block; cursor:pointer; font-family: FontAwesome;width: 21px;height: 21px;text-align: center;font-weight: normal;line-height: 23px;background: #81bd42;position: relative;margin-right: 5px;font-size: 0.8em;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;color: #fff;}
   .ipmAccordion .projectContainer .pHead {display:block;}
   .ipmAccordion .projectContainer > .ipmAcrdnExpand {display:block;padding-right: 10px;margin-left: 13px; margin-bottom:10px;}        
   .ipmAccordion .projectContainer > .pHead {color: #1797C0;font-weight: bold;display: block;margin-bottom: 2px;padding: 15px 10px 15px;}
   .projectContainer{border-bottom:1px solid #D6D6D6;}
   .recCount{margin-left: 10px;padding: 5px 8px;background: #F99723;color: #fff;border-radius: 4px;}
   .recCount.expanded{background: #F99723;}
    .recCount.collapsed{background: #707070;}
   .ipmCheckbox label{top: 5px;}
   
 //  .greyBox{background:#F8F8F8;margin:0px;padding:10px;border-bottom:1px solid #D4D4D4;}
  // .whiteBox{background:#FFFFFF;margin:0px;padding:10px;border-bottom:1px solid #D4D4D4;}
    .recordBox{margin:0px;padding:10px 0;border-bottom:1px solid #D4D4D4;}
    .recordBox:nth-child(even){background:#FFFFFF;}
    .recordBox:nth-child(odd){background:#F8F8F8;}
    .recordBox>div{padding: 0px 10px;}
   .blockDisplay{display:block;}
   .greyBox .ipmCheckbox label{top:0px !important;}
   .whiteBox .ipmCheckbox label{top:0px !important;}
   .black{color:#000;}   
   .padTop1{padding-top:1px;}
   .rightBoxes {text-align:center;margin-top:72px;}
   .rightBoxes .setAuto {display:inline-block; margin:0 auto;}
   .box2 .boxTitle{margin-top:1px;}
   .box1 .icoButton,.box2 .icoButton{border:0px !important;border-radius:0px;height:57px;width:70px;margin-top:-11px;}
   .box3 .icoButton{border:0px !important;border-radius:0px;height:60px;width:70px;margin-top:0px;}
   .box4 .icoButton{border:0px !important;border-radius:0px;height:57px;width:70px;margin-top:-8px;}
   
   .sliderImage .imgHolder {width:381px; height:241px; position:relative; overflow:hidden;}
   .sliderImage .imgHolder img {max-width:100%;}
   .sliderImage .imgHolder:before {position:absolute; z-index:100; content:""; top:0; left:0; width:381px; height:241px; display:block; background:url('{!URLFOR($Resource.ipmResourceRevamp, 'images/img_carousel.png')}'); background-size:100% 100%;}
   @media screen and (max-width: 1024px) {
    .sliderImage .imgHolder {width:299px; height:198px; position:relative; overflow:hidden;}
   .sliderImage .imgHolder img {max-width:100%;}
   .sliderImage .imgHolder:before {position:absolute; z-index:100; content:""; top:0; left:0; width:299px; height:198px; display:block; background:url('{!URLFOR($Resource.ipmResourceRevamp, 'images/img_carousel.png')}'); background-size:100% 100%;}
    }
    .carousel-indicators {left:62%!important;bottom:-35px !important;} 
    .carousel-indicators li {border:1px solid #a2d5e6!important;background-color:#a2d5e6!important;}
    .carousel-indicators .active {background-color:#1797c0!important;border:1px solid #1797c0!important;}
   .listItem{display: list-item;margin-left: 20px;}
   
   /*alerts container */
   .alertsContainer{background:#FFF372;padding:10px;float:left;font-size:1em;color:#333;}
        .fa-exclamation-triangle{font-size:21px;color:#E98824;}
        .negMargin{margin-top:0px;margin-bottom:6px;margin-left:-10px;margin-right:0px;position: relative;background: #FFF372;}
        .alerttext{position: relative;left: -34px;font-weight: bold;color: #333;font-size: 1em;bottom: 4px;}
        .noSidebarCell{padding-top:0px !important;}
        .minus{position: relative;background:#00A9E0;color:white;left: -22px;top: 20px;z-index: 9;float: right;font-size: 0.58em;padding: 4px 5px 3px 5px;border-radius: 2px;}
        .alertContent{display:none;}
        .alertimg{width:30px;position:relative;bottom:7px;}
        .listIn,.captions1{color:#555555;}
        .recordBox.selected{background: #e1f9dd;}
        .noRecordsMsg{margin: 10px;font-size: 1em;color: #555555;}
        .sliderTitle{margin-top:10px;margin-bottom:20px;padding-bottom:5px;border-bottom:1px solid #8C8C8C;margin-left: 10px; }
        .carousel-indicators .active{margin:1px;width:10px;height:10px;}
   </style>
   <script> 
    var jq = jQuery.noConflict();
    jq.fn.preload = function() {
    this.each(function(){
        jq('<img/>')[0].src = this;
    });
    }
    jq(['{!URLFOR($Resource.ipmResourceRevamp, 'images/pb11.svg')}','{!URLFOR($Resource.ipmResourceRevamp, 'images/pb22.svg')}','{!URLFOR($Resource.ipmResourceRevamp, 'images/pb33.svg')}', '{!URLFOR($Resource.ipmResourceRevamp, 'images/pb44.svg')}']).preload();
   </script>
    <div class="row negMargin" style="{!if(alertscount >= 1,'display:block','display:none')};">
        <i class="minus fa fa-plus alertAccordian"></i>               
        <div class="col-sm-12">
        <div class="col-sm-1"><img class="alertimg" src="/resource/1422940358000/ipmResourceRevamp/images/alert_1a.png"/></div>
        <div class="col-sm-11 alerttext">
            <p>You have {!alertscount} Alerts </p>                        
        </div>
        <div class="col-sm-12 alertContent">
          <ul>
                <apex:repeat var="key" value="{!alertMessage}">
                <li>
                <apex:form >
                <apex:commandLink value="{!key} Approval is due in {!LEFT(alertMessage[key],17)}" action="/apex/IPM_GateDocument?id={!RIGHT(alertMessage[key],18)}"/>
                </apex:form>
            </li>
        </apex:repeat>
        <apex:repeat var="hprojects" value="{!mapphistory}">
            <li>
                {!mapphistory[hprojects].Parent.Name} &nbsp; {!if(mapphistory[hprojects].Parent.IPM_Fast_Track_Project__c,'projects are Fast track','projects are no longer Fast Tracks')}
            </li>
        </apex:repeat>
            </ul>
        </div>
        </div>
    </div>
   <apex:composition template="ipmTemplateRevamp2">
        <apex:define name="body">
            <!--apex:form >-->                
                <div class="row negMargin">    
                    <div class="col-sm-12 SecButtonSet iconsContainer pull-right">
                       <!--<a href="#" class="icoButton print" title="Print"></a>
                       <a href="#" class="icoButton print" title="Question"></a>-->
                    </div>
                    
                </div>
                 <div class="row sliderContainer">
                   <div class="col-sm-8 homeSlider">
                      <div class="row">
                      <div class="heading3 blue sliderTitle">Latest News</div>
                      <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                       <!-- Indicators -->
                          <ol class="carousel-indicators">
                            <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                            <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                            <!--<li data-target="#carousel-example-generic" data-slide-to="2"></li>-->
                          </ol>                       
                        <div class="carousel-inner">
                        
                        <div class="item active">
                        <div class="col-sm-7 sliderImage">                        
                        <div class="imgHolder">
                        <!--<apex:image value="{!URLFOR($Resource.ipmResourceRevamp, 'images/img-01.png')}"/>-->
                         <img src="http://i.istockimg.com/file_thumbview_approve/14729878/2/stock-photo-14729878-traditional-christmas-market.jpg" />
                        </div>
                        </div>
                        <div class="col-sm-5">
                           <div class="col-sm-12 noPadding">
                           <span class="contentHeader">Procedure Change</span>
                           </div>
                           <div class="col-sm-12 noPadding sliderContent">
                               <span class="contentTitle">What To Do If You Have a Technical Issue</span>
                               <p>iLog, the current system for logging Inoplan technical issues, will be decommissioned on the 17th of November 2014. Below is the interim support solution: </p>
                               <div class="listItem">Inoplan users should continue to contact their IPM Business Partners should they have a query.</div>
                               <div class="listItem">E IPM BP will determine whether the query is a technical or training issue.</div>
                           <!--<a href="#" class="moreLink">More>></a>-->
                           </div>
                           <div class="col-sm-12 noPadding"><a class="moreLink">More>></a><a class="lessLink">Less</a></div>
                        </div>
                        </div>
                        
                        <div class="item">
                        <div class="col-sm-7 sliderImage">                        
                        <div class="imgHolder">
                        <!--<apex:image value="{!URLFOR($Resource.ipmResourceRevamp, 'images/img-02.png')}"/>-->
                        <img src="http://i.istockimg.com/file_thumbview_approve/36556050/2/stock-photo-36556050-a-woman-pushing-on-a-cloud-button.jpg" />
                        </div>
                        </div>
                        <div class="col-sm-5">
                           <div class="col-sm-12 noPadding">
                           <h5 class="contentHeader">Project Half Update</h5>
                           </div>
                           <div class="col-sm-12 noPadding sliderContent">
                           <p>In the spirit of continuous improvement and simplification, additional enhancements will go live in Inoplan starting 18 September. Watch for updates to:</p>
                           <div class="listItem">Product Design Lock (PDL) template for PC</div>
                           <div class="listItem">System pop-ups and email notices</div>
                           <div class="listItem">BD-BB misalignment visibility</div>
                           <div class="listItem">BB Milestone Dates</div>
                           <div class="listItem">Gatekeeper Checklist questions</div>
                           </div>
                           <div class="col-sm-12 noPadding"><a class="moreLink">More>></a><a class="lessLink">Less</a></div>
                        </div>
                        </div>
                        
                        <!--<div class="item">
                        <div class="col-sm-7 sliderImage">                        
                        <div class="imgHolder">
                        <img src="http://i.istockimg.com/file_thumbview_approve/36556050/2/stock-photo-36556050-a-woman-pushing-on-a-cloud-button.jpg" />
                        </div>
                        </div>
                        <div class="col-sm-5 sliderContent">
                           <div class="col-sm-12 noPadding">
                           <h5 class="contentHeader">Header appears here</h5>
                           </div>
                           <div class="col-sm-12 noPadding">
                           <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas pellentesque lorem quis purus tincidunt, sed hendrerit nisi auctor.</p>
                           </div>
                        </div>
                        </div>-->
                        </div>
                        </div>
                      </div>
                   </div>
                   <div class="col-sm-4 rightBoxes">
                   <div class="setAuto">
                     <div class="row">
                      <div class="col-sm-12">
                       <apex:outputpanel rendered="{! if(OR(isProjectEditable=true,isBossCardEditable=true),'true','false')}">
                        <div id="createProject" class="col-sm-6 centerAlign noPadleft noPadright box1 SecButtonSet" data-toggle="modal" data-target="#ipmModal" title="Create Project" value="/apex/createprojectsv?IsBossCardEditable={!isBossCardEditable}&IsProjectEditable={!isProjectEditable}" data-backdrop="static" data-keyboard="false" >
                                 <a class="icoButton newproject"></a> 
                                 <!-- <span class="boxTitle">{!projectLabel}</span>-->
                                <span class="boxTitle">Create new<br/> project</span>           
                        </div>
                        </apex:outputpanel>
                        <apex:outputpanel rendered="{! if(AND(isProjectEditable=false,isBossCardEditable=false),'true','false')}">
                        <div  id="createProject1" class="col-sm-6 centerAlign noPadleft noPadright box1 SecButtonSet">
                                 <a class="icoButton newproject"></a> 
                                <!-- <span class="boxTitle">{!projectLabel}</span>-->
                                <span class="boxTitle">Create new<br/> project</span>
                        </div>
                        </apex:outputpanel>
                        <div class="col-sm-6 centerAlign box2 noPadleft noPadright SecButtonSet actionBox" value="/apex/IPM_ProjectSearchPage" title="View All Projects">
                               <a class="icoButton view"></a>  
                              
                               <span class="boxTitle">View all<br/> projects</span>            
                        </div>
                      </div>  
                     </div>  
                     <div class="row boxTop">
                      <div class="col-sm-12">
                        <div class="col-sm-6 centerAlign box3 noPadleft noPadright SecButtonSet actionBox" value="" title="Ask IPM">
                                  <a class="icoButton askipm"></a>
                                  <span class="boxTitle">Ask IPM</span>           
                        </div>
                        <div class="col-sm-6 centerAlign box4 noPadleft noPadright SecButtonSet actionBox" value="http://ipm.unilever.com" title="Go to IPM Portal">
                                <a class="icoButton ipmportal"></a>
                                <span class="boxTitle">Go to<br/> IPM Portal</span>             
                        </div>
                      </div>  
                     </div>  
                   </div>
                   </div>
                 </div> 
                <div class="row">
                    <div class="col-sm-7">
                         <c:ipmMyActiveProjects />
                    </div>
                    <div class="col-sm-5 todoWrapper">
                        <c:IpmMyToDoListHome overduecount="{!overduetaskscount}" />        
                    </div>
                 </div>         
                <div>
               <!-- <c:IPM_View_Project_Bosscard ></c:IPM_View_Project_Bosscard>-->
                </div>
            <div id="ipmModalDiv">
                <c:ipmModalRevamp />
            </div>


<!--            </apex:form>-->
        </apex:define>
    </apex:composition>
    <apex:includeScript value="{!URLFOR($Resource.ipmResourceRevamp, 'js/ipmAccordion.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.ipmResourceRevamp, 'js/functions.js')}"/>
    <apex:stylesheet value="{!URLFOR($Resource.ipmResourceRevamp, 'css/ipmModal1.css')}"/>
    <script>
        var jq=jQuery.noConflict();
        jq(document).on('click', '.actionBox', function(){
            var url = jq(this).attr('value');
            window.top.location.href = url;
        });
        
         
        jq('.moreLink').click(function(){
           // jq('.sliderContent')
            jq(this).parent().prev().animate({height:'100%'}, 500);
            jq(this).hide();
            jq(this).next('a.lessLink').show();
        });

jq('.lessLink').click(function(){
    //jq('.sliderContent')
    jq(this).parent().prev().animate({height:'222px'}, 500);
    jq(this).hide();
    jq(this).prev('.moreLink').show();
});
    jq(document).on('click', '#createProject', function(e){
        e.preventDefault ? e.preventDefault() : e.returnValue = false;                       
        var url =jq(this).attr('value');
        openModal(url);   
        jq('#ipmModal .modal-title').html('Create Project');
        jq('#ipmModal .modal-dialog').width('70%');
        jq('#ipmModal .modal-dialog').height('62%');
        jq('#ipmModal .modal-dialog').css('margin-top','10%');
    });
    jq(document).on('click', '.alertAccordian', function(){
        if(jq('.alertContent').is(':visible')){
            jq(this).removeClass('fa-minus');
            jq(this).addClass('fa-plus');
            jq('.alertContent').hide(); 
        }else{
            jq(this).addClass('fa-minus');
            jq(this).removeClass('fa-plus');
            jq('.alertContent').show(); 
        }
    });
  jq(document).ready(function(){
    jq(".ipmAcrdnExpand").hide();
    jq(".ipmAccordion").find(".pHead span.expico").removeClass("fa-minus").addClass("fa-plus");
    jq(".ipmAccordion").find(".pHead:first span.expico, .pHead:eq(1) span.expico").removeClass("fa-plus").addClass("fa-minus");
    jq(".ipmAcrdnExpand:first, .ipmAcrdnExpand:eq(1)").show();
    jq(".ipmAccordion").find(".pHead:first .recCount, .pHead:eq(1) .recCount").removeClass("collapsed").addClass("expanded");
});
    </script>
 
</apex:page>