<apex:page controller="Amr_NewSaving_CC">
    <apex:include pageName="Amr_common" />
    <!--  
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    
    -->
    <script>
        function closeloading() {
           $j('.loadingclass').remove();
           $j('.holder-class').attr('style','');
        }
        
         $j(function(){
            currencyPopup();
        });
        
        function isNumber(evt) {
                evt = (evt) ? evt : window.event;
                var charCode = (evt.which) ? evt.which : evt.keyCode;
                if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
        }
                return true;
       }

         function PCEuroAmountAccepted(){
          var stringArray = JSON.parse('{!lstcov }');
          var PCCurrency = $j('.PCCurrencyAccepted').val();
          var PCLocalAmount = $j('.PCLocalAmountAccepted').val();
          
          if(PCCurrency == null || PCCurrency.length == 0){
              $j('.PCEuroAmountAccepted').val('');
          }
          
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == PCCurrency ){
                         //console.debug('inside'+PCLocalAmount);
                         if(PCLocalAmount == 0.000){
                            PCLocalAmount = 0;
                         }
                          if(PCLocalAmount !==0){
                             if(PCLocalAmount !==null && PCLocalAmount !==""){
                                  PCLocalAmount = parseInt(PCLocalAmount);
                                  var finalValue = PCLocalAmount/stringArray[i].Currency_Unit_To_Euro__c;
                                  finalValue = finalValue.toFixed(2);
                                 $j('.PCEuroAmountAccepted').val(finalValue);
                             }         
                          }else{
                          
                               $j('.PCEuroAmountAccepted').val(0);
                          }
                    }
                    
            }
            
            var PPCEuroAmount = $j('.PPCEuroAmountAccepted').val();
           
            
            
            var CAEuroAmount = $j('.CAEuroAmountAccepted').val();
           
           
             
            var PCEuroAmount = $j('.PCEuroAmountAccepted').val();
            
           
            
            if(PCEuroAmount !== "" && PPCEuroAmount !=="" && CAEuroAmount!== ""){
                  PPCEuroAmount = parseFloat(PPCEuroAmount);
                  CAEuroAmount = parseFloat(CAEuroAmount);
                  PCEuroAmount =  parseFloat(PCEuroAmount);
                  var total = PCEuroAmount+PPCEuroAmount+CAEuroAmount;
                 
                  total = total.toFixed(2);
                  //console.debug('===>'+total );
                 $j('.TotalAcceptedFinalCostAccepted').val(total);
            }
          
      }
      
      function PPCEuroAmountAccepted(){
         var stringArray = JSON.parse('{!lstcov }');
          var PPCCurrency = $j('.PPCCurrencyAccepted').val();
          var PPCLocalAmount = $j('.PPCLocalAmountAccepted').val();
         
          if(PPCCurrency == null || PPCCurrency.length == 0){
              $j('.PPCEuroAmountAccepted').val('');
          }
          
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == PPCCurrency){
                         //console.debug('inside');
                         if(PPCLocalAmount == "0.000"){
                            PPCLocalAmount = "0";
                         }
                          if(PPCLocalAmount!=="0"){
                             if(PPCLocalAmount!==null && PPCLocalAmount!==""){
                                  PPCLocalAmount = parseInt(PPCLocalAmount);
                                  var finalValue = PPCLocalAmount/stringArray[i].Currency_Unit_To_Euro__c;
                                  finalValue = finalValue.toFixed(2);
                                 $j('.PPCEuroAmountAccepted').val(finalValue);
                             }         
                          }else{
                          
                               $j('.PPCEuroAmountAccepted').val(0);
                          }
                    }
                    
            }
            
            var PPCEuroAmount = $j('.PPCEuroAmountAccepted').val();
           
            
            
            var CAEuroAmount = $j('.CAEuroAmountAccepted').val();
            
           
             
            var PCEuroAmount = $j('.PCEuroAmountAccepted').val();
           
           
            
            if(PCEuroAmount !== "" && PPCEuroAmount !=="" && CAEuroAmount!== ""){
                 PPCEuroAmount = parseFloat(PPCEuroAmount);
                 CAEuroAmount = parseFloat(CAEuroAmount);
                 PCEuroAmount =  parseFloat(PCEuroAmount);
                 
                 var total = PCEuroAmount+PPCEuroAmount+CAEuroAmount;
                 
                  total = total.toFixed(2);
                  //console.debug('===>'+total );
                 $j('.TotalAcceptedFinalCostAccepted').val(total);
            }
          
      }
      
      function CAEuroAmountAccepted(){
          var stringArray = JSON.parse('{!lstcov }');
          var CACurrency = $j('.CACurrencyAccepted').val();
          var CALocalAmount = $j('.CALocalAmountAccepted').val();
          
          if(CACurrency == null || CACurrency.length == 0){
              $j('.CAEuroAmountAccepted').val('');
          }
          
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == CACurrency){
                         //console.debug('inside');
                         if(CALocalAmount == "0.000"){
                            CALocalAmount = "0";
                         }
                          if(CALocalAmount !=="0"){
                             if(CALocalAmount !==null && CALocalAmount !==""){
                                  CALocalAmount = parseInt(CALocalAmount);
                                 var finalValue =  CALocalAmount/stringArray[i].Currency_Unit_To_Euro__c;
                                 //alert('before'+finalValue);
                                 finalValue = finalValue.toFixed(2);
                                // alert('after'+finalValue);
                                 $j('.CAEuroAmountAccepted').val(finalValue);
                                 
                             }         
                          }else{
                          
                               $j('.CAEuroAmountAccepted').val(0);
                          }
                    }
                    
            }
            
            var PPCEuroAmount = $j('.PPCEuroAmountAccepted').val();
           
            
            var CAEuroAmount = $j('.CAEuroAmountAccepted').val();
            
           
             
            var PCEuroAmount = $j('.PCEuroAmountAccepted').val();
           
           
            
            if(PCEuroAmount !== "" && PPCEuroAmount !=="" && CAEuroAmount!== ""){
                   PPCEuroAmount = parseFloat(PPCEuroAmount);
                   CAEuroAmount = parseFloat(CAEuroAmount);
                   PCEuroAmount =  parseFloat(PCEuroAmount);
                  var total = PCEuroAmount+PPCEuroAmount+CAEuroAmount;
                 
                  total = total.toFixed(2);
                  //console.debug('===>'+total );
                 $j('.TotalAcceptedFinalCostAccepted').val(total);
            }
          
      }
      //==============================================
      
       function PCEuroAmount(){
          var stringArray = JSON.parse('{!lstcov }');
          var PCCurrency = $j('.PCCurrency').val();
          var PCLocalAmount = $j('.PCLocalAmount').val();
           //alert('inside'+PCLocalAmount);
         // alert('PCCurrency'+PCLocalAmount);
         if(PCCurrency == null || PCCurrency.length == 0){
              $j('.PCEuroAmount').val('');
         }
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == PCCurrency ){
                         //console.debug('inside'+PCLocalAmount);
                         if(PCLocalAmount == 0.000){
                            PCLocalAmount = 0;
                         }
                          if(PCLocalAmount !==0){
                             if(PCLocalAmount !==null && PCLocalAmount !==""){
                                  PCLocalAmount = parseInt(PCLocalAmount);
                                  var finalValue = PCLocalAmount/stringArray[i].Currency_Unit_To_Euro__c;
                                  finalValue = finalValue.toFixed(2);
                                 $j('.PCEuroAmount').val(finalValue);
                             }         
                          }else{
                          
                               $j('.PCEuroAmount').val(0);
                          }
                    }
                    
            }
            
            
          
      }
      
      function PPCEuroAmount(){
         var stringArray = JSON.parse('{!lstcov }');
          var PPCCurrency = $j('.PPCCurrency').val();
          var PPCLocalAmount = $j('.PPCLocalAmount').val();
          if(PPCCurrency == null || PPCCurrency.length == 0){
              $j('.PPCEuroAmount').val('');
          }
          
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == PPCCurrency){
                         //console.debug('inside');
                         if(PPCLocalAmount == "0.000"){
                            PPCLocalAmount = "0";
                         }
                          if(PPCLocalAmount!=="0"){
                             if(PPCLocalAmount!==null && PPCLocalAmount!==""){
                                  PPCLocalAmount = parseInt(PPCLocalAmount);
                                  var finalValue = PPCLocalAmount/stringArray[i].Currency_Unit_To_Euro__c;
                                  finalValue = finalValue.toFixed(2);
                                 $j('.PPCEuroAmount').val(finalValue);
                             }         
                          }else{
                          
                               $j('.PPCEuroAmount').val(0);
                          }
                    }
                    
            }   
      }
      
      function CAEuroAmount(){
          var stringArray = JSON.parse('{!lstcov }');
          var CACurrency = $j('.CACurrency').val();
          var CALocalAmount = $j('.CALocalAmount').val();
         if(CACurrency == null || CACurrency.length == 0){
              $j('.CAEuroAmount').val('');
          }
          
          for(var i=0;i<stringArray.length;i++){
                   
                    if(stringArray[i].Currency_Unit__c == CACurrency){
                         //console.debug('inside');
                         if(CALocalAmount == "0.000"){
                            CALocalAmount = "0";
                         }
                          if(CALocalAmount !=="0"){
                             if(CALocalAmount !==null && CALocalAmount !==""){
                                  CALocalAmount = parseInt(CALocalAmount);
                                 var finalValue =  CALocalAmount/stringArray[i].Currency_Unit_To_Euro__c;
                                 //alert('before'+finalValue);
                                 finalValue = finalValue.toFixed(2);
                                // alert('after'+finalValue);
                                 $j('.CAEuroAmount').val(finalValue);
                                 
                             }         
                          }else{
                          
                               $j('.CAEuroAmount').val(0);
                          }
                    }
                    
            }
          
      }
    </script>
    <apex:form >
    <apex:pageMessages id="msg"/>
        <apex:pageBlock >
            <apex:pageBlockSection title="New Saving line"  collapsible="true">
                <input type="text" value="{!adManagerNumber}" style="background-color:#E6E6E6;" disabled="disabled"/>
                <apex:inputField value="{!savingObj.Production_Type__c}"/>
                <apex:inputField value="{!savingObj.No_of_Masters__c}" />
                <apex:inputField value="{!savingObj.Duration_of_Masters__c}" /> 
                <apex:inputField value="{!savingObj.No_of_Additional_Films__c}" />
                <apex:inputField value="{!savingObj.Duration_of_Additional_Films__c}" />
                <apex:inputField value="{!savingObj.No_of_shoot_days__c}" />
                <apex:inputField value="{!savingObj.Stage_RAP_engaged__c}" />
                <apex:inputField value="{!savingObj.Script_Title__c}" />
                <apex:inputField value="{!savingObj.Scope_re_brief__c}" />
                <apex:selectList value="{!selectedCountry}" multiselect="true" size="5" label="Shoot Location">
                      <apex:selectOptions value="{!shootLocation}"/>
                </apex:selectList>
                <br/><br/>
                Your Saving Review <br/>
                <apex:inputField value="{!savingObj.Saving_Average_of_Quotes__c}" />
                <apex:inputField value="{!savingObj.Percentage_Saving_Average_of_Quotes__c}" />
                <apex:inputtext value="{!savingObj.Saving_Accepted_Quote_Euro__c}" html-readonly="true"/>
                <apex:inputtext value="{!savingObj.Percentage_Saving_Accepted_Quote__c}" html-readonly="true"/>
                <apex:inputField value="{!savingObj.Cost_Per_Master__c}" /> 
                <apex:inputField value="{!savingObj.Cost_per_master_per_shoot_day__c}" />  
                <apex:inputField value="{!savingObj.Number_Of_Quotes__c}" />  
                <apex:inputField value="{!savingObj.Average_Total_Opening_Quotes__c}" />   
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Accepted Quote(Opening and Closing Quote 1)" columns="4" collapsible="true">
                <apex:inputField value="{!acceptedQuote.Is_PC_part_of_the_Roster__c}" label="Is PC Part Of The Roster?"/>
                <apex:inputField value="{!acceptedQuote.PC_name__c}" label="PC Name"/>
                <apex:inputField value="{!acceptedQuote.PC_Country__c}" label="PC Country Location"/>
                <apex:inputField value="{!acceptedQuote.Service_Company_Name__c}"  label="Service Company Name"/>
                <apex:inputField value="{!acceptedQuote.Local_Currency_of_PC_Costs__c}" label="PC Costs Only (Local Currency)" styleclass="PCCurrency" onchange="PCEuroAmount()"/>
                <apex:inputField value="{!acceptedQuote.Local_Amount_of_PC__c}" label="PC Costs Only (Local Amount)" styleclass="PCLocalAmount" onkeypress="return isNumber(event)" onkeyup="PCEuroAmount()"/>
                <apex:inputText value="{!acceptedQuote.PC_Costs_Euro_Amount__c}" label="PC Costs Only (Euro Amount)" styleclass="PCEuroAmount" html-readonly="true"/>
                <apex:inputField value="{!acceptedQuote.Is_the_PPC_part_of_the_Roster__c}" label="Is the PPC part of the Roster?"/>
                <apex:inputField value="{!acceptedQuote.PPC_Name__c}" label="PPC Name"/>
                <apex:inputField value="{!acceptedQuote.PPC_Country__c}" label="PPC Country Location"/>
                <apex:inputField value="{!acceptedQuote.Local_Currency_of_PPC_Costs__c}" label="PPC Costs Only (Local Currency)" styleclass="PPCCurrency" onchange="PPCEuroAmount()"/>
                <apex:inputField value="{!acceptedQuote.Local_Amount_of_PPC__c}" label="PPC Costs Only (Local Amount)" styleclass="PPCLocalAmount" onkeypress="return isNumber(event)" onkeyup="PPCEuroAmount()"/>
                <apex:inputtext value="{!acceptedQuote.PPC_Costs_Euro_Amount__c}" label="PPC Costs Only (Euro Amount)" styleclass="PPCEuroAmount" html-readonly="true"/>
                <apex:inputtext value="{!acceptedQuote.CA_Additional_agency_Name__c}" label="CA/Additional agency Name"/>
                <apex:inputField value="{!acceptedQuote.CA_Location__c}" label="CA Location"/>
                <apex:inputField value="{!acceptedQuote.Local_Currency_of_CA_Costs__c}"  label="CA Costs Only (Local Currency)" styleclass="CACurrency"  onchange="CAEuroAmount()"/>
                <apex:inputField value="{!acceptedQuote.Local_Amount_of_CA__c}" label="CA Costs Only (Local Amount)" styleclass="CALocalAmount" onkeypress="return isNumber(event)" onkeyup="CAEuroAmount()"/>
                <apex:inputText value="{!acceptedQuote.CA_Costs_Euro_Amount__c}" label="CA Costs Only (Euro Amount)" styleclass="CAEuroAmount" html-readonly="true"/>
               <!-- <apex:inputField value="{!acceptedQuote.Total_Cost__c}" label="Total Cost"/> --> 
                Accpeted Final cost
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_PC_only_Currency__c}" label="Accepted Final Cost - PC only (Currency)" styleclass="PCCurrencyAccepted" onchange="PCEuroAmountAccepted()"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_PC_only_Local_Amo__c}" label="Accepted Final Cost - PC only (Local Amount)" styleclass="PCLocalAmountAccepted" onkeypress="return isNumber(event)" onkeyup="PCEuroAmountAccepted()"/>
                <apex:inputtext value="{!acceptedQuote.Accepted_Final_Cost_PC_Euro_Amou__c}" label="Accepted Final Cost - PC only (Euro Amount)" styleclass="PCEuroAmountAccepted" html-readonly="true"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_PPC_only_Currency__c}" label="Accepted Final Cost - PPC only (Currency)" styleclass="PPCCurrencyAccepted" onchange="PPCEuroAmountAccepted()"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_PPC_only_Local_Am__c}" label="Accepted Final Cost - PPC only (Local Amount)" styleclass="PPCLocalAmountAccepted" onkeypress="return isNumber(event)" onkeyup="PPCEuroAmountAccepted()"/>
                <apex:inputtext value="{!acceptedQuote.Accepted_Final_Cost_PPC_Euro_Amount__c}" label="Accepted Final Cost - PPC only (Euro Amount)" styleclass="PPCEuroAmountAccepted" html-readonly="true"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_CA_only_Currency__c}" label="Accepted Final Cost - CA only (Currency)"  styleclass="CACurrencyAccepted"  onchange="CAEuroAmountAccepted()"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_CA_Local_Amount__c}" label="Accepted Final Cost - CA only (Local Amount)" styleclass="CALocalAmountAccepted" onkeypress="return isNumber(event)" onkeyup="CAEuroAmountAccepted()"/>
                <apex:inputtext value="{!acceptedQuote.Accepted_Final_Cost_CA_Euro_Amount__c}" label="Accepted Final Cost - CA only (Euro Amount)" styleclass="CAEuroAmountAccepted" html-readonly="true"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_Editors_name__c}" label="Accepted Final Cost - Editors name"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_Sound_Studio_Name__c}" label="Accepted Final Cost - Sound Studio Name"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_Total_Sound_Studio__c}" label="Accepted Final Cost - Total Sound Studio costs"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_Travel_Costs__c}" label="Accepted Final Cost - Travel Costs"/>
                <apex:inputfield value="{!acceptedQuote.Accepted_Final_Cost_props_wardrobe__c}" label="Accepted Final Cost - Value of props & wardrobe (paid for)"/>
                <apex:inputtext value="{!acceptedQuote.Total_Accepted_Final_Cost_CA_PC_PPC_Eu__c}" label="Total Accepted Final Cost (CA/PC/PPC) Euro Amount"  styleclass="TotalAcceptedFinalCostAccepted" html-readonly="true"/>
                <apex:inputfield value="{!acceptedQuote.Saving_Type__c}" label="What type of Savings is this?"/>
            </apex:pageBlockSection>
            <apex:pageBlockSection columns="4" title="Quotes">
                 <script type="text/javascript">
                    var stringArray = JSON.parse('{!lstcov }');              
                    currencyPopup();                            
                </script>
                <apex:repeat value="{!quoteList}" var="quoteObj">
                 <div class="radio-selected">
                <div class="inner_heading_sub_section margin-btwn-inner-container margin-top18">
                   <h4>     Quote : {!quoteObj.Quote_Number__c}</h4>
                 </div>
                 
                  <div class="adMangerNo quote-related{!quoteObj.Quote_Number__c}" number-id="{!quoteObj.Quote_Number__c}">
                    <apex:inputField value="{!quoteObj.Is_PC_part_of_the_Roster__c}" label="Is PC Part Of The Roster?"/>
                    <apex:inputField value="{!quoteObj.PC_name__c}" label="PC Name"/>
                    <apex:inputField value="{!quoteObj.PC_Country__c}" label="PC Country Location"/>
                    <apex:inputField value="{!quoteObj.Service_Company_Name__c}" label="Service Company Name"/>
                    <apex:inputField value="{!quoteObj.Local_Currency_of_PC_Costs__c}" label="PC Costs Only (Local Currency)" styleclass="commonCurrencyRelated commonCurrencyRelated{!quoteObj.Quote_Number__c}" html-data-id="{!quoteObj.Quote_Number__c}"/>
                    <apex:inputField value="{!quoteObj.Local_Amount_of_PC__c}" label="PC Costs Only (Local Amount)" styleclass="commonPCLocalAmount PCLocalAmount{!quoteObj.Quote_Number__c}" html-data-id="{!quoteObj.Quote_Number__c}" />
                    <apex:inputText value="{!quoteObj.PC_Costs_Euro_Amount__c}" label="PC Costs Only (Euro Amount)" styleclass="commonPCEuroAmount PCEuroAmount{!quoteObj.Quote_Number__c}"  html-readonly="true" html-data-id="{!quoteObj.Quote_Number__c}"/>  
                    <apex:inputField value="{!quoteObj.Is_the_PPC_part_of_the_Roster__c}" label="Is the PPC part of the Roster?"/>
                    <apex:inputField value="{!quoteObj.PPC_Name__c}" label="PPC Name" />
                    <apex:inputField value="{!quoteObj.PPC_Country__c}"  label="PPC Country Location"/>
                    <apex:inputField value="{!quoteObj.Local_Currency_of_PPC_Costs__c}" label="PPC Costs Only (Local Currency)" styleclass="commonCurrencyRelatedPPC commonCurrencyRelatedPPC{!quoteObj.Quote_Number__c}" html-data-id="{!quoteObj.Quote_Number__c}"/>
                    <apex:inputField value="{!quoteObj.Local_Amount_of_PPC__c}" label="PPC Costs Only (Local Amount)" styleclass="commonPPCLocalAmount PPCLocalAmount{!quoteObj.Quote_Number__c}" html-data-id="{!quoteObj.Quote_Number__c}"/>
                    <apex:inputtext value="{!quoteObj.PPC_Costs_Euro_Amount__c}" label="PPC Costs Only (Euro Amount)" styleclass="commonPPCEuroAmount PPCEuroAmount{!quoteObj.Quote_Number__c}"  html-readonly="true" html-data-id="{!quoteObj.Quote_Number__c}"/>
                    <apex:inputtext value="{!quoteObj.CA_Additional_agency_Name__c}" label="CA/Additional agency Name"/>
                    <apex:inputField value="{!quoteObj.CA_Location__c}" label="CA Location"/>
                    <apex:inputField value="{!quoteObj.Local_Currency_of_CA_Costs__c}"  label="CA Costs Only (Local Currency)" styleclass="commonCurrencyRelatedCA commonCurrencyRelatedCA{!quoteObj.Quote_Number__c}" html-data-id="{!quoteObj.Quote_Number__c}"/>
                    <apex:inputField value="{!quoteObj.Local_Amount_of_CA__c}" label="CA Costs Only (Local Amount)" styleclass="commonCALocalAmount CALocalAmount{!quoteObj.Quote_Number__c}" html-data-id="{!quoteObj.Quote_Number__c}"/>
                    <apex:inputText value="{!quoteObj.CA_Costs_Euro_Amount__c}" label="CA Costs Only (Euro Amount)" styleclass="commonCAEuroAmount CAEuroAmount{!quoteObj.Quote_Number__c}"  html-readonly="true" html-data-id="{!quoteObj.Quote_Number__c}"/>
                     <!-- <apex:inputField value="{!quoteObj.Total_Cost__c}" label="Total Cost"/>-->
                </div>
                </div>
                </apex:repeat>
                
            </apex:pageBlockSection>
            <apex:commandButton action="{!SaveQuoteAndSavingData}" value="Save"/>
        </apex:pageBlock>
        <apex:pageBlock >
            <apex:pageBlockSection title="Accepted Quotes and Documents">
                <apex:inputFile value="{!document.body}" filename="{!document.name}"/>
                <apex:commandButton action="{!UploadAcceptedquoteDoc}" value="Upload"/>
                
                <apex:pageBlockTable value="{!attachedList}" var="fileObj" rendered="{!if(attachedList.size>0,true,false)}" id="files">
                     <apex:column >
                     <apex:commandLink action="{!deleteDocument}">x
                     <apex:param name="one" value="{!fileObj.id}" assignTo="{!IdDeleted}"/>    
                     </apex:commandLink>
                     </apex:column>
                     
                     <apex:column >
                     <apex:outputLink value="/sfc/servlet.shepherd/version/renditionDownload?rendition=THUMB720BY480&versionId={!fileObj.RelatedRecordId}" target="_blank">Preview</apex:outputLink> 
                     </apex:column>
                     <apex:column >
                     <apex:outputLink value="/sfc/servlet.shepherd/version/download/{!fileObj.RelatedRecordId}" >{!fileObj.ContentFileName}</apex:outputLink>
                     </apex:column>
                     <apex:column >
                      <apex:outputText value="{0,date,dd/MM/yy}">
                       <apex:param value="{!fileObj.CreatedDate}" />
                     </apex:outputText>
                 
                     </apex:column>
                     <apex:column >
                      {!fileObj.CreatedBy.name}
                     </apex:column>
                </apex:pageBlockTable>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Additional Quotes and Documents">
                <apex:inputFile value="{!document.body}" filename="{!document.name}"/>
                <apex:commandButton action="{!UploadAdditionalDoc}" value="Upload"/>
                
                <apex:pageBlockTable value="{!attachedListSaving}" var="fileObj" rendered="{!if(attachedListSaving.size>0,true,false)}" id="files">
                     <apex:column >
                     <apex:commandLink action="{!deleteDocumentSaving}">x
                     <apex:param name="one" value="{!fileObj.id}" assignTo="{!IdDeletedSaving}"/>    
                     </apex:commandLink>
                     </apex:column>
                     
                     <apex:column >
                     <apex:outputLink value="/sfc/servlet.shepherd/version/renditionDownload?rendition=THUMB720BY480&versionId={!fileObj.RelatedRecordId}" target="_blank">Preview</apex:outputLink> 
                     </apex:column>
                     
                     <apex:column >
                     <apex:outputLink value="/sfc/servlet.shepherd/version/download/{!fileObj.RelatedRecordId}" >{!fileObj.ContentFileName}</apex:outputLink>
                     </apex:column>
                     <apex:column >
                     <apex:outputText value="{0,date,dd/MM/yy}">
                       <apex:param value="{!fileObj.CreatedDate}" />
                     </apex:outputText>
                 
                     </apex:column>
                     <apex:column >
                      {!fileObj.CreatedBy.name}
                     </apex:column>
                </apex:pageBlockTable>
            </apex:pageBlockSection>
        </apex:pageBlock>
        
        <div class="inner_heading_sub_section margin-btwn-inner-container margin-top18">
          <h4>                             
             Appraisal                                
          </h4> 
     </div>
     
     
      <apex:pageBlock >
        <apex:pageBlockSection collapsible="false">
              <div class = "main-container" id="mainclass">
        <div class = "category-container">
  
         <!-- By utkarsh -->
                                             <div class="holder-class" data-id="sendPcTimeMangCategory">
                                        <div class="categoryStyleHeader">PC Appraisal</div>
                                        <div class="categoryStyle" style="margin-top:20px;border-radius: 6px 0 0;"><label>Time Management  </label>
                                        </div>
                                        <div class="sendPcTimeMangCategory sendPcTimeMangCategory"  > <!-- {!savObj.Id} -->
                                            <span class="common pc-time-cat" rel= "1"></span>
                                            <span class="common pc-time-cat" rel= "2"><i></i></span>
                                            <span class="common pc-time-cat" rel= "3"><i></i></span>
                                            <span class="common pc-time-cat" rel= "4"><i></i></span>
                                            <span class="common pc-time-cat" rel= "5"></span>  
                                        </div>                                      
                                    </div>
                                    <div class="holder-class" data-id="sendPcCostMangCategory">
                                        <div class="categoryStyle"><label>Cost Management  </label>
                                        </div>
                                        <div class="sendCaOutputQualityCategory sendPcCostMangCategory">    <!-- {!savObj.Id} -->
                                            <span class="common pc-cost-cat" rel= "1"></span>
                                            <span class="common pc-cost-cat" rel= "2"><i></i></span>
                                            <span class="common pc-cost-cat" rel= "3"><i></i></span>
                                            <span class="common pc-cost-cat" rel= "4"><i></i></span>
                                            <span class="common pc-cost-cat" rel= "5"></span>      
                                        </div>
                                    </div>
                                    <div class="holder-class" data-id="sendPcProcessMangCategory"> 
                                        <div class="categoryStyle"><label>Process Management</label>
                                        </div>
                                        <div class="sendCaOutputQualityCategory sendPcProcessMangCategory">    <!-- {!savObj.Id} -->
                                            <span class="common pc-process-cat" rel= "1"></span>
                                            <span class="common pc-process-cat" rel= "2"><i></i></span>
                                            <span class="common pc-process-cat" rel= "3"><i></i></span>
                                            <span class="common pc-process-cat" rel= "4"><i></i></span>
                                            <span class="common pc-process-cat" rel= "5"></span>      
                                        </div>
                                    </div>
                                    <div class="holder-class" data-id="sendPcOutputQualityCategory">    
                                        <div class="categoryStyle" style="border-radius: 0 6px 0 0;"><label>Output Quality </label>
                                        </div>
                                        <div class="sendCaOutputQualityCategory sendPcOutputQualityCategory">    <!-- {!savObj.Id} -->
                                            <span class="common pc-output-cat" rel= "1"></span>
                                            <span class="common pc-output-cat" rel= "2"><i></i></span>
                                            <span class="common pc-output-cat" rel= "3"><i></i></span>
                                            <span class="common pc-output-cat" rel= "4"><i></i></span>
                                            <span class="common pc-output-cat" rel= "5"></span>      
                                        </div>  
                                    </div>                                                                          
                                </div>
                                <div class = "category-container">
                        <label style ="font-size:20px; font-weight:bold;display:none;"> PPC Appraisal </label>
                        <div class="holder-class" data-id="sendPpcTimeMangCategory">
                            <div class="categoryStyleHeader">PPC Appraisal</div>
                            <div class="categoryStyle" style="margin-top:20px;border-radius: 6px 0 0;"><label>Time Management </label>
                            </div>
                            <div class=" sendCaOutputQualityCategory sendPpcTimeMangCategory">        <!-- {!savObj.Id} -->
                                <span class="common ppc-time-cat" rel= "1"></span>
                                <span class="common ppc-time-cat" rel= "2"><i></i></span>
                                <span class="common ppc-time-cat" rel= "3"><i></i></span>
                                <span class="common ppc-time-cat" rel= "4"><i></i></span>
                                <span class="common ppc-time-cat" rel= "5"></span>  
                            </div>
                          </div>
                          <div class="holder-class" data-id="sendPpcCostMangCategory"> 
                                <div class="categoryStyle"><label>Cost Management  </label>
                                </div>
                                <div class="sendCaOutputQualityCategory sendPpcCostMangCategory">        <!-- {!savObj.Id} -->
                                    <span class="common ppc-cost-cat" rel= "1"></span>
                                    <span class="common ppc-cost-cat" rel= "2"><i></i></span>
                                    <span class="common ppc-cost-cat" rel= "3"><i></i></span>
                                    <span class="common ppc-cost-cat" rel= "4"><i></i></span>
                                    <span class="common ppc-cost-cat" rel= "5"></span>      
                                </div>
                           </div>
                           <div class="holder-class" data-id="sendPpcProcessMangCategory"> 
                                <div class="categoryStyle"><label>Process Management</label>
                                </div>
                                <div class="sendCaOutputQualityCategory sendPpcProcessMangCategory">        <!-- {!savObj.Id} -->
                                    <span class="common ppc-process-cat" rel= "1"></span>
                                    <span class="common ppc-process-cat" rel= "2"><i></i></span>
                                    <span class="common ppc-process-cat" rel= "3"><i></i></span>
                                    <span class="common ppc-process-cat" rel= "4"><i></i></span>
                                    <span class="common ppc-process-cat" rel= "5"></span>      
                                </div>
                            </div>
                            <div class="holder-class" data-id="sendPpcOutputQualityCategory">
                                <div class="categoryStyle" style="border-radius: 0 6px 0 0;"><label>Output Quality </label>
                                </div>
                                <div class="sendCaOutputQualityCategory sendPpcOutputQualityCategory">        <!-- {!savObj.Id} -->
                                    <span class="common ppc-output-cat" rel= "1"></span>
                                    <span class="common ppc-output-cat" rel= "2"><i></i></span>
                                    <span class="common ppc-output-cat" rel= "3"><i></i></span>
                                    <span class="common ppc-output-cat" rel= "4"><i></i></span>
                                    <span class="common ppc-output-cat" rel= "5"></span>      
                                </div>
                            </div>   
                        </div>
                
                    <div class = "category-container">
                        <label style ="font-size:20px; font-weight:bold;display:none;"> CA Appraisal </label>
                        <div class="holder-class" data-id="sendCaTimeMangCategory">
                            <div class="categoryStyleHeader">CA Appraisal</div>
                            <div class="categoryStyle" style="margin-top:20px;border-radius: 6px 0 0;"><label>Time Management </label>
                            </div>
                            <div class="sendCaOutputQualityCategory sendCaTimeMangCategory">        <!-- {!savObj.Id} -->
                                <span class="common ca-time-cat" rel= "1"></span>
                                <span class="common ca-time-cat" rel= "2"><i></i></span>
                                <span class="common ca-time-cat" rel= "3"><i></i></span>
                                <span class="common ca-time-cat" rel= "4"><i></i></span>
                                <span class="common ca-time-cat" rel= "5"></span>  
                            </div>
                         </div>
                         <div class="holder-class" data-id="sendCaCostMangCategory">  
                            <div class="categoryStyle"><label>Cost Management</label>
                            </div>
                            <div class="sendCaOutputQualityCategory sendCaCostMangCategory">        <!-- {!savObj.Id} -->
                                <span class="common ca-cost-cat" rel= "1"></span>
                                <span class="common ca-cost-cat" rel= "2"><i></i></span>
                                <span class="common ca-cost-cat" rel= "3"><i></i></span>
                                <span class="common ca-cost-cat" rel= "4"><i></i></span>
                                <span class="common ca-cost-cat" rel= "5"></span>      
                            </div>
                        </div>
                        <div class="holder-class" data-id="sendCaProcessMangCategory">
                            <div class="categoryStyle"><label>Process Management</label>
                            </div>
                            <div class="sendCaOutputQualityCategory sendCaProcessMangCategory">        <!-- {!savObj.Id} -->
                                <span class="common ca-process-cat" rel= "1"></span>
                                <span class="common ca-process-cat" rel= "2"><i></i></span>
                                <span class="common ca-process-cat" rel= "3"><i></i></span>
                                <span class="common ca-process-cat" rel= "4"><i></i></span>
                                <span class="common ca-process-cat" rel= "5"></span>      
                            </div>
                        </div>
                        <div class="holder-class" data-id="sendCaOutputQualityCategory">
                        
                            <div class="categoryStyle" style="border-radius: 0 6px 0 0;"><label>Output Quality</label>
                            </div>
                            <div class="sendCaOutputQualityCategory sendCaOutputQualityCategory">    <!-- {!savObj.Id} -->
                                <span class="common ca-output-cat" rel= "1"></span>
                                <span class="common ca-output-cat" rel= "2"><i></i></span>
                                <span class="common ca-output-cat" rel= "3"><i></i></span>
                                <span class="common ca-output-cat" rel= "4"><i></i></span>
                                <span class="common ca-output-cat" rel= "5"></span>      
                            </div>
                        
                    </div>                     
                
            <!-- End by Utkarsh -->
        <div class="clear"></div>   
    </div>
    
</div>


        </apex:pageBlockSection>
      </apex:pageBlock>
       <apex:actionRegion >
       <apex:commandLink action="{!allValues}" value="Submit" status="actStatusIdQuote3" ReRender="mainclass,msg" styleclass="commonbtn-blue anchorsubmitbtn right margin-top18" />
        <div class="clear">         
        </div>
       <apex:actionStatus id="actStatusIdQuote3" >
                                            <apex:facet name="start" >
                                                <img src="/img/loading.gif" />                    
                                            </apex:facet>
                                        </apex:actionStatus>
    
    <apex:actionFunction name="sendPcTimeMangCategory" action="{!getCaProcessMangCategory}" reRender="mainclass" oncomplete="closeloading()">
   <apex:param id="pccattimename" assignTo="{!pcTimeMangCategoryValue}" name="sendPcTimeMangCategory"  value="{!pcTimeMangCategoryValue}" />
   <apex:param id="pccattimeclass" assignTo="{!pcTimeMangCategoryClass}" name="pcTimeMangCategoryClass"  value="{!pcTimeMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPcCostMangCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="pccatcostname" assignTo="{!pcCostMangCategoryValue}" name="sendPcCostMangCategory"  value="{!pcCostMangCategoryValue}" />
   <apex:param id="pccattcostclass" assignTo="{!pcCostMangCategoryClass }" name="pcCostMangCategoryClass "  value="{!pcCostMangCategoryClass }" />
</apex:actionFunction>

<apex:actionFunction name="sendPcProcessMangCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="pccatprocessname" assignTo="{!pcProcessMangCategoryValue}"  name="sendPcProcessMangCategory" value="{!pcProcessMangCategoryValue}" />
   <apex:param id="pccatprocssclass" assignTo="{!pcProcessMangCategoryClass}" name="pcProcessMangCategoryClass"  value="{!pcProcessMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPcOutputQualityCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="pccatoutput" assignTo="{!pcOutputQualityCategoryValue}" name="sendPcOutputQualityCategory"  value="{!pcOutputQualityCategoryValue}" />
   <apex:param id="pccatoutputclass" assignTo="{!pcOutputQualityCategoryClass}" name="pcOutputQualityCategoryClass"  value="{!pcOutputQualityCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPpcTimeMangCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="pcccattimename" assignTo="{!pccTimeMangCategoryValue}" name="sendPpcTimeMangCategory" value="{!pccTimeMangCategoryValue}" />
   <apex:param id="pcttimeclass" assignTo="{!pccTimeMangCategoryClass}" name="pccTimeMangCategoryClass"  value="{!pccTimeMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPpcCostMangCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="pcccatcostname" assignTo="{!pccCostMangCategoryValue }"  name="sendPpcCostMangCategory" value="{!pccCostMangCategoryValue }" />
   <apex:param id="pcccatcostclass" assignTo="{!pccCostMangCategoryClass}" name="pccCostMangCategoryClass"  value="{!pccCostMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPpcProcessMangCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="pcccatprocessname" assignTo="{!pccProcessMangCategoryValue}"  name="sendPpcProcessMangCategory" value="{!pccProcessMangCategoryValue}" />
   <apex:param id="pcccatprocessclass" assignTo="{!pccProcessMangCategoryClass}" name="pccProcessMangCategoryClass"  value="{!pccProcessMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendPpcOutputQualityCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="pcccatoutput" assignTo="{!pccOutputQualityCategoryValue }" name="sendPpcOutputQualityCategory"   value="{!pccOutputQualityCategoryValue }" />
   <apex:param id="pcccatoutputclass" assignTo="{!pccOutputQualityCategoryClass}" name="pccOutputQualityCategoryClass"  value="{!pccOutputQualityCategoryClass}" />
</apex:actionFunction>


<apex:actionFunction name="sendCaTimeMangCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="cacattimename" assignTo="{!caTimeMangCategoryValue}" name="sendCaTimeMangCategory" value="{!caTimeMangCategoryValue}" />
   <apex:param id="cacattimeclass" assignTo="{!caTimeMangCategoryClass}" name="caTimeMangCategoryClass"  value="{!caTimeMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendCaCostMangCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="cacatcostname" assignTo="{!caCostMangCategoryValue}" name="sendCaCostMangCategory"  value="{!caCostMangCategoryValue}" />
   <apex:param id="cacatcostclass" assignTo="{!caCostMangCategoryClass }" name="caCostMangCategoryClass "  value="{!caCostMangCategoryClass }" />
</apex:actionFunction>

<apex:actionFunction name="sendCaProcessMangCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="cacatprocessname" assignTo="{!caProcessMangCategoryValue}" name="sendCaProcessMangCategory"  value="{!caProcessMangCategoryValue}" />
   <apex:param id="cacatprocessclass" assignTo="{!caProcessMangCategoryClass}" name="caProcessMangCategoryClass"  value="{!caProcessMangCategoryClass}" />
</apex:actionFunction>

<apex:actionFunction name="sendCaOutputQualityCategory" action="{!getCaProcessMangCategory}" reRender="view" oncomplete="closeloading()">
   <apex:param id="cacatoutput" assignTo="{!caOutputQualityCategoryValue }"  name="sendCaOutputQualityCategory" value="{!caOutputQualityCategoryValue}" />
   <apex:param id="cacatoutputclass" assignTo="{!caOutputQualityCategoryClass}" name="caOutputQualityCategoryClass"  value="{!caOutputQualityCategoryClass}" />
</apex:actionFunction>
</apex:actionRegion>
    </apex:form>
</apex:page>