<!-- 
   Page Name :  Core_IC_IdeationHomePage
   Author : Mindtree
   Date : 1/6/15
   Requirement/Project Name: Chatter Approval
   Description: Template page used for Ideation                 
 --> 
<apex:page showHeader="false" sidebar="false" standardStylesheets="false"  docType="html-5.0" cache="false" applyBodyTag="false" applyHtmlTag="false">
<html>
    <head>
        <style>
            @font-face {
                font-family: Proxima Nova Soft !important;
                src: url({!$Resource.ProximaNovaSoft});
            }
            .homePageSectionTitle, .homePageSectionLink, .title, .subText, .homePageMyUpdatesBodyText, .bodyText, .ideationCampaignImageBlockSubText, .ideationCampaignImageBlockCampaignTitle, .notificationMessageForMyUpdates, .headerBarButton, .filter-striped-menu, .action-text-area, .action-text-area-error{
                font-family: Proxima Nova Soft;
            }
        </style>
        <script>
        <!--alert('{!$User.Username}');-->
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
            ga('create', '{!$Setup.Core_Ideation_heirarchical__c.GoogleAnalyticsId__c}', 'auto');
            var userId = '{!$User.Id}';
            var userCountry = '{!$User.Country}';
            ga('set', 'dimension1', userId);
            ga('set', 'dimension2', userCountry);   
            ga('send', 'pageview');
        </script>
    </head>
    <c:RemoteServiceCallComponent />
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta content='True' name='HandheldFriendly' />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, height=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1" />
        
    <!--Bootstrap CSS-->
    <apex:stylesheet value="{!URLFOR($Resource.Core_IC_IdeationApp,'css/bootstrap.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.Core_IC_IdeationApp,'css/ideation.css')}" />
    <script>       
        window.authenticatedUser = {};
        authenticatedUser.id = '{!$User.Id}';
        authenticatedUser.sessionId = '{!$Api.Session_ID}';
        
        var remoteTKClient = new remotetk.Client();
        window.RESOURCE_ROOT = "{!URLFOR($Resource.Core_IC_IdeationApp, '')}";
        if(window.RESOURCE_ROOT.indexOf("?") != -1)
            window.RESOURCE_ROOT = window.RESOURCE_ROOT.substring(0, window.RESOURCE_ROOT.indexOf("?"));
        window.LANGUAGE = "en-US";
    </script>
    
    
    <!--[if IE]>
        <style>
            .bodyStructure {
                 padding-right: 10px !important;
            }
        </style>
    <![endif]-->
    
    <!--Require JS-->  
    <script type="text/javascript" src="{!URLFOR($Resource.Core_IC_IdeationApp, 'js/require.js')}" 
                                data-main="{!URLFOR($Resource.Core_IC_IdeationApp, 'js/main.js')}"></script>
    <meta name="msapplication-tap-highlight" content="no" />
    <title>Ideas App</title>  
    <body ng-controller="baseController" class="homePageBackground" >
    
    <script type="text/javascript">
       var strideaId = getQueryVariable('ideaId');
       var strcampaignId = getQueryVariable('campaignId');
       
       function getQueryVariable(param) {    
           var query = window.location.search.substring(1);
           var vars = query.split("&");
           for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if (pair[0] == param) {
                   return(pair[1]); 
                }
           } 
           return(false);
       } 
    </script>
    
        <div class="bodyStructure" >
             <ui-view> </ui-view>
       </div>
       <iframe style='display:none' src="/apex/Core_IC_IdeationCacheImages" />
   </body>
   <script>
        window.onkeydown=function(){window.focus();}        
    </script>        
</html>
</apex:page>