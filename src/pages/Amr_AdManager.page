<apex:page controller="Amr_LoggingFormController" title="AdManager" sidebar="false" action="{!Redirect}">
	<apex:pageMessages id="showmsg"></apex:pageMessages>
	<head>
		<apex:includeScript value="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"/>
		<script type="text/javascript">						
			var agencyFlag      = true;
			var projectFlag 	= true;			
			
			$ = jQuery.noConflict();
			
			function transferValue(projName)
			{			
			  if(projName!=="--None--") {  
					$('.projecttextProjDetail').val(projName);			
				}
			}
			
			function callActionFunctionProjectName(projectName) {		
				callContrlProjectName(projectName);
			}  
			
			
			function Calculate() {                  
			    var selectedValue   = $('.selectedIdClass').val();
			    var localValue      = $('.inputIdClass').val();   
			  
			    
				    if(localValue!==null && localValue !=="") {  
				        if(selectedValue  !=='--None--'){
				    localValue = parseInt(localValue);    
				    var finalValue =localValue/selectedValue;
				    finalValue=finalValue.toFixed(2);   
				    $('.outputIdClass').val(finalValue);
				    }
			   	}			    
			}
			
			function isNumber(evt) {
			    evt = (evt) ? evt : window.event;
			    var charCode = (evt.which) ? evt.which : evt.keyCode;
			    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
			    	return false;
				}
			    return true;
			}
			
			function enableText() {  			            
			    $('.outputIdClass').removeAttr('disabled');			    
			    $('.defaultTv').removeAttr('disabled');
			    $('.defaultCinema').removeAttr('disabled');
			    $('.defaultRadio').removeAttr('disabled');
			    $('.defaultPrint').removeAttr('disabled');
			    $('.defaultInternalVideo').removeAttr('disabled');     			                 
			}
			
			$(document).ready(function() {
			    
			    //transferValue();
			    		    
			    $('.defaultTv').attr('disabled','disabled');
			    $('.defaultCinema').attr('disabled','disabled');
			    $('.defaultRadio').attr('disabled','disabled');
			    $('.defaultPrint').attr('disabled','disabled');
			    $('.defaultInternalVideo').attr('disabled','disabled');
			              
			
			
			
			    //Default popup for your email address                
			    $('.your_email_address').val( $('.your_email_address').attr('default-value') );
			    
			    //Auto calculation                                                
			    $('.outputIdClass').attr('disabled', 'disabled');
			    $('.outputIdClass').css('background', '#EFEFEF');
			    
			    // Agency logic
			    			    
			    if($('.agencytext').val().length>0) {
				      $('.agencytext').show();
				      $('.agencypick').hide();
				      $('.agencypick option').prop('selected', false);
				      $('.agencyother').text('Cancel');
				      agencyFlag = false;
			    } else {
			     $('.agencytext').val('');
			     $('.agencytext').hide();
			    }
			                
			    $('.agencyother').click(function(e) {
			        e.preventDefault();
				     if(agencyFlag == true){
				      $('.agencypick').hide();
				      $('.agencypick option').prop('selected', false);
				      $('.agencytext').show();
				      $('.agencyother').text('Cancel');
				      agencyFlag = false;
			     } else {
				      $('.agencytext').val('');
				      $('.agencytext').hide();
				      $('.agencypick').show(); 
				      $('.agencyother').text('Other');
				      agencyFlag = true;
			     }
			    });  
			    
			    if( $('.projecttextProjDetail').val().length>0){
			        var projDeatVal =$('.projecttextProjDetail').val();
			         $('.projectpick').val(projDeatVal);
			    } 
			    
			    // Project info logic
			    if($('.projecttext').val().length>0) {
			     $('.projecttext').show();
			     $('.projectpick').hide();
			     $('.projectpick option').prop('selected', false);
			     $('.projectotherClass').text('Cancel');
			     projectFlag = false;
			    } else { 
			    	$('.projecttext').val('');
			    	$('.projecttext').hide();
			    	$('.projectpick').show(); 
			      	$('.projectotherClass').text('Other');
			      	projectFlag = true;   
			    }
			  
			    $('.projectotherClass').click(function(e) {
			     e.preventDefault();                    
			     if(projectFlag == true) {                   
				      $('.projectpick').hide();
				      $('.projectpick option').prop('selected', false);
				      $('.projecttext').show();
				      $('.projectotherClass').text('Cancel');
				      projectFlag = false;
			     } else {
				      $('.projecttext').val('');
				      $('.projecttext').hide();
				      $('.projectpick').show(); 
				      $('.projectotherClass').text('Other');
				      projectFlag = true;
			     }
			    });
			    
			    // production activity logic 
			    //1. if none selected, dont show anything and only one master can be selected
			    
			    var masterselection = true;
			    $('.master').click(function() {
			    	if(this.checked) {
			    		$('.amr-media-channel-master').show();
			    		$('.amr-media-master').show();
			    		masterselection = true;
			    		
			    		//disable master or other-master
			    		if($(this).hasClass('original_master')) {
			    			$('.other_master').attr('disabled', 'disabled');
			    		} else {
			    			$('.original_master').attr('disabled', 'disabled');
			    		}
			    		
			    	} else {
			    	
			    		$('.original_master').removeAttr('disabled');
			    		$('.other_master').removeAttr('disabled');
			    		
			    		masterselection = false;
			    		$('.master').each(function() {			    						    			
			    			if(this.checked) {
	                    		masterselection = true;    	
                    		}
			    		});
			    		
			    		if( masterselection == false ) {
			    			$('.amr-media-channel-master').hide();
			    			$('.amr-media-master').hide();
			    			
			    			/* not working */
			    			
			    			$('.mediamasterdiv input:checkbox').each( function() {
			    				$(this).prop('checked', false);
			    			});
			    			
			    			$('.submediamasterdiv input:checkbox').each( function() {
			    				$(this).prop('checked', false);
			    			});			    			
			    		}			    					    		
			    	}
			    });
			    
			    
			    // 2. default value selected
			    
			    $('.additional').click(function() {
	                selectedDefault = $(this).attr('data-id');
	                if(this.checked) {                    
	                    $('.'+selectedDefault).prop('checked', true);                   
	                } else {                
	                    $('.'+selectedDefault).prop('checked', false);
	                }
            	});			    
			    			    
			});
			
		</script>
		<style type="text/css">
			@font-face {
			font-family: 'dinOffPro';
			src: url("{!URLFOR($Resource.Ad_Manager, 'Ad-Manager/fonts/UnileverDINOffcPro.ttf')}"); /* IE9 Compat Modes */
			}
			@font-face {
			font-family: 'dinOffPro-Bold';
			src: url("{!URLFOR($Resource.Ad_Manager, 'Ad-Manager/fonts/UnileverDINOffcPro-Bold.ttf')}"); /* IE9 Compat Modes */
			}
			@font-face {
			font-family: 'dinOffPro-BoldIta';
			src: url("{!URLFOR($Resource.Ad_Manager, 'Ad-Manager/fonts/UnileverDINOffcPro-BoldIta.ttf')}"); /* IE9 Compat Modes */
			}
			@font-face {
			font-family: 'dinOffPro-Ita';
			src: url("{!URLFOR($Resource.Ad_Manager, 'Ad-Manager/fonts/UnileverDINOffcPro-Ita.ttf')}"); /* IE9 Compat Modes */
			}
			body{background:#fff;margin:0 auto;}
			body{background:#fff;margin:0 auto;font-size: 12px;}
			/* Ad Main section CSS */
			.container{            	 
			margin: 0 auto;
			}
			.navbar-header{background:#F6F6F6;}
			.navbar-header img{float:left;}
			.clear{clear:both;}
			.form-control { border-radius: 30px 0 0 30px;padding: 0 100px 0 8px; height: 25px;border:2px solid #dcdcdc;}
			.form-groupright {padding: 20px;float:left;padding: 20px 0 20px 150px;}
			.btn {border-radius: 30px;}
			.btn-default {background-color:#fbf9fc;border: medium none;border-bottom-left-radius: 0;border-top-left-radius: 0;color: #1796BF;padding: 5px 10px 5px 0;font-weight:bold;font-size:12px;}
			#myNavbar{float:right;display:inline;}
			#myNavbar a{text-decoration:none;padding: 20px 15px 0px 20px;display:block;color:#1796bf;}
			#myNavbar ul li {display: inline-block;list-style-type:none;color:#1796BF;font-size:12px;font-weight:bold;}
			.caret{display: inline-block;width: 0;height: 0;vertical-align: middle;border-top: 4px dashed;border-right: 4px solid transparent;border-left: 4px solid transparent;margin-left: 5px;}
			.admanager_text a{color:#fff !important;background: #1796bf none repeat scroll 0 0;border-radius: 30px;padding: 5px 30px 5px 5px !important;}
			.caret1{color:#fff;margin: 0 -21px 0 20px;}
			.subsection{background:#e1f0f5; border-bottom:solid #20b0b9 2px; padding-left:10px; padding-top: 10px;}
			.subsection > ul {margin: 0; padding:0px}
			.subsection ul li{display: inline-block;list-style-type:none;}
			.subsection a{text-decoration:none;display:block;color:#1796BF;padding: 4px 35px; font-size: 12px; border-top-left-radius:10px; border-top-right-radius:10px;}
			.subsection .active a{color:#fff; background: none repeat scroll 0 0 #20b0b9;}
			#myNavbar > ul {padding: 0 30px 0 0;}
			/* Ad sub section CSS */
			section.description{background: none repeat scroll 0 0 rgba(0, 0, 0, 0);color: #0b2f4d;line-height: 1.3em;margin-top:15px;}
			section.description h1 {font-size:0.9em;   color:#0B2F4D;}
			.description > ul {margin: 0;padding: 0;}
			.secondary-heading {margin-bottom: 10px;font-size: 0.9em;color:#0B2F4D;}
			section.description ul li {margin: 0 0 0 3em; line-height: 18px;font-size: 0.9em;color:#0B2F4D;}
			.Modify_text{font-size:0.9em;color:#0B2F4D;}
			.star {
			background: url("../images/star.png") no-repeat scroll left center rgba(0, 0, 0, 0);
			display: block;
			float: left;
			padding-left: 15px;font-size:0.9em;color:#0B2F4D;}
			section {
			overflow: hidden;
			padding: 0 0 30px;
			position: relative;
			}
			div.form-field a {
			font-size:12px;
			font-family:"dinOffPro",Verdana,"Open Sans",sans-serif !important;
			}
			div.form-field {padding:5px 10px;float:left;}
			.form-field label {clear: left;
			color:#0B2F4D;
			display: inline;
			float: left;
			line-height: 1.5em;
			margin: 0;
			padding: 4px 60px 4px 0;
			position: relative;
			text-align: right;
			width: 298px;}
			label strong {
			background: url("{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/start.png')}") no-repeat scroll center center rgba(0, 0, 0, 0);
			display: block;
			height: 1px;
			overflow: hidden;
			padding-top: 18px;
			position: absolute;
			right: 47px;
			top: 2px;
			width: 15px;
			}
			label div{background: url("{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/questionmark.png')}") no-repeat scroll center center rgba(0, 0, 0, 0);
			cursor: pointer;
			height: 1px;
			overflow: hidden;
			padding-top: 18px;
			position: absolute;
			right: 33px;
			top: 2px;
			width: 15px;}
			section h2{
			font-size: 14px;
			font-weight: bold;
			text-decoration: none;  
			background: none repeat scroll 0 0 #0085CA;
			color: #fff;
			display: block;
			padding: 8px 10px 8px 20px;
			border-radius:8px;
			margin-bottom:20px;
			font-family: 'dinOffPro', Verdana,'Open Sans', sans-serif !important;
			}
			.form-field  input[type="text"], input[type="password"] {
			margin: 1px 0px;
			padding: 2px 2px 2px 3px;
			}
			.form-field  input[type="text"], input[type="password"], .form-field button, select, textarea {
			background:#fff;
			box-sizing: border-box;
			color: #0b2f4d;
			width: 244px;
			padding: 0px 2px 0px 4px;
			border-radius: 5px;
			border: 1px solid #dcdcdc;
			height:30px;
			}
			.project-description{
			height: 90px;
			width:420px !important;}
			.starfield{ background: url("{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/star.png')}") no-repeat scroll left center rgba(0, 0, 0, 0);
			display: block;}
			#productionactivitytypegroup ul {
			float: left;
			list-style-type: none;
			width: 386px;
			padding: 0 10px 10px 0;
			}
			#productionactivitytypegroup ul li label {
			margin: 3px 0 5px;
			padding: 0;
			text-align: left;
			width: auto;
			line-height: 40px;position: relative;bottom: 18px;
			}
			#productionactivitytypegroup label input {margin-right: 10px;}
			.radiobox {
			clear: none !important;
			float: none !important;
			/* padding: 0 8px 0 16px !important; */
			top: 0;
			width: auto !important;
			left: 0;
			position:relative;
			}
			.radiobt{position: relative;
			right: 2px;}
			input[type="radio"] {
			background: none repeat scroll 0 0 rgba(0, 0, 0, 0);
			box-shadow: none;
			filter: none;
			}
			.submit_button{
			font-size: 18px;
			position: relative;
			right: 72px;
			text-align: center;
			}
			.sbutton{
			background: none repeat scroll 0 0 #2FA2C6 !important;
			color: #fff !important;
			font-weight: bold;background: none repeat scroll 0 0 #2FA2C6 !important;
			border-radius: 10px !important;
			color: #fff !important;
			font-weight: bold !important;
			padding: 5px 0 !important;
			width: 22% !important;
			}
			footer a{text-decoration:none;color: #0B2F4D;}
			footer  p{font-size:12px;text-align: right;left: 30px;
			position: relative; color: #95A4B6;}
			footer  span{color: #95A4B6 !important;}
			.form-field label input[type=checkbox]{color:#0B2F4D;border-radius:5px;}
			.checkedtext{color: #0B2F4D;}
			.radio-label{color: #0B2F4D;}
			.radio-label label{margin-right:3px;}
			.float-left{float:left;}
			.width220{width:220px;}
			td{color:#0B2F4D;}
			.before-start ul li{
			font-family: Verdana,Arial,sans-serif;
			font-size: 11px;
			}
			footer {
			font-family:"dinOffPro",Verdana,"Open Sans",sans-serif !important;
			}
			.production-activity-type-sub{
			background: #73c0d9 none repeat scroll 0 0;
			color: #fff;
			font-size: 15px;
			font-weight: bold;
			margin-bottom: 21px;
			padding: 10px;
			width: 242px;
			border-radius:8px;
			height:25px;
			}
			.before-start h1{
			font-family: 'dinOffPro', Verdana,'Open Sans', sans-serif !important;
			}
			p, label {
			font-family: 'dinOffPro', Verdana,'Open Sans', sans-serif !important;
			font-size:12px !important;
			}
			.before-start ul li {
			font-family: 'dinOffPro', Verdana,'Open Sans', sans-serif !important;
			font-size:12px !important;
			}
			/*#AllTab_Tab{
			display:none;
			}*/
		</style>
		<style type="text/css">
			.form-radio label {
			width:8px !important;
			padding: 4px 20px 4px 0;
			}
			.cursor-pointer{
			cursor:pointer;
			}
			.pos-rel{
			position:relative;
			}
			label div{
			background: url("{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/questionmark.png')}") no-repeat scroll center center rgba(0, 0, 0, 0);
			}
			label strong {
			background: url("{!URLFOR($Resource.Ad_Manager,'Ad-Manager/images/star.png')}") no-repeat scroll center center rgba(0, 0, 0, 0);
			}
			.width252{
			width:366px;
			}
			.hide{
			display:none;           
			}
			.hide2{            
			visibility: hidden;
			}
			.master-detail{
			border-left: 1px solid #1796BE;
			float: left;
			height: 430px;
			padding-left: 20px;
			width: 190px;
			}
			.sub-master-detail{
			float:left;
			width:400px;
			height:430px;
			//border-left:1px solid #1796BE;
			padding-left:20px;
			}
			/*
			.mediamasterdiv {
			height:50px;
			line-height:50px;
			width: 122px;             
			}
			*/
			.mediamasterdiv {               
			height: 35px;
			/*line-height: 50px;*/
			padding-left: 20px;
			padding-top: 10px;
			width: 230px;
			margin-top:4px;
			}
			.mediamasterdiv-selected {
			background-color: #73c0d9;
			border: 1px solid #fff;     
			border-radius:8px;   
			}
			.mediamasterdiv-selected label{             
			color: #FFFFFF !important;              
			font-family: "dinOffPro-Bold",Verdana,"Open Sans",sans-serif !important;
			border-radius: 10px;
			}
			.submediamasterdiv {
			height:50px;            
			width: 420px;         
			}                 
			.mediamasterdiv label {
			float:none !important;
			padding:0px !important;
			width:auto !important;
			}
			.submediamasterdiv label {
			float:none !important;
			padding: 0px !important;
			width:auto !important;
			}
			.form-production-activity-type label{
			float:none !important;
			}
			.other_master_parent{
			height:60px;
			}
			.form-production-activity-type {
			margin-left:38px;
			}            
			.projectotherClass, a.agencyother {
			font-family:verdana;
			font-size:12px;
			}
			.form-production-activity-type label{
			padding:0px !important;
			}
			.media-master{
			float:left;
			width:300px;            
			}
			.medium-master {
			float:left;
			width:330px;
			border-left: 1px solid #1796be;
			}
			.media-master label{
			cursor:pointer;
			}
			.sub-master-detail{
			display:none;
			}
			.production-activity-detail {
			display:none;
			}
			#home_Tab{display:none;}
		</style>
	</head>
	<body>
		<apex:form >
			<div class="container">
				<section style="margin-top:15px;" class="before-start">
					<apex:outputText value="{!r.Introduction__c}" escape="false" />
				</section>
				<section>
					<h2>Before you start..</h2>
					<p class="checkedtext">
						<apex:outputLabel >
							Have you checked with CMI if there is an existing asset in the Millward Brown TV Ad Vitality Bank that could be utilised for this JTBD?
							<span style="color: red; font-size: 12px;">*</span>
						</apex:outputLabel>
					</p>
					<div class="float-left width252 radio-label">
						<apex:selectRadio value="{!jobDetails.Check_With_CMI__c}" styleClass="radio-label">
							<apex:selectOption itemValue="Yes" itemLabel="Yes " />
							<apex:selectOption itemValue="No" itemLabel="No " />
							<apex:selectOption itemValue="Not Applicable " itemLabel="Not Applicable" />
						</apex:selectRadio>
					</div>
					<div class="float-left" style="margin-top: 5px;">
						<apex:outputLabel title="{!$ObjectType.Amr_Job_Details__c.fields.Check_With_CMI__c.inlineHelpText}" styleClass="cursor-pointer pos-rel">
							<div>?</div>
						</apex:outputLabel>
					</div>
					<div class="clear">
					</div>
				</section>
				<section>
					<h2>Unilever Information </h2>
					<div class="form-field">
						<apex:outputLabel >
							Your email address
							<strong></strong>                    
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Your_Email_Address__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Your_Email_Address__c}"  html-default-value="{!$User.Email}" styleClass="your_email_address" />
					</div>
					<div class="clear">                  
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Unilever project leader email (if different)                     
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Unilever_Project_Leader_Email__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Unilever_Project_Leader_Email__c}"  />
						<!-- html-placeholder="Email Address" -->
					</div>
					<div class="clear">                  
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Location of Unilever project leader
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Project_Leader_Cluster__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Project_Leader_Cluster__c}" />
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Project_Leader_Country__c}" />
					</div>
					<div class="clear">                  
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Unilever finance member email
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Unilever_Finance_Member_Email__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Unilever_Finance_Member_Email__c}"  />
						<!-- html-placeholder="Email Address" -->
					</div>
					<div class="clear">                  
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Final approver of material email                     
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Final_Approver_Of_Material_Email__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Final_Approver_Of_Material_Email__c}" />
						<!-- html-placeholder="Email Address"  -->
					</div>
					<div class="clear">                  
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Which function are you part of (BD/BB/Other)
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Function_You_Are_Part__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Function_You_Are_Part__c}" />
					</div>
					<div class="clear">                  
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Budget responsibility (BD, BB, Other)
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Budget_Responsibility__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Budget_Responsibility__c}" />
					</div>
					<div class="clear">                  
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Budget allocated for this activity (enter all digits)
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Allocated_Budget_euro__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:selectList value="{!selectedCountry }" size="1" id="selectedId" onchange="Calculate()" styleClass="selectedIdClass">
							<apex:selectOptions value="{!currencyRecords }" />
						</apex:selectList>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Budget_Allocated_Input_Value__c}" id="inputId" onkeypress="return isNumber(event)" onkeyup="Calculate()" styleClass="inputIdClass" html-placeholder="Local Currency" html-autocomplete="off" />
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Allocated_Budget_euro__c}" id="outputId" styleClass="outputIdClass" html-placeholder="Auto Calc to Euros" />
					</div>
					<div class="clear">                  
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Category > Brand Positioning > Brand
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Category__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:actionRegion >
							<apex:selectList value="{!categoryName}" size="1">
								<apex:actionSupport event="onchange" reRender="brandPosPick"  status="actStatusId"/>
								<apex:selectOptions value="{!CategoryList}" />
							</apex:selectList>
						</apex:actionRegion>
						<div style="width :100%; align:center;" >
							<br/>
							<apex:actionStatus id="actStatusId" >
								<apex:facet name="start" >
									<img src="/img/loading.gif" />                    
								</apex:facet>
							</apex:actionStatus>
						</div>
					</div>
					<div class="form-field">
						<apex:actionRegion >
							<apex:selectList id="brandPosPick" value="{!brandPosName}"
								size="1">
								<apex:selectOptions value="{!BrandPositioningList}" />
								<apex:actionSupport event="onchange" reRender="brandPick" status="actStatusId1" />
							</apex:selectList>
						</apex:actionRegion>
						<div style="width :100%; align:center;" >
							<br/>
							<apex:actionStatus id="actStatusId1" >
								<apex:facet name="start" >
									<img src="/img/loading.gif" />                    
								</apex:facet>
							</apex:actionStatus>
						</div>
					</div>
					<div  class="form-field">
						<apex:actionRegion >
							<apex:selectList id="brandPick" value="{!brandNameFromPage}"
								size="1">
								<apex:selectOptions value="{!BrandList}" />
							</apex:selectList>
						</apex:actionRegion>
					</div>
					<div class="clear">                  
					</div>
				</section>
				<section>
					<h2>Agency Information </h2>
					<div class="form-field">
						<apex:outputLabel >
							Lead agency name
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Lead_Creative_Agency_name__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Lead_Creative_Agency_name__c}" styleClass="agencypick" />
						<apex:inputField value="{!jobDetails.Lead_Agency_Name_Other__c}" styleClass="agencytext" html-placeholder="New Agency" />
					</div>
					<div class="form-field" style="margin-top:13px;">
						<a class="agencyother" href="#"> Other </a>
					</div>
					<div class='clear'>
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Lead agency location
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Lead_Agency_Location_Cluster__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Lead_Agency_Location_Cluster__c}" />
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Lead_Agency_Location_Country__c}" />
					</div>
					<div class='clear'>
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Agency contact or account director email
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Agency_Contact_Account_Director_Email__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Agency_Contact_Account_Director_Email__c}"  />
						<!-- html-placeholder="Email Address" -->
					</div>
					<div class='clear'>
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Digital agency name (if applicable)                            
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Digital_Agency_Name__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Digital_Agency_Name__c}"  />
						<!-- html-placeholder="Digital Agency" -->
					</div>
					<div class='clear'>
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Any other agencies involved?                            
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Any_other_agencies_involved__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Any_other_agencies_involved__c}" />
						<!-- html-placeholder="Other Agency"  -->
					</div>
					<div class='clear'>
					</div>
				</section>
				<section>
					<h2>Overview of Project </h2>
					<div class="form-field">
						<apex:outputLabel >
							Project name (e.g. Apollo)    
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Project_Details__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<!--select tag-->
						<select id="projectList" size="1" style="width: 300px;" onchange="transferValue(this.value)" class="projectpick"></select>
						<apex:actionRegion >
							<!-- <apex:selectList value="{!projectName}" size="1" html-data-id="projectpick" styleClass="projectpick" >
								<apex:selectOptions value="{!listOfProjectName }" />
								</apex:selectList>-->
							<apex:inputField value="{!jobDetails.Project_Details__c}" id="projDetailId" styleClass="projecttextProjDetail hide"/>
							<apex:inputField value="{!jobDetails.Project_Name_Other__c}" id="projDetailIdOther" styleClass="projecttext" html-data-id="projecttext" />
						</apex:actionRegion>
					</div>
					<div class="form-field" style="margin-top:13px;">
						<a href = "#" id="projectother" class="projectotherClass"> Other </a>
					</div>
					<div class="clear">
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Project location
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Project_Location_Cluster__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Project_Location_Cluster__c}" />
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Project_Location_Country__c}" />
					</div>
					<div class="clear">
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Broadcast market
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Brodcast_Market__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Brodcast_Market__c}" />
					</div>
					<div class="clear">
					</div>
					<div class="form-field">
						<apex:outputLabel >
							What type of activity will this production support?
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Production_Activity_Type__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Production_Activity_Type__c}" html-placeholder="Type Of Activity" />
					</div>
					<div class="clear">
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Project description
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Project_Description__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputtextarea value="{!jobDetails.Project_Description__c}" />
						<!-- html-placeholder="Description"  -->
					</div>
					<div class="clear">
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Campaign name (e.g. Nothing beats an astronaut) if known
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Campaign_Name__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Campaign_Name__c}"  />
						<!-- html-placeholder="Campaign Name" -->
					</div>
					<div class="clear">
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Execution name (e.g. Lifeguard or Fireman) if known
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Execution_Name__c.inlineHelpText}" ></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Execution_Name__c}"  />
						<!-- html-placeholder="Execution Name" -->
					</div>
					<div class="clear">
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Target air date (i.e. when will material be released)
							<strong></strong>
							<div title="{!$ObjectType.Amr_Job_Details__c.fields.Target_Air_Date__c.inlineHelpText}"></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Target_Air_Date__c}" />
						<!-- html-placeholder="Select Date"  -->
					</div>
					<div class="clear">
					</div>
				</section>
				<section class="production-activity-section">
					<h2>Production Activity Detail</h2>
					<div id="productionactivitytypegroup">
						<div class="form-field">
							<label>
								Production activity type (select one or more)
								<strong></strong>
								<div title="Please select one or more options based on the scope of the project/activity.  Please note your selection should be based on this registration only and should be based on one shoot/creation date as outlined above."></div>
							</label>
						</div>
					</div>
					<div class="amr_production_activity_parent">
						<div style="float:left; width:300px;">
							<div class="production-activity-type-sub">Production Activity</div>
							<div style="height:115px;">
								<div class="new_original_master_parent">
									<apex:inputfield styleClass="master original_master" value="{!jobDetails.NewOriginalMaster__c}"/>
									<apex:outputLabel > New Original Master<br/><span style="font-size:12px;">(incl. multiple executions/cutdowns within project)</span></apex:outputLabel>
								</div>
							</div>
							<div style="height:258px;">
								<div class="other_master_parent">
									<apex:inputfield styleClass="master other_master"  value="{!jobDetails.LanguageAdaptionMaster__c}"/>
									<apex:outputLabel > Language Adaptation of Master<br/><span style="font-size:12px;">(non-UniAdapt Model)</span></apex:outputLabel>
								</div>
								<div class="other_master_parent">
									<apex:inputfield styleClass="master other_master"  value="{!jobDetails.Create_Additional_Material__c}"/>
									<apex:outputLabel >Additional Supplementary New Material<br/><span style="font-size:12px;">(create additional material eg tag-on, pack, modify message)</span></apex:outputLabel>
								</div>
								<div class="other_master_parent">
									<apex:inputfield styleClass="master other_master"  value="{!jobDetails.ReworkExistingMaterial__c}"/>
									<apex:outputLabel >Rework Exisiting Material<br/><span style="font-size:12px;">(create different length/size version or simple re-edit)</span></apex:outputLabel>
								</div>
								<div class="other_master_parent">
									<apex:inputfield styleClass="master other_master"  value="{!jobDetails.BuyoutsTalent__c}"/>
									<apex:outputLabel >Buyouts - Talent<br/><span style="font-size:12px;">(includes key talent &amp; celebrity)</span></apex:outputLabel>
								</div>
								<div class="other_master_parent">
									<apex:inputfield styleClass="master other_master"  value="{!jobDetails.BuyoutsMusic__c}"/>
									<apex:outputLabel >Buyouts - Music</apex:outputLabel>
								</div>
							</div>
						</div>
						<div class="amr-media-channel-master" style="float:left;width:300px;display:none;">
							<div class="production-activity-type-sub">Media Channel</div>
							<div class="mediamasterdiv">
								<apex:inputfield styleClass="sub-master additional" html-data-id="defaultTv" html-media="Tv" value="{!jobDetails.Tv__c}"/>
								<apex:outputLabel >Tv</apex:outputLabel>
							</div>
							<div class="mediamasterdiv">
								<apex:inputfield styleClass="sub-master additional" html-data-id="defaultCinema" html-media="Cinema" value="{!jobDetails.Cinema__c}" style="margin-top: -16px;"/>
								<apex:outputLabel >Cinema</apex:outputLabel>
							</div>
							<div class="mediamasterdiv">
								<apex:inputfield styleClass="sub-master additional" html-data-id="defaultRadio" html-media="Radio" value="{!jobDetails.Radio__c}"    style=""/>
								<apex:outputLabel >Radio</apex:outputLabel>
							</div>
							<div class="mediamasterdiv">
								<apex:inputfield styleClass="sub-master additional" html-data-id="defaultPrint" html-media="Print" value="{!jobDetails.Print__c}" style=""/>
								<apex:outputLabel >Print</apex:outputLabel>
							</div>
							<div class="mediamasterdiv">
								<apex:inputfield styleClass="sub-master additional2" value="{!jobDetails.Out_Of_Home__c}" html-media="Out_of_home"  style=""/>
								<apex:outputLabel > Out of Home</apex:outputLabel>
							</div>
							<div class="mediamasterdiv">
								<apex:inputfield styleClass="sub-master additional3" value="{!jobDetails.In_Store__c}" html-media="In_store" style=""/>
								<apex:outputLabel > In Store</apex:outputLabel>
							</div>
							<div class="mediamasterdiv">
								<apex:inputfield styleClass="sub-master additional4" value="{!jobDetails.Digital__c}" html-media="Digital" />
								<apex:outputLabel > Digital </apex:outputLabel>
							</div>
							<div class="mediamasterdiv" style="height:41px;">
								<apex:inputfield styleClass="sub-master additional" html-data-id="defaultInternalVideo" value="{!jobDetails.Internal_Video__c}" html-media="Internal_video" />
								<apex:outputLabel > Internal Video <br/> <span style="font-size:12px;">(internal comms videos and guides)</span> </apex:outputLabel>
							</div>
						</div>
						<div class="amr-media-master" style="float:left;display:none;">
							<div class="production-activity-type-sub">Media</div>
							<div class="submediamasterdiv">
								<apex:inputfield styleClass="defaultTv" value="{!jobDetails.Tv_Moving_Image__c}" />
								<apex:outputLabel >Moving Image</apex:outputLabel>
							</div>
							<div class="submediamasterdiv">
								<apex:inputfield styleClass="defaultCinema" value="{!jobDetails.Cinema_Moving_Image__c}" />
								<apex:outputLabel >Moving Image</apex:outputLabel>
							</div>
							<div class="submediamasterdiv">
								<apex:inputfield styleClass="defaultRadio" value="{!jobDetails.Radio_Audio__c}" />
								<apex:outputLabel >Audio </apex:outputLabel>
							</div>
							<div class="submediamasterdiv">
								<apex:inputfield styleClass="defaultPrint" value="{!jobDetails.Print_Still_Image__c}" />
								<apex:outputLabel >Still Image </apex:outputLabel>
							</div>
							<div class="submediamasterdiv">
								<apex:inputfield value="{!jobDetails.Out_Of_Home_Moving_Image__c}" />
								<apex:outputLabel >Moving Image </apex:outputLabel>
								<apex:inputfield value="{!jobDetails.Out_Of_Home_Audio__c}" />
								<apex:outputLabel >Audio </apex:outputLabel>
								<apex:inputfield value="{!jobDetails.Out_Of_Home_Still_Image__c}" />
								<apex:outputLabel >Still Image </apex:outputLabel>
							</div>
							<div class="submediamasterdiv">
								<apex:inputfield value="{!jobDetails.In_Store_Moving_Image__c}" />
								<apex:outputLabel >Moving Image </apex:outputLabel>
								<apex:inputfield value="{!jobDetails.In_Store_Audio__c}" />
								<apex:outputLabel >Audio </apex:outputLabel>
								<apex:inputfield value="{!jobDetails.In_Store_Still_Image__c}" />
								<apex:outputLabel >Still Image</apex:outputLabel>
							</div>
							<div class="submediamasterdiv">
								<apex:inputfield value="{!jobDetails.Digital_Moving_Image__c}" />
								<apex:outputLabel >Moving Image</apex:outputLabel>
								<apex:inputfield value="{!jobDetails.Digital_Audio__c}" />
								<apex:outputLabel >Audio</apex:outputLabel>
								<apex:inputfield value="{!jobDetails.Digital_Still_Image__c}" />
								<apex:outputLabel >Still Image </apex:outputLabel>
								<apex:inputfield value="{!jobDetails.Digital_Editorial__c}" />
								<apex:outputLabel >Editorial</apex:outputLabel>
							</div>
							<div class="submediamasterdiv">
								<apex:inputfield styleClass="defaultInternalVideo" value="{!jobDetails.Internal_Video_Moving_Image__c}" />
								<apex:outputLabel >Moving Image</apex:outputLabel>
							</div>
						</div>
						<div class="clear">
						</div>
					</div>
					<div style="height:100px;">
						&nbsp;
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Do you anticipate that your production will require Music?                     
							<strong></strong>
							<!-- <div title="{!$ObjectType.Amr_Job_Details__c.fields.Require_Music__c.inlineHelpText}"></div>-->
						</apex:outputLabel>
					</div>
					<div  class="form-radio" style="margin-top:5px;">
						<apex:selectRadio value="{!jobDetails.Require_Music__c}">
							<apex:selectOption itemValue="Yes" itemLabel="Yes" />
							<apex:selectOption itemValue="No" itemLabel="No" />
						</apex:selectRadio>
					</div>
					<div class="clear">               
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Do you anticipate that your production will require Celebrity Talent?               
							<strong></strong>
							<!-- <div title="{!$ObjectType.Amr_Job_Details__c.fields.Require_Celebrity_Talent__c.inlineHelpText}"></div>-->
						</apex:outputLabel>
					</div>
					<div  class="form-radio" style="margin-top:5px;">
						<apex:selectRadio value="{!jobDetails.Require_Celebrity_Talent__c}" dir="RTL">
							<apex:selectOption itemValue="Yes" itemLabel="Yes"  />
							<apex:selectOption itemValue="No" itemLabel="No" />
						</apex:selectRadio>
					</div>
					<div class="clear">               
					</div>
					<div class="form-field">
						<apex:outputLabel >
							Current stage of your production activity                     
							<strong></strong>
							<!-- <div title="{!$ObjectType.Amr_Job_Details__c.fields.Stage_of_Production_Activity__c.inlineHelpText}"></div>-->
							<div title="If your registation is across multiple Production Activity types then please select based on the timing of the 1st activity.  If you are logging a Production Activity outside of a Master shoot (ie Adapt, Cutdown, Re-edit) your timing selection is based on the individual activity NOT based on if the master has been previously aired."></div>
						</apex:outputLabel>
					</div>
					<div class="form-field">
						<apex:inputField value="{!jobDetails.Stage_of_Production_Activity__c}" />
					</div>
					<div class="clear">
					</div>
				</section>
				<section>
					<div class="submit_button">
						<apex:commandButton value="Submit" action="{!getSubmitForm}" id="submit" onclick="enableText()" styleClass="sbutton" />
					</div>
				</section>
				<footer>
					<apex:outputText value="{!r.Footer__c}" escape="false" style="color: #95A4B6 !important;"/>
				</footer>
			</div>
			<!--action function for project name-->
			<apex:actionFunction action="{!getSubmitForm}" name="callContrlProjectName" reRender="listRefresh1">
				<apex:param name="param" value="" id="y" assignTo="{!projectNameFromPage}" />
			</apex:actionFunction>
		</apex:form>
	</body>
	<script>
		var stringArray = JSON.parse('{!MethodToPassProjectNames}');
		// alert(stringArray.length);
		for(var i=0;i<stringArray.length;i++){
		console.log(stringArray);
		     var newOption = $('<option value="'+stringArray[i]+'">'+stringArray[i]+'</option>');
		    // alert(newOption);
		     $('#projectList').append(newOption);
		}
		console.log('options'+newOption );
		     
	</script>
</apex:page>