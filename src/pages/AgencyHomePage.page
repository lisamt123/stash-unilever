<apex:page controller="AgencyHomePageController" showHeader="true" sidebar="false">
<apex:includeScript value="{!URLFOR($Resource.FancyJquery17, 'jquery.min.js')}"/>
<apex:includeScript value="{!URLFOR($Resource.ulw_brief_2_static_resources, 'static_resources/js/jquery.colorbox-min.js')}"/> 
<apex:includeScript value="{!$Resource.ChartNewJs}" loadOnReady="true"/>

<script type="text/javascript" src="{!URLFOR($Resource.fancyBox, 'fancyapps-fancyBox-2bb0da9/lib/jquery.mousewheel-3.0.6.pack.js')}"></script>

<!-- Add fancyBox -->
<link rel="stylesheet" href="{!URLFOR($Resource.fancyBox, 'fancyapps-fancyBox-2bb0da9/source/jquery.fancybox.css?v=2.1.0')}" type="text/css" media="screen" />
<script type="text/javascript" src="{!URLFOR($Resource.fancyBox, 'fancyapps-fancyBox-2bb0da9/source/jquery.fancybox.pack.js?v=2.1.0')}"></script>

<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet" href="{!URLFOR($Resource.fancyBox, 'fancyapps-fancyBox-2bb0da9/source/helpers/jquery.fancybox-buttons.css?v=1.0.3')}" type="text/css" media="screen" />
<script type="text/javascript" src="{!URLFOR($Resource.fancyBox, 'fancyapps-fancyBox-2bb0da9/source/helpers/jquery.fancybox-buttons.js?v=1.0.3')}"></script>
<script type="text/javascript" src="{!URLFOR($Resource.fancyBox, 'fancyapps-fancyBox-2bb0da9/source/helpers/jquery.fancybox-media.js?v=1.0.3')}"></script>

<link rel="stylesheet" href="{!URLFOR($Resource.fancyBox, 'fancyapps-fancyBox-2bb0da9/source/helpers/jquery.fancybox-thumbs.css?v=1.0.6')}" type="text/css" media="screen" />
<script type="text/javascript" src="{!URLFOR($Resource.fancyBox, 'fancyapps-fancyBox-2bb0da9/source/helpers/jquery.fancybox-thumbs.js?v=1.0.6')}"></script>


<script type="text/javascript" language="javascript" src="{!URLFOR($Resource.jquery_ui_1_10_4,'js/jquery-ui-1.10.4.custom.js')}"></script>
<script type="text/javascript" language="javascript" src="{!URLFOR($Resource.jquery_ui_1_10_4,'js/jquery-ui-1.10.4.custom.min.js')}"></script>
<link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.jquery_ui_1_10_4,'css/smoothness/jquery-ui-1.10.4.custom.css')}"/>
<link rel="stylesheet" type="text/css" href="{!URLFOR($Resource.jquery_ui_1_10_4,'css/smoothness/jquery-ui-1.10.4.custom.min.css')}"/>

<!-- <apex:includeScript value="{!$Resource.ChartJs}"/> -->
  <script>
  $(document).ready(function(){
    $(".outText1").hover(function(){
        $('.outText1').prop('title', {!tradDecimalPerStr}+'%');
    }
    );
    $(".outText2").hover(function(){
        $('.outText2').prop('title', {!digitDecimalPerStr}+'%');
    }
    );
    $(".outText3").hover(function(){
        $('.outText3').prop('title', {!adaptDecimalPerStr}+'%');
    }
    );
    });
    
  </script>
<script>
    

    function openHelpLink(){
        if({!isAgencyFlag}) {
         var urlStr = '{!$Label.AF_AgencyUrlLink}/servlet/servlet.FileDownload?file={!$Label.AF_DocumentId}';
         window.open(urlStr);

        }else{   
        var urlStr = '{!$Label.AF_UrlLink}/servlet/servlet.FileDownload?file={!$Label.AF_DocumentId}';
        window.open(urlStr);
        
      }
    }

    function PrintCurrentPage(){
        window.print();
    }

    
       
    
      
    
    <!--Adjust Quarter onclick action -->
    <!-- CategoryId -->
    function adjustQuarter(brandval,catname,cat,fy){
        var url ='/apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        $(document).ready(function() {
            $.fancybox({
                autoSize: false,
                width: 800,
                height: 450,
                type: 'iframe',
                titlePosition: 'inside',
                hideOnOverlayClick:'false',
                hideOnContentClick:'false',
                href: '/apex/AF_AjustBaseQuater?category='+cat+'&Year='+fy,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
               
                 afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                    parent.location.assign(url);
                }
            });
        });
    }

    <!--RaiseNewPO onclick action -->
    function raiseNewPO(brandval,catname,cat,fy){
       var url ='/apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        $(document).ready(function() {
            $.fancybox({
              autoSize: false,
                width: 800,
                height: 450,
                type: 'iframe',
                titlePosition: 'inside',
                href: '/apex/AF_RaisenewPO_Homepage_lightbox?category='+cat+'&Year='+fy,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
                afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                     parent.location.assign(url);
                }
            });
        });
    }

    function BrandAgency(brandval,catname,cat,fy){
        var url ='/apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        $(document).ready(function() {
            $.fancybox({
                autoSize: false,
                width: 600,
                height: 450,
                type: 'iframe',
                titlePosition: 'inside',
                href: '/apex/AF_BrandAgencyCombination?Year='+fy,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
                afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                    
                   parent.location.assign(url);
                }
            });
        });
    }  

    //TargetBaseFees
    function TargetBaseFees(brandval,catname,cat,fy,BrandId){
         var url ='/apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        $(document).ready(function() {
            $.fancybox({
              autoSize: false,
                width: 850,
                height: 450,
                type: 'iframe',
                titlePosition: 'inside',
                href: '/apex/AF_BrandEstimate?Id='+BrandId,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
                afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                    parent.location.assign(url);
                }
            });
        });
    }

    function AgencyMatrix(brandval,catname,cat,fy,BrandId,agencyId){
    var agencyUrl='';
    var isagency={!isAgencyFlag};
    if(isagency==true){
     agencyUrl='apex/AF_UL_BrandEstimate_Matrices?bId='+BrandId+'&fy='+fy+'&aId='+agencyId+'&brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
     var url ='apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
    }
    else{
       agencyUrl= 'apex/AF_UL_BrandEstimate_Matrices?bId='+BrandId+'&fy='+fy+'&aId='+agencyId+'&brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
       var url ='apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
    }
   
   
    $(document).ready(function() {
        $.fancybox({
              autoSize: false,
            width: 1300,
            height: 900,
            type: 'iframe',
            titlePosition: 'inside',
            href: agencyUrl,
            helpers     : { 
            overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
            },
            afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
            
                parent.location.assign(url);
            }
        });
    });
   } 
   
     function oopsMatrix(brandval,catname,cat,BrandId,fy,AgencyId){
        var navigateToURL='';
        var isagency={!isAgencyFlag};
        if(isagency==true){
         navigateToURL='apex/AF_UL_OOPS_SelectMatrices?bId='+BrandId+'&fy='+fy+'&aId='+AgencyId;
         var url ='apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        }
        else{
           navigateToURL= 'apex/AF_UL_OOPS_SelectMatrices?bId='+BrandId+'&fy='+fy+'&aId='+AgencyId;
           var url ='apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        }
     
    $(document).ready(function() {
        $.fancybox({
            autoSize: false,
            width: 1400,
            height: 800,
            type: 'iframe',                                                
            titlePosition: 'inside',
            href: navigateToURL,
            helpers     : { 
            overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
            },
            afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                parent.location.assign(url);
            }
        });
    });
    
}

 // Onclick Email to Cat Finance
function Sendemailtofinance(brandval,catname,cat,fy){
        var url ='/apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        $(document).ready(function() {
            $.fancybox({
              autoSize: false,
                width: 600,
                height: 450,
                type: 'iframe',
                titlePosition: 'inside',
                href: '/apex/AF_EmailToCatFinance?Year='+fy,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
                afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                  parent.location.assign(url);
                }
            });
        });
    }
    
    function BrandAgency(brandval,catname,cat,fy){
        var url ='/apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;

        $(document).ready(function() {
            $.fancybox({
                autoSize: false,
                width: 600,
                height: 450,
                type: 'iframe',
                titlePosition: 'inside',
                href: '/apex/AF_BrandAgencyCombination?Year='+fy,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
                afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                    
                   parent.location.assign(url);
                }
            });
        });
    }  
    
    //Onclick Batch Job copy
    function BatchJobCopy(brandval,catname,cat,BrandId,fy,AgencyId){
        var url ='/apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;

       
        $(document).ready(function() {
            $.fancybox({
              autoSize: false,
                width: 600,
                height: 450,
                type: 'iframe',
                titlePosition: 'inside',
                href: '/apex/AF_BatchProcess_Copy?Brandid='+BrandId+'&Year='+fy+'&Agencyid='+AgencyId,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
                afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                   parent.location.assign(url);
                }
            });
        });
    }

function BonusMatrix(brandval,catname,cat,BrandId,fy,AgencyId){
       var agencyUrl='';
       var returnUrl='';
        var isagency={!isAgencyFlag};
        if(isagency==true){
        agencyUrl='apex/AF_middlebonusmatrix?Brandid='+BrandId+'&Year='+fy+'&Agencyid='+AgencyId;
        returnUrl='apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        }
        else
        {
        agencyUrl='apex/AF_middlebonusmatrix?Brandid='+BrandId+'&Year='+fy+'&Agencyid='+AgencyId;
        returnUrl='apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
        }
        
        
        var url ='apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
       
        $(document).ready(function() {
            $.fancybox({
              autoSize: false,
                width: 1200,
                height: 800,
                type: 'iframe',
                titlePosition: 'inside',
                href: agencyUrl,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
                afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                  parent.location.assign(returnUrl);
                }
            });
        });
    }
    
function BonusQuartely(brandval,catname,cat,BrandId,fy,AgencyId){
       
         var url ='/apex/AgencyHomePage?brandvalue='+brandval+'&category='+catname+'::'+cat+'&Year='+fy;
       
        $(document).ready(function() {
            $.fancybox({
              autoSize: false,
                width: 1200,
                height: 800,
                type: 'iframe',
                titlePosition: 'inside',
                href: '/apex/AF_QuarterlyBonus?Brandid='+BrandId+'&Year='+fy+'&Agencyid='+AgencyId,
                helpers     : { 
                overlay : {closeClick: false} // prevents closing when clicking OUTSIDE fancybox
                },
                afterClose: function () { // USE THIS IT IS YOUR ANSWER THE KEY WORD IS "afterClose"
                  parent.location.assign(url);
                }
            });
        });
    }




</script>
    
    
<div class="container">
  <apex:form >
  
  <html>
  <apex:outputPanel id="mainSecId">
   
   <!-- Main Header Section -->
   <div class="row">            
     <div class="col-lg-12 charttable1"> 
        <table style="width: 96%;">
        <tr>
           <td style="text-align:center;width:5%"> <apex:image url="{!$Resource.logo_Unilever}" width="70px" height="70px"/> </td>        
           <td class="Agency_fees">{!$Label.Agency_Fee_Title}</td>
           <td class="Profile_Name"> {!$User.AF_UserTypeText__c} </td>
           <td class="User_Name"> {!$User.FirstName} {!$User.LastName} </td>
           <td><apex:commandButton value="Email to Cat Finance" style="height:30px;background:#004976;padding:6px 10px 10px;border-radius:5px;color:white;font-size:13px;width:150px" onclick="Sendemailtofinance('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!financialYear}'); return false;" rendered="{!isCMCOSuperFlag}"/></td>
           <td><apex:commandButton value="Batch Job Copy" style="height:30px;background:#004976;padding:6px 10px 10px;border-radius:5px;color:white;font-size:13px;width:160px" onclick="BatchJobCopy('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!financialYear}'); return false;" rendered="{!isbatchcopy }"/></td>
           <td style="text-align:center;width:5%"><apex:commandButton value="Reports" action="{!redirectToReportPage}" style=" background: none repeat scroll 0 0 #004976;border-radius: 5px;color: #FFFFFF;font-size: 13px;height: 30px;padding: 6px 10px 10px;width: 75px;"/></td>
           <!--<td style="width:10%;text-align:right;"> <apex:commandButton value="Back to Chatter" action="{!redirectToChatterPage}" style="width:120px;background:#007DBB;margin-top: 40px;margin-top: 26px;border:none;color:white;border-radius:10px;padding:10px;"/> </td> -->
           <td style="text-align:center;width:5%;padding-top:6px;padding-right: 16px;"> <apex:image url="{!$Resource.Help}" width="30px" height="30px" onclick="openHelpLink();"/> </td>
       </tr>
       </table>
  </div>    
   </div>
     
    <div class="row">           
        <div class="col-lg-12 charttable1">         
            <apex:image url="{!$Resource.header_new}" style="width:94%;height:37px;" />            
        </div>          
    </div>
<!-- End of Main Header Section -->

<!-- RollUp data section -->
<div class="row">
     <div class="col-lg-12 charttable1">
        <div style="border: 2px solid #74AE00;border-radius: 10px; padding:0.8%;width:92%;border-collapse:separate!important;float: left;">
            <div class="firstdiv">
               <div style="font-size:28px;width: 70%;"><b>{!categoryNameStr}</b></div>
                    <div style="float: left;width: 102%;/* border: 2px solid yellow; */">
                       <div style="font-size: 20px; float: left; width: 50%; padding-top: 10px;"><apex:outputLabel rendered="{!!isAgencyFlag}"> Unilever Base Fees </apex:outputLabel></div >
                       <div style="font-size: 32px; float: left; width: 46%;padding-top: 5px;/* border: 2px solid blue; */">
                           <apex:outputText value="{0,number,###,###,###}" rendered="{!!isAgencyFlag}" title="{!$Label.AF_LP_Base_Fee_Targets}">
                           €<apex:param value="{!totalUnileverFee}"/>
                           </apex:outputText>
                        </div>
                    </div>      
                            
                    <div style="float: left;width: 102%;/* border: 2px solid green; */">    
                        <div style="font-size: 20px; float: left; width: 50%; padding-top: 10px;/* border: 1px solid green; */">Agency Base Fees </div>
                        <div style="font-size: 32px; float: left; width: 47%;padding-top: 5px;/* border: 2px solid blue; */">
                            <apex:outputText value="{0,number,###,###,###}">
                                €<apex:param value="{!totalAgencyFee}"/>
                            </apex:outputText>
                        </div>
                    </div>    
              
            </div> <!-- First Div closed -->
   
            <div class="seconddiv">
                    <div>
                        <div style="font-size: 16px; font-weight: bold; width: 23%;height:18px; float: left;margin-left: 5%;/* height: 18px; *//* border: 1px solid red; */"> Cross Border PO</div >
                        <div style="font-size: 16px; width: 3%; float: left;">&nbsp;&nbsp;&nbsp;&nbsp;</div >
                        <div style="font-size: 16px; font-weight: bold; float: left; width: 21%;"> Traditional </div >
                        <div style="font-size: 16px; float: left; width: 21%; font-weight: bold;"> Digital </div >
                        <div style="float: left;font-size:16px;font-weight: bold;width: 21%;margin-left: 2px;  "> Adaptation </div >
                    </div>
                    <div>  
                        <div style="float: left; width: 21%;margin-left: 5%;"> 
                        <!--   <span class="circle">{!crosPerStr}</span>-->
                        <canvas id="mycrosscanvas" height="100" width="150"></canvas>
                        </div> 
                        <div style="float: left;width: 5%;">  <span class="circle_vertical"></span></div>
                        <div style="float: left;width: 21%;"> <!-- 
                        <span class="circle1">{!tradPerStr}%</span> -->
                        <canvas id="mytradcanvas" height="100" width="150"></canvas></div> 
                        <div style="float: left;width: 21%;"> 
                        <!--  <span class="circle1">{!digitPerStr}%</span> -->
                        <canvas id="mydigitcanvas" height="100" width="150"></canvas>
                        </div> 
                        <div style="float: left; width: 21%;"> 
                        <!--  <span class="circle1">{!adaptPerStr}%</span>  -->
                        <canvas id="myadapcanvas" height="100" width="150"></canvas>
                        </div> 
                    </div>
                    <div style="float: left;width: 100%;font-size: 16px;">
                        <div style="float: left;width: 21%;margin-left: 5%;">
                            <apex:outputText value="{0,number,###,###,###}">
                            €<apex:param value="{!totalCroBordFee}"/>
                            </apex:outputText> 
                        </div>
                        <div style="float: left; width: 5%;">&nbsp;&nbsp;&nbsp;&nbsp;</div>
                        <div style="float: left; width: 21%;">
                            
                            <apex:outputText styleclass="outText1" value="{0,number,###,###,###}">
                               
                                €<apex:param value="{!totalTraditionalFee}"/>
                                
                            </apex:outputText> 
                            
                            
                        </div>
                        
                        
                        <div style="float: left; width: 21%;">
                            <apex:outputText styleclass="outText2" value="{0,number,###,###,###}">
                                €<apex:param value="{!totalDigitalFee}"/>
                            </apex:outputText>
                            
                            
                        </div>
                        <div style="float: left; width: 21%;">
                            <apex:outputText styleclass="outText3" value="{0,number,###,###,###}">
                                €<apex:param value="{!totalAdaptiveFee}"/>
                            </apex:outputText>
                            
                        </div>
                    </div>
                   <!-- <div style="float: left;width: 100%;font-size: 16px;">
                        <div style="float: left;width: 21%;margin-left: 5%;">
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div style="float: left; width: 5%;">&nbsp;&nbsp;&nbsp;&nbsp;</div>
                        <div style="float: left; width: 21%;">
                           <apex:outputText style="color:#000080;font-size:15px;" value="{!tradDecimalPerStr}%"/> 
                            
                            
                        </div>
                        
                        
                        <div style="float: left; width: 21%;">
                            <apex:outputText style="color:#000080;font-size:15px;" value="{!digitDecimalPerStr}%"/> 
                            
                        </div>
                        <div style="float: left; width: 21%;">
                            <apex:outputText style="color:#000080;font-size:15px;" value="{!adaptDecimalPerStr}%"/>
                            
                        </div>
                    </div>-->
            </div> <!-- Second Div closed -->
        </div>  <!-- MainDiv closed -->
    </div>
</div>

<!-- FY and Category div for Internal and Agency Users -->
<apex:outputpanel id="CMCOPanelId">
<div class="row">
    <div class="col-lg-12 charttable1">
        <table style="border: 2px solid #74AE00!important;border-radius: 10px; padding:0px 0 0px 0px;width:94%;border-collapse:separate!important;margin-top: 1px;float:left;">
           <tr>
            <td style="width: 10px;">  </td>
            <td style="width: 100px;">  
                <apex:selectList value="{!financialYear}" multiselect="false" size="1" id="fyId" style="background: #FFFFFF;padding: 0px;padding-top:2px;width: 125px;color: black;height: 30px;border: 2px solid #74AE00;border-radius: 5px;font-size: 16px;" onchange="refreshPage();">
                    <apex:selectOptions value="{!financialYearOption}"></apex:selectOptions>
                </apex:selectList> 
            </td>
             
             <td style="width: 100px;">  
                <apex:selectList value="{!categoryStr}" multiselect="false" size="1" id="CatId" onchange="refreshPage();" style="background: #FFFFFF;padding:0px;width: 125px;color: black;height: 30px;border: 2px solid #74AE00;border-radius: 5px;font-size: 16px;padding-top:2px;">
                    <apex:selectOptions value="{!categoryOption}"></apex:selectOptions>
                </apex:selectList>
            </td>
            <td style="width: 160px;">  
                <apex:selectList value="{!selectedBrandOption}" multiselect="false" size="1" id="BrandId" onchange="refreshBrandPage();" style="background: #FFFFFF;padding:0px;width: 125px;color: black;height: 30px;border: 2px solid #74AE00;border-radius: 5px;font-size: 16px;padding-top:2px;">
                    <apex:selectOptions value="{!BrandsOption}"></apex:selectOptions>
                </apex:selectList>
            </td>
             
              <td style="width: 0px;">  </td>
             <td style="width: 100px;"> 
                <apex:commandButton value="Adjust Quarters" style="height:30px;background:#004976;padding:6px 6px 10px;border-radius:5px;color:white;font-size:13px;width:110px" onclick="adjustQuarter('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!financialYear}'); return false;" status="statusSaveTrip" rendered="{!AND(Not(isAgencyFlag),Not(isNotCurrentFy),NOT(isNonCMCONFinFlag))}"/>
            </td>
            
            <td style="width: 100px;"> 
                <apex:commandButton value="Raise New PO" style="height:30px;background:#004976;padding:6px 6px 10px;border-radius:5px;color:white;font-size:13px;width:110px" onclick="raiseNewPO('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!financialYear}'); return false;" rendered="{!AND(Not(isAgencyFlag),Not(isNotCurrentFy),NOT(isNonCMCONFinFlag))}"/>
            </td >
             
            <td style="width: 100px;">  
                <apex:commandButton value="Create Brand/Agency" style="height:30px;background:#004976;padding:6px 6px 10px;border-radius:5px;color:white;font-size:13px;width:150px" onclick="BrandAgency('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!financialYear}'); return false;" reRender="mainSecId" status="statusSaveTrip" rendered="{!AND(NOT(isAgencyFlag),isCMCOSuperFlag)}" />
            </td>
             <td style="width: 10px;">  </td>
           <td style="cursor: pointer; float: right; margin-right: 15px;">  
              <apex:image url="{!$Resource.print_icon}" width="40px" height="40px" title="Please click to Print " onclick="PrintCurrentPage();" /> 
             </td>
            </tr>
        </table>
    </div>
</div>
</apex:outputpanel>


<!-- This panel will be loaded in case of Internal Users -->
<apex:outputPanel > 
<div class="row">
     <div class="col-lg-12 charttable1 margin10"> 
        <table style="border: 2px solid #74AE00 !important;border-collapse: separate !important;border-radius: 10px;margin-top: 1px;padding: 10px;width: 94%;float:left;">
        <tr>
            <td>
                <apex:repeat value="{!brandEstimateDetailList}" var="best" id="resultId">
                    <table  style=" float: left; font-size: 16px; margin-left: 1 px; margin-right: 1 px; margin-top: 1 px; width: 50%; border-collapse: separate;">
                      <tbody>                       

                       <tr>
                            <td style="border:solid 1px #74AE00;border-radius:10px;background: white;">
                            <table>
                                <tr>
                                     <td style="padding: 10px; float: left; word-wrap: break-word; color: black; background: white; width: 350px; font-size: 19px; height: 15px; "><b> {!best.Brand__r.Name} </b> 
                                     <h6> {!best.AF_Agency__r.Name}  </h6> </td>              
                                  
                              
                                <td ROWSPAN="3" style=" color: #000000;
    display: block;
    float: right;
    font-family: 'Arial','Helvetica',sans-serif;
    height: 27px;
    margin:5 0 0 0px;
    padding: 0;">
                               <div class="image-container">

                                  <apex:outputField value="{!best.Brand__r.AF_Brand_Logo__c}" style="margin-left: 110px;margin-top: 16px;"/>
                               </div>
                              
                                </td>
                            </tr>
                        </table> 
                       <apex:outputPanel rendered="{!!isAgencyFlag}">
                       <table style="background: #FFFFFF;">   
                            <tr>
                                <td style="padding-left: 70px;padding-right: 10px;">Unilever Base Fee</td>
                                <td>
                                <apex:outputLink onclick="TargetBaseFees('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!financialYear}','{!Best.Id}');return false;" id="theLink" style="color:#004976;font-weight: bold;">
                                <apex:outputText value="{0,number,###,###,###}">
                                €<apex:param value="{!best.Base_Fee_Total__c}"/>
                                </apex:outputText>
                                </apex:outputLink>
                                </td>
                            </tr> 
                        </table>
                        </apex:outputPanel>
                        <table width="100%" border="0px" style="border-bottom:1px solid #74AE00; padding: 0 10px 18px 70px; border-collapse: separate;background:white;"> 
                            <tr>
                                <td style="width: 132px;">Agency Base Fee</td>
                                <td style="padding-left: 8px;font-weight: bold;float: left;">
                                <apex:outputText value="{0,number,###,###,###}">
                                €<apex:param value="{!best.Agency_Base_Fee__c}"/>
                                </apex:outputText>
                                </td>
                            </tr>
                        </table>
                        <table width="100%" style="border-collapse: separate;font-size: 16px;">
                            <thead>
                                <tr>
                                    <th style="font:bold;width: 17%;padding-bottom: 5px;background:#61A631;color: #FFFFFF;text-align: center;">Process</th>
                                    <th style="font:bold;width: 16%;padding-bottom: 5px;text-align: center;background:#61A631;color: #FFFFFF;">Status</th>
                                    <th style="font:bold;width: 14%; text-align: center;padding-bottom: 5px;background:#61A631;color: #FFFFFF;">Cross Border PO</th>
                                    <th style="font:bold;width: 7%;text-align: center;padding-bottom: 5px;background:#61A631;color: #FFFFFF;">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding-bottom:5px;padding-top:5px;width: 19%;background:#FFFFFF; padding-left: 8px;"><apex:outputLink onclick="AgencyMatrix('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!financialYear}','{!Best.Brand__c}','{!Best.AF_Agency__c}');return false;" >Base Fees</apex:outputLink></td>
                                    <td style="padding-bottom:5px;padding-top:5px;width: 24%;background:#FFFFFF;text-align: center;">
                                    <apex:outputField value="{!best.AF_Status_Base_Fees__c}" rendered="{!IF(best.AF_Status_Base_Fees__c!='With Category Finance','true','false')}"></apex:outputField>
                                    <apex:outputLabel value="W/Cat Finance" rendered="{!IF(best.AF_Status_Base_Fees__c=='With Category Finance','true','false')}"></apex:outputLabel>
                                    </td>
                                    <td style="color:red;background:#FFFFFF;text-align: center;"><apex:outputField value="{!best.AF_No_CrossBorders__c}"></apex:outputField></td>
                                    <td style="background:#FFFFFF;text-align: center;">
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!IF(OR(AND(IsFinance,best.AF_Status_Base_Fees__c!='With Category Finance'), AND(IsCMCOFinance,best.AF_Status_Base_Fees__c!='With CMCO') ) , 'true', 'false') }"/> 
                                    <apex:image url="{!$Resource.Review}" rendered="{!IF(OR(AND(IsFinance,best.AF_Status_Base_Fees__c=='With Category Finance'), AND(IsCMCOFinance,best.AF_Status_Base_Fees__c=='With CMCO') ) , 'true', 'false') }" />
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!IF(AND(isAgencyFlag,best.AF_Status_Base_Fees__c!='With Agency',best.AF_Status_Base_Fees__c!='With Agency (Draft)'),'true','false')}"/> 
                                   <!-- <apex:image url="{!$Resource.NoAction}" rendered="{!IF(OR(OR(isAgencyFlag,best.AF_Status_Base_Fees__c!='With Agency'),OR(isAgencyFlag,best.AF_Status_Base_Fees__c!='With Agency (Draft)')),'true','false')}" />-->
                                    <apex:image url="{!$Resource.Review}" rendered="{!IF(AND(isAgencyFlag,best.AF_Status_Base_Fees__c=='With Agency (Draft)'),'true','false')}" />
                                    <apex:image url="{!$Resource.Start}" rendered="{!IF(AND(isAgencyFlag,best.AF_Status_Base_Fees__c=='With Agency'),'true','false')}"/>
                                   <apex:image url="{!$Resource.NoAction}" rendered="{!IF(AND(isController,best.AF_Status_Base_Fees__c!='With CMCO'),'true','false')}"/> 
                                    <apex:image url="{!$Resource.Review}" rendered="{!IF(AND(isController,best.AF_Status_Base_Fees__c=='With CMCO'),'true','false')}" />
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!isProcurement}"/> 
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!IsCatFinanceRegional}"/> 
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!IF(AND(isCMCOSuperFlag),'true','false')}"/> 
                                  
                                    </td>
                                </tr>
                                <tr>
                                       <td style="padding-bottom:5px;padding-top:5px;width: 19%;background:#DFF0D8; padding-left: 8px;"><apex:outputLink onclick="oopsMatrix('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!Best.Brand__c}','{!financialYear}','{!Best.AF_Agency__c}');return false;" >OOPs</apex:outputLink></td>
                                    <td style="padding-bottom:5px;padding-top:5px;width: 24%;background:#DFF0D8;text-align: center;">
                                    <apex:outputField value="{!best.AF_Status_OOPs_Estimate__c}" rendered="{!IF(best.AF_Status_OOPs_Estimate__c!='with category finance','true','false')}"/>
                                    <apex:outputLabel value="W/Cat Finance" rendered="{!IF(best.AF_Status_OOPs_Estimate__c=='with category finance','true','false')}"></apex:outputLabel>
                                    </td>                   
                                <!--    <td style="padding-bottom:5px;padding-top:5px;width: 19%;"><apex:commandLink value="OOPs"/></td> -->
                                   <!-- <td style="padding-bottom:5px;padding-top:5px;width: 24%;background:#FFFFFF;text-align: center;"><apex:outputField value="{!best.AF_Status_OOPs_Estimate__c}" /></td>
                                      <td style="color:red;background:#FFFFFF;text-align: center;"><apex:outputField value="{!best.AF_No_of_OOPS_Crossborder__c}"/></td>
                                  <td style="text-align: center;padding-bottom:5px;padding-top:5px;" > <apex:image url="{!$Resource.Start}"/></td> -->
                                    <td style="color:red;background:#DFF0D8;text-align: center;"><apex:outputField value="{!best.AF_No_of_OOPS_Crossborder__c}"/></td>
                                    <td style="background:#DFF0D8;text-align: center;">
                                     <!--<apex:image url="{!$Resource.Review}" rendered="{!IF(OR(AND(IsFinance,best.AF_Status_OOPs_Estimate__c=='with category finance'), AND(IsFinance,best.AF_Status_OOPs_Estimate__c=='Pending Approval') ) , 'true', 'false') }" />-->
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!IF(OR(AND(IsFinance,best.AF_Status_OOPs_Estimate__c=='Ready for PO'), AND(isAgencyFlag,best.AF_Status_OOPs_Estimate__c=='Ready for PO'),AND(IsCMCO),AND(isAgencyFlag,best.AF_Status_OOPs_Estimate__c!='with agency'),AND(IsFinance,best.AF_Status_OOPs_Estimate__c!='with category finance')) , 'true', 'false') }" />
                                    <apex:image url="{!$Resource.Start}" rendered="{!IF(AND(isAgencyFlag,best.AF_Status_OOPs_Estimate__c=='with agency') , 'true', 'false') }" />
                                    <apex:image url="{!$Resource.Start}" rendered="{!IF(AND(AND(IsFinance,best.AF_Status_OOPs_Estimate__c=='with category finance'),AND(IsFinance,best.AF_Status_OOPs_Estimate__c=='with category finance')) , 'true', 'false') }" />
                                    <apex:image url="{!$Resource.Review}" rendered="{!IF(AND(AND(IsFinance,best.AF_Status_OOPs_Estimate__c=='with category finance'), AND(IsFinance,best.AF_Status_OOPs_Estimate__c=='Ready for PO') ) , 'true', 'false') }"/>
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!isController}"/> 
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!isProcurement}"/> 
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!IsCatFinanceRegional}"/> 
                                   
                                    </td>
                                </tr>
                                 <apex:outputPanel rendered="{!IF(AND(NOT(isAgencyFlag),NOT(Best.AF_No_Bonus__c)),'true', 'false')}">
                                <tr>    
                                    
                                    <td style="padding-bottom:5px;padding-top:5px;width: 19%;background:#FFFFFF; padding-left: 8px;"><apex:outputLink onclick="BonusQuartely('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!Best.Brand__c}','{!financialYear}','{!Best.AF_Agency__c}');return false;" >Bonus Quarterly</apex:outputLink></td>
                                    <td style="padding-bottom:5px;padding-top:5px;width: 24%;background:#FFFFFF;text-align: center;"><apex:outputField value="{!best.AF_Bonus_Quaterly_Status__c}" rendered="{!!best.AF_Pilot_Model__c}" /></td>
                        <!--        <td style="text-align: center;padding-bottom:5px;padding-top:5px;"></td>
                                    <td style="text-align: center;padding-bottom:5px;padding-top:5px;" ><apex:image url="{!$Resource.Review}"/></td> -->
                                    <td style="background:#FFFFFF;text-align: center;"></td>
                                    <td style="background:#FFFFFF;text-align: center;">
                                    <apex:image url="{!$Resource.Start}" rendered="{!IF(AND(isFinance,best.AF_Bonus_Quaterly_Status__c=='W/Cat Finance',NOT(best.AF_Pilot_Model__c)),'true','false')}"/> 
                                   <!-- <apex:image url="{!$Resource.Start}" rendered="{!IF(AND(IsCMCOFinance,best.AF_Bonus_Quaterly_Status__c=='with CMCO',NOT(best.AF_Pilot_Model__c)),'true','false')}"/> -->
                                   <apex:image url="{!$Resource.NoAction}" rendered="{!IF(AND(IsCMCOFinance,best.AF_Bonus_Quaterly_Status__c=='with CMCO',NOT(best.AF_Pilot_Model__c)),'true','false')}"/> 
                                   
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!IF(OR(AND(NOT(IsFinance),best.AF_Bonus_Quaterly_Status__c=='W/Cat Finance'),best.AF_Pilot_Model__c,best.AF_Bonus_Quaterly_Status__c=='',IsCatFinanceRegional,AND(NOT(IsCMCOFinance),best.AF_Bonus_Quaterly_Status__c=='with CMCO')),'true', 'false')}"/>
                          <!--          <apex:image url="{!$Resource.NoAction}" rendered="{!IF(OR(best.AF_Pilot_Model__c,best.AF_Bonus_Quaterly_Status__c=='',IsCatFinanceRegional),'true', 'false')}"/>
                                    <apex:image url="{!$Resource.NoAction}" rendered="{!IF(AND(NOT(IsFinance),best.AF_Bonus_Quaterly_Status__c=='W/Cat Finance'),'true', 'false')}"/> -->
                                    </td>
                                
                                </tr>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!!Best.AF_No_Bonus__c}">
                                <tr>
                                    <td style="padding-bottom:5px;padding-top:5px;width: 19%;background:#DFF0D8; padding-left: 8px;"><apex:commandLink value="Bonus Matrix"  onclick="BonusMatrix('{!selectedBrandOption}','{!categoryNameStr}','{!CategoryId}','{!Best.Brand__c}','{!financialYear}','{!Best.AF_Agency__c}');return false;" rendered="{!!Best.AF_No_Bonus__c}" /></td>
                                    <td style="padding-bottom:5px;padding-top:5px;width: 24%;background:#DFF0D8;text-align: center;"><apex:outputField value="{!best.AF_Bonus_Yearly_Status__c}" /></td>
                           <!--     <td style="text-align: center;padding-bottom:5px;padding-top:5px;" ></td>
                                    <td style="text-align: center;padding-bottom:5px;padding-top:5px;" ><apex:image url="{!$Resource.Review}"/></td> -->
                                    <td style="color:red;background:#DFF0D8;text-align: center;"><apex:outputField value="{!best.AF_No_Of_Bonus_Matrix_Crossborders__c}" /></td>
                                    <td style="background:#DFF0D8;text-align: center;">
                                   <apex:image url="{!$Resource.Start}" rendered="{!IF(AND(isFinance,best.AF_Bonus_Yearly_Status__c=='W/Cat Finance'),'true','false')}"/>
                                   <apex:image url="{!$Resource.NoAction}" rendered="{!IF (OR(best.AF_Bonus_Yearly_Status__c=='Ready For PO',best.AF_Bonus_Yearly_Status__c=='',isController,isProcurement,IsCatFinanceRegional,AND(NOT(isFinance),best.AF_Bonus_Yearly_Status__c=='W/Cat Finance')),'true','false')}"/>
                                 <!--  <apex:image url="{!$Resource.NoAction}" rendered="{!IF(best.AF_Bonus_Yearly_Status__c=='','true','false')}"/>
                                   <apex:image url="{!$Resource.NoAction}" rendered="{!IF(best.AF_Bonus_Yearly_Status__c=='Ready For PO','true','false')}"/> -->
                                   
                                    </td>
                                
                                </tr>
                                </apex:outputPanel>
                                
                            </tbody>
                        </table>
                        </td>
                    </tr>
                    </tbody>
               </table>
                </apex:repeat>
            </td>
        </tr>
        </table>
    </div>
</div>
</apex:outputPanel>

<!-- End of code for Internal Users -->


<!-- End of code for Internal Users -->

</apex:outputPanel>

<!-- for footer image -->
<div class="row margin10">
    <div class="col-lg-12 charttable1">
        <apex:image url="{!$Resource.header_new}" style="width:94%;height:37px;"/>
    </div>
</div>

</html>
<!-- <apex:actionFunction name="refreshPage" action="{!changeCatName}" status="statusSaveTrip"  reRender="mainSecId"/> -->
<apex:actionFunction name="refreshPage" action="{!changeCatName}" status="statusSaveTrip"/>
<apex:actionFunction name="refreshBrandPage" action="{!changeBrand}" />

<apex:actionStatus id="statusSaveTrip" stopText="">
    <apex:facet name="start">
        <div>
            <div class="popupBackground" />
            <div class="PopupPanel">
                <table border="0" width="100%" height="100%">
                    <tr>
                        <td align="center"><b>Please Wait</b></td>
                    </tr>
                    <tr>
                        <td align="center"><img src="{!$Resource.Processing}"/></td>
                    </tr>
                </table>
            </div>
        </div>
    </apex:facet>
</apex:actionStatus>
</apex:form>
<style>
    /* This is for the full screen DIV */
    .popupBackground {
        /* Background color */
        background-color:black;
        opacity: 0.5;
        filter: alpha(opacity = 20);
    
        /* Dimensions */
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 998;
        position: absolute;
        
        /* Mouse */
        cursor:wait;
    }
 
    /* This is for the message DIV */
    .PopupPanel {
        /* Background color */
        border: solid 2px blue;
        background-color: white;
 
        /* Dimensions */
        left: 50%;
        width: 200px;
        margin-left: -100px;
        top: 50%;
        height: 50px;
        margin-top: -25px;
        z-index: 999;
        position: fixed;
        
        /* Mouse */
        cursor:pointer;
    }
    
    .margin10{margin-top:2px;}
      .circle1
    {
        width:70px;
        height:70px;
        border-radius:70px;
        text-align:center;
        line-height: 68px;
        background:whitesmoke;
        border: 3px solid #74AE00;
        font-size: 26px;
        float:left;
        margin-left: 17%;
        margin-top: 10px;
    }
    
    .circle_vertical
    {
        width:70px;
        height:70px;
        border-radius:70px;
        text-align:center;
        line-height: 94px;
        background:whitesmoke;
        border: 1px solid #BDC3C7;
        font-size: 666%;
    }
    
    .circle
    {
        width:70px;
        height:70px;
        border-radius:70px;
        text-align:center;
        line-height: 68px;
        background:whitesmoke;
        border: 3px solid #DA0600;
        font-size: 26px;
        float:left;
        margin-left: 17%;
        margin-top: 10px;
        margin-bottom: 10px;
    }
    
   .firstdiv
 {
float: left;
width: 32%;
/* border: 2px solid red; */
  }
  .seconddiv
  {
   float: left; 
width: 65%;
text-align: center;
/* margin-left: 3%; */
height: auto;
/* border: 1px solid red; */
display: inline-block;
  }
    
    .verticalLine {
    border-left: 5px solid #808080;
    height: 77px;
    width: 4%;
    }
    
    .container {
    width:100%;
    margin-left:10px;
    margin-right:10px;
    }
         
    
    .input_select1 {
    color: #000000;
    height: 26px;
    width: 126px;
}
    
    .button_select1 {
    background: none repeat scroll 0 0 #FF00FF;
    border: 1px solid #000000;
    border-radius: 5px;
    color: #FFFFFF;
    font-family: times new roman;
    font-size: 17px;
    font-weight: bold;
    height: 30px;
    margin-left: -23px;
    width: 125px;
    }
        
    
    .close{margin-left:500px; margin-top: -15px;}
    
    html {
    font-size: 16px;
    }
    
    .charttable1{padding-left: 98px;padding-right: 40px;}
    .charttable2{border: 2px solid red;border-radius: 10px; padding:10px;width:100%;border-collapse:separate!important;}
   .demo{
    border: 0 !important;
    -webkit-appearance: none;
    -moz-appearance: none;
    background: #0088cc url(Resource/arrow.png) no-repeat 90% center;
    width: 100px;
    text-indent: 0.01px;
    text-overflow: "";
    color: #FFF;
    border-radius: 15px;
    padding: 5px;
    box-shadow: inset 0 0 5px rgba(000,000,000, 0.5);
    }
   .demo1{
    border: 0 !important;
    -webkit-appearance: none;
    -moz-appearance: none;
    background: #0088cc url(Static Resources/arrow_down/arrow.png) no-repeat 90% center;
    width: 100px;
    text-indent: 0.01px;
    text-overflow: "";
    color: #FFF;
    border-radius: 15px;
    padding: 5px;
    box-shadow: inset 0 0 5px rgba(000,000,000, 0.5);
    }

  .btn-finance{ color: white!important;font-size: 14px!important;background: #007DBB!important;padding: 6px!important;border-radius: 5px!important;border:1px solid black!important;}
   .center{text-align:center;}
   a {
      text-decoration: underline;color:#004976;
     }
   body{font-family: 'Lato', sans-serif!important;font-style: normal;font-weight: 400;  }
  .Agency_fees{font-size:28px;font-weight: bold;color: #74AE00;padding-left: 15px;width: 410px;padding-top: 0px;}
  .Profile_Name{width:170px;text-align:right;font-weight:bold;padding-top: 0px;}
  .User_Name{color:#004976;width:145px;text-align:center;font-weight:bold;padding-top: 0px;}
   
   #phSearchContainer.headerSearchContainer {
     display: none;
   }
  
  /* #AppBodyHeader.headerSearchContainer {
     display: block!important;
   } */
   
    .image-container {
      display: table-cell;
    float: right;
    margin-left: -28px;
   /* margin-top: 9px; */
    text-align: center;
    vertical-align: middle;
}

.text-container{
     display: table-cell;
    float: right;
    margin-left: 15px;
    margin-top: 6px;
    text-align: center;
    vertical-align: middle;
}

.text-container div {
    max-width: 100px;
    max-height: 100px;        
}

  h6{ 
    font-size: 18px;
    font-weight: normal;
    }


.image-container img {
    max-width: 81px;
    max-height: 100px;        
}


</style>
</div>
<!--Chart script -->
<script>
window.onload = function() {
    var myCrossBar = new Chart(document.getElementById("mycrosscanvas").getContext("2d")).Doughnut(DoughnutCrossData,crossopts);
    var mytradBar = new Chart(document.getElementById("mytradcanvas").getContext("2d")).Doughnut(DoughnutTradData,tradopts);
    var mydigitBar = new Chart(document.getElementById("mydigitcanvas").getContext("2d")).Doughnut(DoughnutDigtData,digtopts);
    var myadapBar = new Chart(document.getElementById("myadapcanvas").getContext("2d")).Doughnut(DoughnutAdapData,adapopts);
}
     
//var cross={!crosPerStr};
var DoughnutCrossData = 
       [{
            value : 100,
            color: "#FF0000",
        },
        {
            value : 0,
            color: "#E6E6E6",
        }]
var crossper = {!crosPerStr}+'';
var crossopts= {legend : true,
   crossText : [crossper],
   crossTextIter: ["all"],
   crossTextOverlay :   [true],
   crossTextFontSize : [20],
   crossTextFontColor : ["black"],
   crossTextRelativePosX : [2],
   crossTextRelativePosY : [2],
   crossTextPosX : [0],
   crossTextPosY : [0],
   crossTextAlign : ["center"],
   crossTextBaseline : ["middle"],
   canvasBorders : false,
   
   
};
var trad ={!tradPerStr};
var DoughnutTradData = 
                [{
                    value : trad,
                    color: "#74AE00",
                 },
                 {
                    value : 100-trad,
                    color: "#ECF0F1",

                 }]
var tradPer = trad+'%';
var tradopts= {legend : true,
   crossText : [tradPer],
   crossTextIter: ["all"],
   crossTextOverlay :   [true],
   crossTextFontSize : [20],
   crossTextFontColor : ["black"],
   crossTextRelativePosX : [2],
   crossTextRelativePosY : [2],
   crossTextPosX : [0],
   crossTextPosY : [0],
   crossTextAlign : ["center"],
   crossTextBaseline : ["middle"],
   canvasBorders : false,
};

var digt={!digitPerStr};
var DoughnutDigtData = 
       [{
            value : digt,
            color: "#007DBB",
        },
        {
            value : 100-digt,
            color: "#ECF0F1",
        }]
var digtper = digt+'%';
var digtopts= {legend : true,
   crossText : [digtper],
   crossTextIter: ["all"],
   crossTextOverlay :   [true],
   crossTextFontSize : [20],
   crossTextFontColor : ["black"],
   crossTextRelativePosX : [2],
   crossTextRelativePosY : [2],
   crossTextPosX : [0],
   crossTextPosY : [0],
   crossTextAlign : ["center"],
   crossTextBaseline : ["middle"],
   canvasBorders : false,
};
var adap ={!adaptPerStr};
var DoughnutAdapData = 
                [{
                    value : adap,
                    color: "#E400A7",
                 },
                 {
                    value : 100-adap,
                    color: "#ECF0F1",

                 }]
var adapPer = adap+'%';
var adapopts= {legend : true,
   crossText : [adapPer],
   crossTextIter: ["all"],
   crossTextOverlay :   [true],
   crossTextFontSize : [20],
   crossTextFontColor : ["black"],
   crossTextRelativePosX : [2],
   crossTextRelativePosY : [2],
   crossTextPosX : [0],
   crossTextPosY : [0],
   crossTextAlign : ["center"],
   crossTextBaseline : ["middle"],
   canvasBorders : false,
};
    
  </script>
  
</apex:page>