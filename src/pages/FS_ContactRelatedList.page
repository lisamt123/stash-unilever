<apex:page standardController="Account" sidebar="false" showHeader="false" extensions="FS_ContactExtend_CX">
    
    <script>
    function createContact()
    {
        window.open('/apex/FS_CreateContact?Id={!Account.id}','_top');
    }
    
     function editContact(test1)
    {
        window.open('/apex/FS_ContactDetailPage?Id='+test1+'&mode=edit','_top');
    }
    
    </script>
    <apex:form > 
        <apex:pageBlock title="Contacts">
            <apex:pageBlockButtons location="Top" >
                <apex:commandButton Value="New Contact" onclick="createContact();" />
            </apex:pageBlockButtons>
            <apex:pageblockSection columns="1" id="pbsection">
                <apex:pageBlockTable value="{!myContacts}" var="item" id="pbtable">
                    <apex:column headerValue="Action" style="width: 6%;" >
                       <!-- <apex:commandLink action="{!EditContact}" onclick=""> -->
                       <apex:commandLink onclick="editContact('{!item.FS_RefId__c}');">
                            <apex:outputText value="Edit" title="Edit" Style="color:#015ba7;" /> 
                            <apex:param name="Edit" value="{!item.FS_RefId__c}" assignTo="{!varContactRefIdForEdit}"/>
                            &nbsp;|&nbsp;
                        </apex:commandLink>
                        <apex:commandLink action="{!deleteContact}" reRender="pbsection" status="status">
                            <apex:outputText value="Del" title="Del" Style="color:#015ba7;" /> 
                            <apex:param name="Delete" value="{!item.id}" assignTo="{!varContactIdForDeletion}"/>
                        </apex:commandLink>
                    </apex:column>
                    <apex:column headerValue="Contact Name"  >
                        <apex:outputLink value="/apex/FS_ContactDetailPage?id={!item.FS_RefId__c}" target="_blank"> 
                            <apex:outputText value="{!item.name}">
                            </apex:outputText> 
                        </apex:outputLink>
                    </apex:column>
                    <apex:column value="{!item.FS_Position__c}" headerValue="Position"  />
                    <apex:column value="{!item.FS_Decision_Maker__c}" headerValue="Decision Maker" />
                </apex:pageBlockTable>
            </apex:pageblockSection>
        </apex:pageBlock> 
        <apex:outputpanel >
            <apex:actionstatus id="status">
                <apex:facet name="start">
                    <div class="waitingSearchDiv" id="el_loading" style="background-color: #fbfbfb;
                                                                         height: 100%;opacity:0.65;width:100%;"> 
                        <div class="waitingHolder" style=" width: 100px;">
                            <img class="waitingImage" src="/img/loading.gif" title="Please Wait..." />
                            <span class="waitingDescription">Please Wait...</span>
                        </div>
                    </div>
                </apex:facet>
            </apex:actionstatus>
        </apex:outputpanel> 
    </apex:form>  
</apex:page>