<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Follow</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <description>CEC Retrieval Request  will hold information about  new Retrieval Request.</description>
    <enableActivities>true</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableReports>true</enableReports>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fields>
        <fullName>Appointment_Date__c</fullName>
        <description>CEC Appointment Date to capture the appointment date from the downstream system.</description>
        <externalId>false</externalId>
        <label>Appointment Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Best_Visiting_Hour__c</fullName>
        <description>CEC: To capture the best visiting hour</description>
        <externalId>false</externalId>
        <label>Best Visiting Hour</label>
        <length>50</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Blank_Field1__c</fullName>
        <description>CEC: Used for retrieval report</description>
        <externalId>false</externalId>
        <formula>&quot;&quot;</formula>
        <label>Blank Field1</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Blank_Field2__c</fullName>
        <description>CEC: For Retrieval Report</description>
        <externalId>false</externalId>
        <formula>&quot;&quot;</formula>
        <label>Blank Field2</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Blank_Field3__c</fullName>
        <description>CEC: Used for retrieval report</description>
        <externalId>false</externalId>
        <formula>&quot;&quot;</formula>
        <label>Blank Field3</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Case_Country_Name__c</fullName>
        <description>CEC: To capture the case country name</description>
        <externalId>false</externalId>
        <label>Case Country Name</label>
        <picklist>
            <picklistValues>
                <fullName>Brazil</fullName>
                <default>false</default>
            </picklistValues>
            <sorted>false</sorted>
        </picklist>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>Case_Market__c</fullName>
        <description>CEC Case Market will hold market information</description>
        <externalId>false</externalId>
        <formula>Case__r.Country__r.Market__c</formula>
        <label>Case Market</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Case_Product__c</fullName>
        <description>CEC Product code to  display the case product information</description>
        <externalId>false</externalId>
        <formula>Case__r.CEC_Product__r.Consumer_Product_Descriptor_Local_Lang__c</formula>
        <label>Case Product</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Case__c</fullName>
        <description>CEC Case is a Master details field.</description>
        <externalId>false</externalId>
        <label>Case</label>
        <referenceTo>Case</referenceTo>
        <relationshipLabel>Retrieval Requests</relationshipLabel>
        <relationshipName>Retrieval_Requests</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>Company_Address__c</fullName>
        <description>CEC: used for Retrieval report for SoCo and MA</description>
        <externalId>false</externalId>
        <formula>Case__r.Country__r.Company_Address__c</formula>
        <label>Company Address</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Company_Name__c</fullName>
        <description>CEC: used for Retrieval report for SoCo and MA</description>
        <externalId>false</externalId>
        <formula>&quot;Unilever&quot;</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Company Name</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Company_Phone__c</fullName>
        <description>CEC: used for Retrieval report for SoCo and MA</description>
        <externalId>false</externalId>
        <formula>Case__r.Country__r.Company_Phone__c</formula>
        <label>Company Phone</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Consumer_Home_Phone__c</fullName>
        <description>CEC Consumer Home Phone displays Account&apos;s Home Phone number.</description>
        <externalId>false</externalId>
        <formula>Case__r.Account.PersonContact.HomePhone</formula>
        <label>Consumer Home Phone</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Consumer_Mobile__c</fullName>
        <description>CEC Consumer Mobile displays Account&apos;s Mobile number</description>
        <externalId>false</externalId>
        <formula>Case__r.Account.PersonContact.MobilePhone</formula>
        <label>Consumer Mobile</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Consumer_Name__c</fullName>
        <description>CEC: Used for retrieval report</description>
        <externalId>false</externalId>
        <formula>Case__r.Account.PersonContact.FirstName + &quot; &quot; +  Case__r.Account.PersonContact.LastName</formula>
        <label>Consumer Name</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Consumer_Other_Phone__c</fullName>
        <description>CEC Consumer Other Phone displays Account&apos;s Other Phone number</description>
        <externalId>false</externalId>
        <formula>Case__r.Account.PersonContact.OtherPhone</formula>
        <label>Consumer Other Phone</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Consumer_Phone__c</fullName>
        <description>CEC Consumer Phone displays Account&apos;s Phone number.</description>
        <externalId>false</externalId>
        <formula>Case__r.Account.PersonContact.Phone</formula>
        <label>Consumer Phone</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Consumer_Telephone_Number__c</fullName>
        <description>CEC: used for Soco/MA retrieval report</description>
        <externalId>false</externalId>
        <formula>IF( Consumer_Phone__c != &apos;&apos;,Consumer_Phone__c, IF( Consumer_Mobile__c != &apos;&apos;,Consumer_Mobile__c ,IF( Consumer_Home_Phone__c != &apos;&apos;, Consumer_Home_Phone__c, Consumer_Other_Phone__c )))</formula>
        <label>Consumer Telephone Number</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Exchange_Flag__c</fullName>
        <description>CEC: used for SoCo/MA Retrieval report</description>
        <externalId>false</externalId>
        <formula>&quot;1&quot;</formula>
        <label>Exchange Flag</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Fulfilment_Approved__c</fullName>
        <description>CEC Fulfilement Approval  will hold approval status of fulfilment.</description>
        <externalId>false</externalId>
        <formula>Fulfilment_Id__r.isApproved__c</formula>
        <label>Fulfilment Approved</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Fulfilment_Id__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <description>CEC Fulfilment Id  is a look up field for Fulfilment</description>
        <externalId>false</externalId>
        <label>Fulfilment Id</label>
        <referenceTo>cec_Fulfilment__c</referenceTo>
        <relationshipLabel>Retrieval Requests</relationshipLabel>
        <relationshipName>Retrieval_Requests</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Global_Product_Cd__c</fullName>
        <description>CEC: used for SoCo/MA Retrieval report</description>
        <externalId>false</externalId>
        <formula>&quot;1&quot;</formula>
        <label>Global Product Cd</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Include_Gift__c</fullName>
        <description>CEC - Gift details from Fulfilment</description>
        <externalId>false</externalId>
        <formula>Fulfilment_Id__r.Include_Gift__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Include Gift</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Internal_Code_1__c</fullName>
        <description>CEC: used for SoCo/MA Retrieval report</description>
        <externalId>false</externalId>
        <formula>&quot;N&quot;</formula>
        <label>Internal Code 1</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Internal_Code_2__c</fullName>
        <description>CEC: used for SoCo/MA Retrieval report</description>
        <externalId>false</externalId>
        <formula>&quot;N&quot;</formula>
        <label>Internal Code 2</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Internal_Code_3__c</fullName>
        <description>CEC: used for SoCo/MA Retrieval report</description>
        <externalId>false</externalId>
        <formula>&quot;DOM&quot;</formula>
        <label>Internal Code 3</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Mailing_Address__c</fullName>
        <description>CEC :Mailing Address from Account related to the Case</description>
        <externalId>false</externalId>
        <formula>IF((ISBLANK(Case__r.Account.PersonContact.MailingStreet)), null, (Case__r.Account.PersonContact.MailingStreet &amp; &quot;, &quot;)) 
&amp; 
IF((ISBLANK(Case__r.Account.PersonContact.MailingCity)), null, (Case__r.Account.PersonContact.MailingCity &amp; &quot;, &quot;)) 
&amp; 
IF((ISBLANK(Case__r.Account.PersonContact.MailingState)), null, (Case__r.Account.PersonContact.MailingState &amp; &quot;, &quot;)) 
&amp; 
IF((ISBLANK(Case__r.Account.PersonContact.MailingPostalCode)), null, (Case__r.Account.PersonContact.MailingPostalCode &amp; &quot;, &quot;)) 
&amp; 
Case__r.Account.PersonContact.MailingCountry</formula>
        <label>Mailing Address</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Product_CU_Description_English__c</fullName>
        <description>CEC; Retrieval report</description>
        <externalId>false</externalId>
        <formula>Case__r.CEC_Product__r.Product_CU_Description_English__c</formula>
        <label>Product CU Description (English)</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Product_CU_MRDR_Code__c</fullName>
        <description>CEC: For retrieval report</description>
        <externalId>false</externalId>
        <formula>Case__r.CEC_Product__r.Product_CU_MRDR_Code__c</formula>
        <label>Product CU MRDR Code</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Product_Factory_Email_Sent__c</fullName>
        <defaultValue>false</defaultValue>
        <description>This flag will be set to TRUE once we send the email to the product factory</description>
        <externalId>false</externalId>
        <label>Product Factory Email Sent</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Product_Factory__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <description>CEC Product Factory is a lookup to CEC Factory Details object.</description>
        <externalId>false</externalId>
        <label>Product Factory</label>
        <lookupFilter>
            <active>true</active>
            <filterItems>
                <field>CEC_Factory_Details__c.Type__c</field>
                <operation>equals</operation>
                <value>Product</value>
            </filterItems>
            <filterItems>
                <field>CEC_Factory_Details__c.Email__c</field>
                <operation>notEqual</operation>
                <value></value>
            </filterItems>
            <filterItems>
                <field>CEC_Factory_Details__c.Country_Name__c</field>
                <operation>equals</operation>
                <valueField>$Source.Case_Country_Name__c</valueField>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>CEC_Factory_Details__c</referenceTo>
        <relationshipLabel>Retrieval Requests (Product Factory)</relationshipLabel>
        <relationshipName>Retrieval_Requests1</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Product_Notes__c</fullName>
        <description>CEC - Product Notes from Fulfilment</description>
        <externalId>false</externalId>
        <formula>Fulfilment_Id__r.Product_Notes__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Product Notes</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Quantity_of_Bulks__c</fullName>
        <description>CEC: used for SoCo/MA Retrieval report</description>
        <externalId>false</externalId>
        <formula>&quot;1&quot;</formula>
        <label>Quantity of Bulks</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Retrieval_Action__c</fullName>
        <description>CEC Retrieval Action  will hold action for Retrieval Request</description>
        <externalId>false</externalId>
        <label>Retrieval Action</label>
        <picklist>
            <picklistValues>
                <fullName>Clothing Retrieval</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Deliver Gift with Appointment</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Deliver New Product with Appointment</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Product &amp; Clothing Retrieval</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Product &amp; Clothing Retrieval with Replacement</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Product &amp; Foreign Matter Retrieval with Replacement(Factory)</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Product Retrieval</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Product Retrieval(Factory)</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Product Retrieval with Replacement(Disposal)</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Product Retrieval with Replacement(Factory)</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Product Retrieval with Replacement(Factory Study)</fullName>
                <default>false</default>
            </picklistValues>
            <sorted>true</sorted>
        </picklist>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>Retrieval_Message__c</fullName>
        <description>CEC Retrieval Message. To capture any error message from the downstream system</description>
        <externalId>false</externalId>
        <label>Retrieval Message</label>
        <length>100</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Retrieval_Notes__c</fullName>
        <description>CEC Observation to capture any details related to retrievals</description>
        <externalId>false</externalId>
        <label>Retrieval Notes</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>TextArea</type>
    </fields>
    <fields>
        <fullName>Retrieval_Quantity__c</fullName>
        <defaultValue>1</defaultValue>
        <description>CEC Retrieval Quantity will hold Quantity of Retrieval product</description>
        <externalId>false</externalId>
        <label>Retrieval Quantity</label>
        <precision>10</precision>
        <required>true</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Retrieval_Status__c</fullName>
        <description>CEC Retrieval Status  will hold status of Retrieval Request.</description>
        <externalId>false</externalId>
        <label>Retrieval Status</label>
        <picklist>
            <picklistValues>
                <fullName>Appointment Booked</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Cancelled</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Closed</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Clothing Delivered</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Clothing Delivery Initiated</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Errored</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Initiate Clothing Delivery</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Initiated</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Initiate Product Analysis</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>New</fullName>
                <default>true</default>
            </picklistValues>
            <picklistValues>
                <fullName>Rebook Appointment</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Resolved</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Retrieval Complete</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Submitted</fullName>
                <default>false</default>
            </picklistValues>
            <sorted>true</sorted>
        </picklist>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>Submitted_Date__c</fullName>
        <description>CEC Submitted Date is used to display when retrieval request has been submitted.</description>
        <externalId>false</externalId>
        <label>Submitted Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Textile_Factory_Email_Sent__c</fullName>
        <defaultValue>false</defaultValue>
        <description>This flag will be set to TRUE once we send the email to the textile factory</description>
        <externalId>false</externalId>
        <label>Textile Factory Email Sent</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Textile_Factory__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <description>CEC Â Textile Factory is a lookup to CEC Factory Details Object.</description>
        <externalId>false</externalId>
        <label>Textile Factory</label>
        <lookupFilter>
            <active>true</active>
            <filterItems>
                <field>CEC_Factory_Details__c.Type__c</field>
                <operation>equals</operation>
                <value>Textile</value>
            </filterItems>
            <filterItems>
                <field>CEC_Factory_Details__c.Email__c</field>
                <operation>notEqual</operation>
                <value></value>
            </filterItems>
            <filterItems>
                <field>CEC_Factory_Details__c.Country_Name__c</field>
                <operation>equals</operation>
                <valueField>$Source.Case_Country_Name__c</valueField>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>CEC_Factory_Details__c</referenceTo>
        <relationshipLabel>Retrieval Requests</relationshipLabel>
        <relationshipName>Retrieval_Requests</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Thread_Id__c</fullName>
        <externalId>false</externalId>
        <formula>&quot;ref:_&quot; &amp; LEFT($Organization.Id,5) &amp; SUBSTITUTE(RIGHT($Organization.Id,10), &quot;0&quot;, &quot;&quot; )&amp; &quot;._&quot; &amp; LEFT(Case__r.Id ,5) &amp; SUBSTITUTE(Left(RIGHT(Case__r.Id,10), 5), &quot;0&quot;, &quot;&quot;) &amp; RIGHT(Case__r.Id,5) &amp; &quot;:ref&quot;</formula>
        <label>Thread Id</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Total_Weight_KG__c</fullName>
        <description>CEC: used for Retrieval report for SoCo and MA</description>
        <externalId>false</externalId>
        <formula>&quot;1&quot;</formula>
        <label>Total Weight KG</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Weight_KG__c</fullName>
        <description>CEC: used for Retrieval report for SoCo and MA</description>
        <externalId>false</externalId>
        <formula>&quot;1&quot;</formula>
        <label>Weight KG</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <label>Retrieval Request</label>
    <nameField>
        <displayFormat>RR-{0000000}</displayFormat>
        <label>Retrieval Request Number</label>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>Retrieval Requests</pluralLabel>
    <recordTypeTrackHistory>false</recordTypeTrackHistory>
    <recordTypes>
        <fullName>Default</fullName>
        <active>true</active>
        <label>Default</label>
        <picklistValues>
            <picklist>Case_Country_Name__c</picklist>
            <values>
                <fullName>Brazil</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Retrieval_Action__c</picklist>
            <values>
                <fullName>Clothing Retrieval</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deliver Gift with Appointment</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deliver New Product with Appointment</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product %26 Clothing Retrieval</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product %26 Clothing Retrieval with Replacement</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product %26 Foreign Matter Retrieval with Replacement%28Factory%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval with Replacement%28Disposal%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval with Replacement%28Factory Study%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval with Replacement%28Factory%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval%28Factory%29</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Retrieval_Status__c</picklist>
            <values>
                <fullName>Appointment Booked</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Cancelled</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Closed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Clothing Delivered</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Clothing Delivery Initiated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Errored</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Initiate Clothing Delivery</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Initiate Product Analysis</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Initiated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>New</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>Rebook Appointment</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Resolved</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Retrieval Complete</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Submitted</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <recordTypes>
        <fullName>Read_Only</fullName>
        <active>true</active>
        <description>This record type is used for creating readonly pagelayout</description>
        <label>Read Only</label>
        <picklistValues>
            <picklist>Case_Country_Name__c</picklist>
            <values>
                <fullName>Brazil</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Retrieval_Action__c</picklist>
            <values>
                <fullName>Clothing Retrieval</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deliver Gift with Appointment</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deliver New Product with Appointment</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product %26 Clothing Retrieval</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product %26 Clothing Retrieval with Replacement</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product %26 Foreign Matter Retrieval with Replacement%28Factory%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval with Replacement%28Disposal%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval with Replacement%28Factory Study%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval with Replacement%28Factory%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Product Retrieval%28Factory%29</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Retrieval_Status__c</picklist>
            <values>
                <fullName>Appointment Booked</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Cancelled</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Closed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Clothing Delivered</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Clothing Delivery Initiated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Errored</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Initiate Clothing Delivery</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Initiate Product Analysis</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Initiated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>New</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>Rebook Appointment</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Resolved</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Retrieval Complete</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Submitted</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <searchLayouts/>
    <sharingModel>ControlledByParent</sharingModel>
    <webLinks>
        <fullName>Analyse_Product</fullName>
        <availability>online</availability>
        <description>CEC - To initiate analysis on Retrieval Request</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Analyse Product</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/32.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/support/console/30.0/integration.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}


sforce.connection.sessionId = &quot;{!$Api.Session_ID}&quot;;

var newRetrieval = new sforce.SObject(&quot;CEC_Retrieval_Request__c&quot;);
newRetrieval.Retrieval_Status__c = &apos;{!CEC_Retrieval_Request__c.Retrieval_Status__c}&apos;;
var prodFactory = &apos;{!CEC_Retrieval_Request__c.Product_Factory__c}&apos;;
if (newRetrieval.Retrieval_Status__c != &quot;Retrieval Complete&quot; &amp;&amp; newRetrieval.Retrieval_Status__c != &quot;Initiate Product Analysis&quot;) {
    alert(&apos;{!$Label.CEC_Retrieval_Initiate_Analysis_Status_Error}&apos;);
} else if (newRetrieval.Retrieval_Status__c == &quot;Retrieval Complete&quot; &amp;&amp; (prodFactory  == null || prodFactory == &apos;&apos;)) {
    alert(&apos;{!$Label.CEC_Retrieval_Initiate_Analysis_Missing}&apos;);
} else {
    newRetrieval.id = &apos;{!CEC_Retrieval_Request__c.Id}&apos;; 
    newRetrieval.Retrieval_Status__c = &quot;Initiate Product Analysis&quot;;
    var result = sforce.connection.update([newRetrieval]);
    if (result[0].getBoolean(&quot;success&quot;)) {
        sforce.console.getFocusedSubtabId(refreshRetrivalSubTab);
   
    }
}

function refreshRetrivalSubTab(result) {
    //Refresh Retrieve Request tab 
    sforce.console.refreshSubtabById(result.id);
}</url>
    </webLinks>
    <webLinks>
        <fullName>Delivery_Clothing</fullName>
        <availability>online</availability>
        <description>CEC To update the Retrieval Request status to &apos;Initiate Clothing Delivery&apos;</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Delivery Clothing</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/32.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/support/console/30.0/integration.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 

sforce.connection.sessionId = &quot;{!$Api.Session_ID}&quot;; 

var newRetrieval = new sforce.SObject(&quot;CEC_Retrieval_Request__c&quot;); 
newRetrieval.Retrieval_Status__c = &apos;{!CEC_Retrieval_Request__c.Retrieval_Status__c}&apos;; 
if(newRetrieval.Retrieval_Status__c != &quot;Retrieval Complete&quot; &amp;&amp; newRetrieval.Retrieval_Status__c != &quot;Initiate Product Analysis&quot;)  
{ 
alert(&apos;{!$Label.CEC_Retrieval_Factory_Analysis_Pending_Error}&apos;);
}else{
newRetrieval.id = &apos;{!CEC_Retrieval_Request__c.Id}&apos;;   
newRetrieval.Retrieval_Status__c = &quot;Initiate Clothing Delivery&quot;; 
var result = sforce.connection.update([newRetrieval]); 
if (result[0].getBoolean(&quot;success&quot;)) { 
sforce.console.getFocusedSubtabId(refreshRetrivalSubTab); 
//alert(&quot;new account created with id &quot; + result[0].id); 
} 
} 

function refreshRetrivalSubTab(result) { 
//Refresh Fulfilment tab 
sforce.console.refreshSubtabById(result.id); 
}</url>
    </webLinks>
    <webLinks>
        <fullName>New_Retrieval_Request</fullName>
        <availability>online</availability>
        <description>CEC New Retrieval Request is used to add new  Retrieval Request.</description>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New Retrieval Request</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/32.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/support/console/30.0/integration.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)}

sforce.connection.sessionId = &quot;{!$Api.Session_ID}&quot;;

var caseQuery;
if ({!$Permission.CEC_Retrieval_Process}) {
    caseQuery = sforce.connection.query(&quot;Select Id,AccountId,Account.Phone,Account.PersonMobilePhone,Account.PersonOtherPhone,Account.PersonHomePhone,Account.PersonMailingCity,Account.PersonMailingCountry,Case_Brand__c,Account.PersonBirthdate, Account.PersonMailingPostalCode, Account.PersonMailingState, Account.PersonMailingStreet,Account.Salutation, Account.Name,Country_Name__c  From Case Where Id = &apos;{!Case.Id}&apos;&quot;);
	
	var retrivalRequestId;
	var retrivalRequestName;
	var records = caseQuery.getArray(&quot;records&quot;);
	var caseRecord = records[0];

	if (caseRecord != null &amp;&amp; caseRecord.AccountId == null) {
		alert(&apos;{!$Label.CEC_CaseAccountMissing_retrieval}&apos;);
	} else if (caseRecord != null &amp;&amp;
		caseRecord.Account.PersonMailingCity == null &amp;&amp; caseRecord.Account.PersonMailingCountry == null &amp;&amp; caseRecord.Account.PersonMailingPostalCode == null &amp;&amp; caseRecord.Account.PersonMailingState == null &amp;&amp; caseRecord.Account.PersonMailingStreet == null) {
		alert(&apos;{!$Label.CEC_CaseAccountPersonAddressMissing}&apos;);
	} else if (caseRecord != null &amp;&amp;
		(caseRecord.Account.Phone == null &amp;&amp; caseRecord.Account.PersonMobilePhone == null &amp;&amp; caseRecord.Account.PersonOtherPhone == null &amp;&amp; caseRecord.Account.PersonHomePhone == null) ) {
		alert(&apos;{!$Label.CEC_CaseAccountPersonPhoneMissing}&apos;);	
	} else {

		var newRetrievelRequest = new sforce.SObject(&quot;CEC_Retrieval_Request__c&quot;);
		newRetrievelRequest.Case__c = caseRecord.Id;
                newRetrievelRequest.Case_Country_Name__c = caseRecord.Country_Name__c;
		sforce.connection.create([newRetrievelRequest], success);
	}	
} else {
    alert(&apos;{!$Label.CEC_NoAccessForRetrievalProcess}&apos;);
}


function success(result) {

    retrivalRequestId = result[0].id;
    retrivalRequestName = result[0].Name;
    sforce.console.getFocusedPrimaryTabId(openSubtab);
}

var openSubtab = function openSubtab(result) {
    //Now that we have the primary tab ID, we can open a new subtab in it
    var primaryTabId = result.id;
    sforce.console.refreshPrimaryTabById(primaryTabId, false);
    sforce.console.openSubtab(primaryTabId, &apos;/&apos; + retrivalRequestId, true, retrivalRequestName, null);
};</url>
    </webLinks>
    <webLinks>
        <fullName>Rebook</fullName>
        <availability>online</availability>
        <description>CEC Rebook is used to rebook the retrieval request.</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Rebook</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/32.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/support/console/30.0/integration.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 

sforce.connection.sessionId = &quot;{!$Api.Session_ID}&quot;; 

var newRetrieval = new sforce.SObject(&quot;CEC_Retrieval_Request__c&quot;); 
newRetrieval.Retrieval_Status__c = &apos;{!CEC_Retrieval_Request__c.Retrieval_Status__c}&apos;;

if(newRetrieval.Retrieval_Status__c == &quot;Appointment Booked&quot;)
{
newRetrieval.id = &apos;{!CEC_Retrieval_Request__c.Id}&apos;;
newRetrieval.Retrieval_Status__c = &quot;Rebook Appointment&quot;;
var result = sforce.connection.update([newRetrieval]);
if (result[0].getBoolean(&quot;success&quot;)) {
sforce.console.getFocusedSubtabId(refreshRetrivalSubTab);
  //alert(&quot;new account created with id &quot; + result[0].id);
}
}else{
alert(&apos;{!$Label.CEC_Retrieval_Process_rebook_error}&apos;);
}
function refreshRetrivalSubTab(result) {
    //Refresh Fulfilment tab
    sforce.console.refreshSubtabById(result.id);
}</url>
    </webLinks>
    <webLinks>
        <fullName>Submit</fullName>
        <availability>online</availability>
        <description>CEC Submit button is used for submitting retrieval request.</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Submit</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/32.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/support/console/30.0/integration.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 
sforce.connection.sessionId = &quot;{!$Api.Session_ID}&quot;;
var newRetrieval = new sforce.SObject(&quot;CEC_Retrieval_Request__c&quot;);
var retrieveStatus = &apos;{!CEC_Retrieval_Request__c.Retrieval_Status__c}&apos;;
var retrieveAction = &apos;{!CEC_Retrieval_Request__c.Retrieval_Action__c}&apos;;
if (retrieveStatus != &quot;New&quot;) {
    alert(&apos;{!$Label.CEC_RetrievalAlreadySubmitted}&apos;);
} else if (retrieveAction == null || retrieveAction == &apos;&apos;) {
	alert(&apos;{!$Label.CEC_MandatoryRetrievalActionError}&apos;);
} else {
    newRetrieval.id = &apos;{!CEC_Retrieval_Request__c.Id}&apos;;
    newRetrieval.Retrieval_Status__c = &quot;Submitted&quot;;
	newRetrieval.Retrieval_Message__c = null;
    newRetrieval.Submitted_Date__c = new Date().toISOString();
    var result = sforce.connection.update([newRetrieval]);
    if (result[0].getBoolean(&quot;success&quot;)) {
        sforce.console.getFocusedSubtabId(refreshRetrivalSubTab);        
    }
}
function refreshRetrivalSubTab(result) {
    //Refresh Fulfilment tab
    sforce.console.refreshSubtabById(result.id);
}</url>
    </webLinks>
</CustomObject>
