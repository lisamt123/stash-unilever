<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Follow</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>true</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <description>This records responses to queries regarding vendor contract management.</description>
    <enableActivities>true</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fields>
        <fullName>CR_ID__c</fullName>
        <externalId>false</externalId>
        <formula>LookupCPA_Queries__r.CR_ID__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>CR ID</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>HLE_ID__c</fullName>
        <externalId>false</externalId>
        <formula>LookupCPA_Queries__r.HLE_Request_Query__r.HLE_Request_ID__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>HLE ID</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>LOI_ID__c</fullName>
        <externalId>false</externalId>
        <formula>LookupCPA_Queries__r.LOI_ID__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>LOI ID</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>LookupCPA_Queries__c</fullName>
        <description>This captures responses to any queries regarding vendor contract management.</description>
        <externalId>false</externalId>
        <label>Queries</label>
        <referenceTo>CPA_Queries__c</referenceTo>
        <relationshipLabel>Submit Responses</relationshipLabel>
        <relationshipName>CPA_Query_comments</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>PWO_ID__c</fullName>
        <externalId>false</externalId>
        <formula>LookupCPA_Queries__r.PWO_ID__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>PWO ID</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Pworf_ID__c</fullName>
        <externalId>false</externalId>
        <formula>LookupCPA_Queries__r.Pworf_ID__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Pworf ID</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Query_Creator__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Query Creator</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Submit_Responses</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>RTXTQuery_Comments__c</fullName>
        <description>This displays responses to queries regarding vendor contract management.</description>
        <externalId>false</externalId>
        <inlineHelpText>It captures responses regarding any query regarding vendor contract management.</inlineHelpText>
        <label>Response</label>
        <length>32768</length>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Html</type>
        <visibleLines>10</visibleLines>
    </fields>
    <fields>
        <fullName>Responded_By__c</fullName>
        <description>This capture Query Respondent Name.</description>
        <externalId>false</externalId>
        <formula>CreatedBy.FirstName  + &apos; &apos;+ CreatedBy.LastName</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Responded By</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <label>Submit Response</label>
    <listViews>
        <fullName>All</fullName>
        <filterScope>Everything</filterScope>
        <label>All</label>
    </listViews>
    <listViews>
        <fullName>All_Submit_Responses</fullName>
        <columns>NAME</columns>
        <filterScope>Everything</filterScope>
        <label>All</label>
        <language>en_US</language>
    </listViews>
    <nameField>
        <displayFormat>Query Reference {0}</displayFormat>
        <label>Query Count</label>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>Submit Responses</pluralLabel>
    <searchLayouts/>
    <sharingModel>ControlledByParent</sharingModel>
    <webLinks>
        <fullName>Submit_New_Response</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Submit New Response</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)} 

soql = &quot;SELECT Id,Assignee.Name, PermissionSet.Name FROM PermissionSetAssignment WHERE AssigneeId = &apos;{!$User.Id}&apos;&quot;; 
var result = sforce.connection.query(soql); 
var records1 = result.getArray(&apos;records&apos;); 
var permissionSetName = records1[0].PermissionSet.Name; 
//alert(&quot;{!$User.Id}&quot; +   &apos;  &apos;  + &quot;{!CPA_Queries__c.CreatedById}&quot;);
if(permissionSetName == &quot;CPA_{!CPA_Queries__c.Assigned_to__c}&quot; || permissionSetName == &quot;CPA_SMT&quot; || &quot;{!$User.Id}&quot; == &quot;{!CPA_Queries__c.CreatedById}&quot;){ 
	window.open(&quot;/&quot;+&quot;{!$Label.CPA_query_response_URL_Object_ID}/e?{!$Label.CPA_query_response_URL_id}={!CPA_Queries__c.Name}&amp;{!$Label.CPA_query_response_URL_id}_lkid={!CPA_Queries__c.Id}&amp;retURL=%2F{!CPA_Queries__c.Id}&quot;,&quot;_self&quot;); 
}else{ 
 alert(&apos;Query is assigned to &apos;+&quot;{!CPA_Queries__c.Assigned_to__c}&quot; +&apos;, So you are not authorized to perform this action.&apos;);
}</url>
    </webLinks>
</CustomObject>
