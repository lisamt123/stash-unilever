<aura:component controller="Core_IC_IdeaController" >    
    <aura:attribute name="campaignsListItem" type="Core_CA_BaseApplicationWrapper"/>
    <aura:attribute name="newsType" type="String"/>
	<aura:attribute name="url" type="String"/>
	<aura:attribute name="selectedCampaignFilter" type="String"/>  
    <aura:attribute name="CompaignType" type="String"/>
    <aura:attribute name="MailSubject" type="String" />
    <aura:attribute name="MailToBody1" type="String" />
    <aura:attribute name="MailToBody2" type="String" />
    <aura:attribute name="MailToBody3" type="String" />
    <aura:attribute name="MailToBody4" type="String" />
    <aura:attribute name="pannelType" type="String"/>
    <aura:attribute name="shareCampaign" type="Boolean"/>
    <aura:attribute name="chatterValue" type="Boolean"/>
   <aura:attribute name="share" type="Boolean"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    
	<style>
	@media screen and (min-width:767px){
        .THIS.slds-card {
        margin: 15px;
        margin-right:0px;
        margin-bottom:0px;
        }
        }
    </style>
    <div class="slds-card">
        <div class="slds-card__header">
            <div class="slds-grid">
                <div class="slds-media slds-media--center slds-has-flexi-truncate">
                    <h2 class="slds-text-heading--small camp-heading" onclick="{!c.gotoCampaignDetail}">{!v.campaignsListItem.CampaignTitle}</h2>
                </div>
                <aura:if isTrue="{!v.selectedCampaignFilter=='activeCampaign'}">
                    <div class="slds-no-flex">                    
                        <button class="share-button slds-button slds-button--icon-border-filled slds-button--icon-x-small slds-shrink-none" onclick="{!c.showShare}">
                            <img src="/resource/CORE_IC_IdeasLigthtning/utility/share_60.png" class="slds-button__icon slds-button__icon--hint slds-button__icon--small"/>
                        </button>
                        <aura:if isTrue="{!v.shareCampaign}">
                          <div  aura:id="showOptions" class="slds-dropdown slds-dropdown--right sort " >
                            <ul class="dropdown__list" role="menu">
                              <aura:if isTrue="{!v.chatterValue}">   
                                <li class="slds-dropdown__item">
                                       <a  role="menuitem" onclick="{!c.navigateToChatter}" >
                                    <p class="slds-truncate"  >Share on Chatter</p>
                                   </a>
                                </li>
                              </aura:if>        
                                <li class="slds-dropdown__item" onclick="{!c.hideChatterShare}">
                             <aura:if isTrue="{!v.chatterValue}">      
  <a href="{!'mailto:?subject='+v.MailSubject+'%20%22'+v.campaignsListItem.CampaignTitle+'%20%22'+'&amp;body='+v.MailToBody1+'%20%22'+v.campaignsListItem.CampaignTitle+'%22%20'+v.MailToBody2+'%20'+v.MailToBody3}" 
                                    style="color: #344A5F ;text-decoration: none;"  role="menuitem">
                                  <p class="slds-truncate"> Email</p>
                                  </a>
                                 <aura:set attribute="else">
  <a href="{!'mailto:?subject='+v.MailSubject+'%20%22'+v.campaignsListItem.CampaignTitle+'%20%22'+'&amp;body='+v.MailToBody1+'%20%22'+v.campaignsListItem.CampaignTitle+'%22%20'+v.MailToBody4+'%20'}" 
                                    style="color: #344A5F ;text-decoration: none;"  role="menuitem">
                                  <p class="slds-truncate">Share via Email</p>
                                  </a>
                               </aura:set>
                           </aura:if>       
                                </li>
                              </ul>
                            </div>
                        </aura:if>
                    </div>
                </aura:if>
            </div>
            <div class="slds-text-body--small bottomPadding" onclick="{!c.gotoCampaignDetail}">{!v.campaignsListItem.EndDate}</div>
        </div>
        <hr/>
        
        <div class="slds-card__header bottomPadding">
            <img src="{!v.campaignsListItem.Banner}" onclick="{!c.gotoCampaignDetail}" class="campaignBanner"> </img>            
        	<div class="slds-text-body--regular topPadding bottomPadding campaignDescriptionHeight" onclick="{!c.gotoCampaignDetail}">{!v.campaignsListItem.Description}</div>            
            
           <div class="slds-grid">
                <div class="slds-media slds-media--center slds-has-flexi-truncate">
                	<div class="slds-button mediumFont" onclick="{!c.gotoCampaignDetail}">{!v.campaignsListItem.IdeaCount} Ideas</div>
                </div>
                <aura:if isTrue="{!v.selectedCampaignFilter=='activeCampaign'}">
                    <div class="slds-no-flex" onclick="{!c.gotoSubmitIdea}" >
                        <button class="slds-button slds-button--neutral slds-not-selected mediumFont"><img src="/resource/CORE_IC_IdeasLigthtning/img/Idea_blue.svg" class="mediumImageHeight"/> Post an Idea</button>
                    </div>
                </aura:if>
            </div>
        </div>
    </div>
</aura:component>