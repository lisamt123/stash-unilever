<aura:component controller="AA_AgentAppService" >
    <!--Attributes-->
    <aura:attribute name="objGetAgentDataResponse" type="AA_WrapperClass.AgentAppDataResponse" />
    <aura:attribute name="clusterList" type="Object" description="List of Cluster values" />
    <aura:attribute name="allCountryList" type="Object" description="List of all Countries values which will be used while selection based on the cluster list"/>
    <aura:attribute name="countryList" type="Object" description="List of the countries values which we will display in the country drop down list "/>
    <aura:attribute name="reportingOnList" type="String[]" description="list of reportingOn values"/>
    <aura:attribute name="globalClusterId" type="Id" description="Id of the 'global' Cluster"/>
    <aura:attribute name="unileverBrandId" type="Id" description="Id of the selected Unilever Brand name"/>
    <aura:attribute name="retailerId" type="Id" description="Id of the selected Retailer"/>
    <aura:attribute name="townName" type="String" description="The name of the town "/>
    <aura:attribute name="reportTitle" type="String" description="Report Title"/>
	<aura:attribute name="reportDescription" type="String" description="Report Title"/>
	<aura:attribute name="selectedUsers" type="Object[]" description="List of selected users"/>
   
     <!--Handlers-->
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:handler name="updateLookupIdEvent" event="c:AA_UpdateLookupId" action="{!c.handleIdUpdate}"/>
    <aura:handler name="updateUserListEvent" event="c:AA_UpdateUserList" action="{!c.handleSelectedUsers}"/>

    <div class="container">
        <div class="row">
            <table class="formHeader">
                <tr>
                    <td class="leftAlign">
                        <span onclick="{!c.cancel}" class="cancelButton">Cancel</span>
                    </td>
                </tr>
            </table>
        </div>
          <div class="slds-grid">
              <c:AA_UploadContentVersion />
        </div>
          <div class="slds-grid">
            <label class="slds-form-element__label">Insert image or file </label>
            <div class="slds-col">
                <c:svg class="slds-icon--large" 
                       xlinkHref="/resource/Lightning_designing_style/assets/icons/utility-sprite/svg/symbols.svg#image"  />
                <input type="file" accept="image/*;capture=camera" onchange="{!c.saveImage}" aura:id="fileCam" />
            </div>
            <div class="slds-col">
                <c:svg class="slds-icon--large" 
                       xlinkHref="/resource/Lightning_designing_style/assets/icons/utility-sprite/svg/symbols.svg#attach"  /> 
                <input type="file" accept="image/*" onchange="{!c.saveFile}" aura:id="fileImg"/>
            </div>
        </div>
        <div class="slds-form-element ">
            <span>
                <label class="slds-form-element__label"> Cluster </label>
                <div class="slds-form-element__control">
                    <div>
                        <ui:inputSelect aura:id="clusterId" change="{!c.onSelectChangeCountry}" class="slds-select inputWidth">
                            <ui:inputSelectOption text="Select a Cluster" label="Select Cluster" value="true"/>
                            <aura:iteration var="cluster" items="{!v.clusterList}">
                                <ui:inputSelectOption text="{!cluster.Id}" label="{!cluster.Name}" />
                            </aura:iteration>
                        </ui:inputSelect>
                    </div>
                </div>
            </span>
        </div>
        <div class="slds-form-element" >
            <span>
                <label class="slds-form-element__label"> Country </label>
                <div class="slds-form-element__control">
                    <div >
                        <ui:inputSelect aura:id="countryId" disabled="{!v.check}" class="slds-select">
                            <ui:inputSelectOption text="Select a Country" label="Select Country" value="true"/>
                            <aura:iteration var="country" items="{!v.countryList}">
                                <ui:inputSelectOption text="{!country.Id}" label="{!country.Name}" />
                            </aura:iteration>
                        </ui:inputSelect>
                    </div>
                </div>
            </span>
        </div>
        <div class="slds-form-element" >
            <label class="slds-form-element__label"> Town </label>
            <div class="slds-form-element__control">
                <div >
                    <ui:inputText aura:id="townValue"  class="slds-input" placeholder="Town" value="{!v.townName}" />
                </div>
            </div>
        </div>
         <div class="slds-form-element" >
            <label class="slds-form-element__label"> Report title* </label>
            <div class="slds-form-element__control">
                <div >
                    <ui:inputText aura:id="reportTitle" class="slds-input" placeholder="Add brand,location and activity in the report Title " value="{!v.reportTitle}" required="true" />
                </div>
            </div>
        </div>
        <div class="slds-form-element" >
            <label class="slds-form-element__label">Report Description</label>
            <div >
                <div >
                    <ui:inputTextArea aura:id="reportDesc" class="slds-input"  value="{!v.reportDescription}" rows="3" required="true"/>
                </div>
            </div>
        </div>
         
                <div>
                     <c:AA_NotifyUser />
                </div>
         
        <div class="slds-form-element" >
            <div class="slds-form-element__control">
                <div >
                    <c:AA_AutoComplete label="Unilever brand" pluralLabel="Unilever brands" placeholderValue="Type to search Unilever Brand" sObjAttributeName="unileverBrandId" sObjectRecordType="Unilever Brand" sObjectAPIName="aa_Agent_App_Competitor_Brand__c" />                </div>
            </div>
        </div>
        <div class="slds-form-element" >
            <div class="slds-form-element__control">
                <div>
                    <c:AA_AutoComplete label="Retailer" pluralLabel="Retailers" placeholderValue="Type to search Retailer" sObjAttributeName="retailerId" sObjectRecordType="null" sObjectAPIName="aa_Agent_Retailer__c" />               
                </div>
            </div>
        </div>
        <div class="slds-form-element" >
            <label class="slds-form-element__label" > Reporting On </label>
            <div  class="slds-form-element__control">
                <div >
                    <ui:inputSelect aura:id="reportingOnId"  class="slds-select">
                        <ui:inputSelectOption text="Reporting on" label="Select Reporting On" value="true"/>
                        <aura:iteration var="reporting" items="{!v.reportingOnList}">
                            <ui:inputSelectOption text="{!reporting}" label="{!reporting}"/>
                        </aura:iteration>
                    </ui:inputSelect>
                </div>
            </div>
        </div> 
        <div>    
            <ui:button label="Submit this Report" press="{!c.submitReport}"/>
        </div>
    </div>
    
</aura:component>