<aura:component controller="EA_ControllerClass" >
    <aura:attribute name="rating_value" type="string"></aura:attribute>
    <aura:attribute name="numbers" type="string"></aura:attribute>
    <aura:attribute name="remain" type="string"></aura:attribute>
    <aura:attribute name="activityId" type="string"></aura:attribute>
    <aura:attribute name="activity" type="Everyday_Activity__c[]"></aura:attribute>
    <aura:attribute name="themeColors" type="Map"/>
    <aura:attribute name="themecolor" type="String" />
    <aura:attribute name="themerecordtype" type="String" default="{!v.activity[0].RecordType.Name}"/>
    <aura:attribute name="recordId" type="Id" description="The current record Id to display" />
    <aura:attribute name="selectedUsers" type="String[]" description="Selected users" />
    <aura:attribute name="selectedItem" type="String[]" description="To map selected details"/>
    <aura:attribute name="maxLimit" type="Integer" default="{!v.activity.Participants_Required__c}"/>
    <aura:attribute name="participantCount" type="Integer" />
    <aura:attribute name="todoTime" type="Map" />
    <aura:attribute name="activityTimeToComplete" type="String" />
    <aura:attribute name="pagename" type="String" />
    <aura:attribute name="index" type="Integer" />
    <aura:attribute name="pageIndex" type="integer"/>
    <aura:attribute name="booleanValue" type="List"/>
    <aura:attribute name="check_image" type="boolean" default="false"/>
    <!-- Event handlers -->
    <aura:registerEvent name="redirectToDetail" type="c:EA_Detailpage_Event" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:handler name="updateLookupIdEvent" event="c:EA_UpdateLookupId_Event" action="{!c.handleIdUpdate}"/>
    <aura:handler name="clearLookupIdEvent" event="c:EA_ClearLookupId_Event" action="{!c.handleIdClear}"/>
    
    <form aura:id="frm1">
        <div class="slds top1">
            <div class="container">
                <aura:iteration items="{!v.activity}" var="act">
                    <c:EA_ActivityHeader_Common themeName="{!act.RecordType.Name}" themeColors="{!v.themecolor}"
                                                activityName="{!act.Name}" check_image="{!v.check_image}" activityRating="{!v.rating_value}"  numbers="{!v.numbers}" remain="{!v.remain}" />
                </aura:iteration>
                <div class="section_f">
                    <div class="slds-text-heading--small rateTitle"><p class="para_inv">Everday Actions can be even better when done with colleagues!</p></div>
                    <div class="slds-text-heading--small rateTitle cTitle">Ask Someone	to join you:</div>
                    <!-- Lookup component -->
                    <c:EA_LookupSObject label="User" pluralLabel="Users" sObjectAPIName="User"
                                        listIconSVGPath="/resource/Lightning_designing_style/assets/icons/standard-sprite/svg/symbols.svg#account"
                                        listIconClass="slds-icon-standard-account" selectedUsers="{!v.selectedUsers}" selectedItem="{!v.selectedItem}" maxLimit="{!v.maxLimit}" participantCount="{!v.participantCount}"/>
                    
                    <div  style="margin-top:10px;"></div>
                    <div class="slds-text-body--medium cTitle">When would you like to do this?</div>
                    <div  class="slds-form-element__control">
                        <ui:inputSelect aura:id="activityTime" change="{!c.onSelecteChange}" class="slds-select">
                            <aura:iteration items="{!v.todoTime}" var="todoT">
                                <aura:if isTrue="{!todoT.Value == 'TODAY'}">
                                    <ui:inputSelectOption text="{!todoT.Value}" class="uiInputSelectOption" label="{!todoT.Label}" value="true"/>
                                </aura:if>
                                <aura:if isTrue="{!todoT.Value != 'TODAY'}">
                                    <ui:inputSelectOption text="{!todoT.Value}" label="{!todoT.Label}"/>
                                </aura:if>
                            </aura:iteration>
                        </ui:inputSelect>
                    </div>
                    <div  style="margin-top:30px;"></div>
                    <div class="main-div"><button  onclick="{!c.callSubmitToDoActivity}"  class="slds-button--neutral slds-button--brand  submit">Accept</button></div>
                    <div class="main-div"><button  onclick="{!c.skipToDoActivity}" class="slds-button--neutral cancel"> Cancel</button></div>  
                </div>
            </div>
        </div>
    </form>
</aura:component>