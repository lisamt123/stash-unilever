<aura:component access="global" controller="ICB_CheckInCheckOut_CC" >
    <aura:attribute name="visit"  type="Event" />
    <aura:attribute name="content"  type="ContentDocument" />
    <aura:attribute name="recordId"  type="String" />
    <aura:attribute name="idGolden"  type="String"/>
    <aura:attribute name="lat"  type="String" />
    <aura:attribute name="lng"  type="String" />
    <aura:attribute name="lastEvent"  type="String" />
    <aura:attribute name="checkinReady"  type="boolean" default="false" />
    <aura:attribute name="needConfirm"  type="boolean" default="true" />
    <aura:attribute name="goldenMinuteOpen"  type="boolean" default="false" />
    <aura:attribute name="showAlert"  type="boolean" default="true" />
    <aura:attribute name="showInfo"  type="boolean" default="true" />
    <aura:attribute name="showSpinnerCI"  type="boolean" default="false" />
    <aura:attribute name="statusGM"  type="String"/>
    <aura:attribute name="isStatusGM"  type="boolean" default="false"/>
    <aura:attribute name="isShowButtonsGM"  type="boolean" default="false"/>
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:handler name="mapLatLng_map" event="c:ICB_StaticGoogleMaps_Lat_Lng"  action="{!c.setLatLng}" />
    
    
    <div class="slds">
        <ltng:require styles="/resource/agf__SLDS0121/assets/styles/salesforce-lightning-design-system-ltng.css" />
        <!-- DIV SUCCESS -->
        <aura:renderIf isTrue="{!!v.checkinReady}">
            <c:modalButton divClass="slds-notify_container"
                           divClassRole="slds-notify slds-notify--alert slds-theme--success slds-theme--alert-texture"
                           role="alert"
                           nblButtonOk="true"
                           class="slds-button slds-button--icon-inverse slds-notify__close"
                           onclick="{!c.close}"
                           label="{!$Label.c.ICB_BUTTON_CLOSE}"
                           spanMsg="{!$Label.c.ICB_TEXT_SUCCESS}"
                           msgShow="{!v.status}"
                           nblButtonCl="false"
                           nblMsgHeader="true"
                           /> 
        </aura:renderIf>
        
        <!-- DIV INFO -->
        <aura:renderIf isTrue="{!!v.showInfo}">
            <c:modalButton divClass="slds-notify_container"
                           divClassRole="slds-notify slds-notify--alert slds-theme--info slds-theme--alert-texture"
                           role="alert"
                           nblButtonOk="true"
                           class="slds-button slds-button--icon-inverse slds-notify__close"
                           onclick="{!c.close}"
                           label="{!$Label.c.ICB_BUTTON_CLOSE}"
                           spanMsg="{!$Label.c.ICB_TEXT_INFO}"
                           msgShow="{!v.status}"
                           nblButtonCl="false"
                           nblMsgHeader="true"
                           />
        </aura:renderIf>
        
        <!-- DIV ALERT - Using to confirm checkin/checkout -->
        <aura:renderIf isTrue="{!!v.showAlert}">
            <c:modalButton divClass="slds-notify_container"
                           divClassRole="slds-notify slds-notify--alert slds-theme--warning slds-theme--alert-texture"
                           role="alert"
                           nblButtonOk="true"
                           class="slds-button slds-button--neutral"
                           onclick="{!c.confirm}"
                           label="{!$Label.c.ICB_BUTTON_CONFIRM}"
                           msgShow="{!v.status}"
                           nblButtonCl="true"
                           classCl="slds-button slds-button--neutral"
                           onclickCl="{!c.close}"
                           labelCl="{!$Label.c.ICB_BUTTON_CANCEL}"
                           />
        </aura:renderIf>
        
        <!-- DIV WARNING GM -->
        <aura:renderIf isTrue="{!v.isStatusGM}">
            <c:modalButton divClass="slds-notify_container"
                           divClassRole="slds-notify slds-notify--alert slds-theme--warning slds-theme--alert-texture"
                           role="alert"
                           nblButtonOk="true"
                           class="slds-button slds-button--neutral"
                           onclick="{!c.confirmGM}"
                           label="{!$Label.c.ICB_BUTTON_OPEN}"
                           spanMsg="{!$Label.c.ICB_TEXT_INFO}"
                           msgShow="{!v.statusGM}"
                           nblButtonCl="true"
                           classCl="slds-button slds-button--neutral"
                           onclickCl="{!c.close}"
                           labelCl="{!$Label.c.ICB_BUTTON_CANCEL}"
                           />
        </aura:renderIf>
        <div class="slds-form--inline">
            <center>
                <div class="slds-form-element">
                    <aura:renderIf isTrue="{!v.showSpinnerCI}">
                        <ui:spinner aura:id="spinnerCheckIn" class="inner"/>
                    </aura:renderIf>
                    <button class="slds-button slds-button--neutral" 
                            disabled="{!!v.goldenMinuteOpen || !v.showAlert || !v.showInfo}"
                            onclick="{!c.checkIn}">{!$Label.c.ICB_BUTTON_CHECK_IN}</button>
                    <button class="slds-button slds-button--neutral" 
                            disabled="{!!v.goldenMinuteOpen || !v.showAlert || !v.showInfo}"
                            onclick="{!c.checkOut}">{!$Label.c.ICB_BUTTON_CHECK_OUT}</button>
                </div>
                <button class="slds-button slds-button--brand" 
                        onclick="{!c.goldenMinute}">{!$Label.c.ICB_BUTTON_GOLDEN_MINUTE}</button>
                
                <c:ICB_StaticGoogleMaps />
            </center>
        </div>
    </div>
</aura:component>