<aura:component controller="EA_ControllerClass">
    <aura:attribute name="activities" type="Everyday_Activity__c[]"/>
    <aura:attribute name="activityDetail" type="Everyday_Activity__c[]"/>
    <aura:attribute name="activityForShare" type="Everyday_Activity__c"/>
    <aura:attribute name="selectedfilter" type="string" default="All Themes"/>
    <aura:attribute name="showAllthemebutton" type="boolean" default="false"/>
    <aura:attribute name="showInvitation" type="boolean" default="false"/>
    <aura:attribute name="showswipe" type="boolean" default="false"/>
    <aura:attribute name="showfilter" type="boolean" default="false"/>
    <aura:attribute name="detailpage" type="boolean" default="false"/>
    <aura:attribute name="selectedactivityId" type="string"/>
    <aura:attribute name="memberid" type="string"/>
    <aura:attribute name="participant_rating" type="integer"/>
    <aura:attribute name="MyActions" type="boolean" default="true"/>
    <aura:attribute name="themeColors" type="Map" />
    <aura:attribute name="showdownarrow" type="boolean" default="false"/>
     <aura:attribute name="showtabs" type="boolean" default="true"/>
    <aura:attribute name="showuparrow" type="boolean" default="false"/>
    <aura:attribute name="showfeedback" type="boolean" default="false"/>
    <aura:attribute name="showDetailCard" type="boolean" default="false"/>
    <aura:attribute name="showchatter" type="boolean" default="false"/>
    
    <aura:attribute name="activityId" type="string" />
    <aura:handler event="c:EA_Feedback_Event" action="{!c.showFeedback}"/> 
    
    <aura:attribute name="showtodoactpage" type="boolean" default="false" />
    <aura:handler event="c:EA_ToDoActivity_Event" action="{!c.showToDoActivityPage}"/> 
    
    <aura:handler event="c:EverydayAction_Active_Filter_Event" action="{!c.applyfilter}"/>
    <aura:handler event="c:EverydayAction_Filter_Cancel_Event" action="{!c.cancelfilter}"/> 
    <aura:handler event="c:EA_Detailpage_Event" action="{!c.gotoDetail}"/> 
    <aura:handler event="c:EA_Accept_Event" action="{!c.gotoInvitation}"/>
 	<aura:handler name="init" value="{!this}" action="{!c.getData}" />
    <aura:handler event="c:EA_Decline" action="{!c.gotoDetail2}"/>
    <aura:handler event="c:EA_Showshare_Event" action="{!c.showShareComp}"/>
    
    <ltng:require styles="/resource/EA_StaticResource/css/bootstrap.3.3.css,/resource/EA_StaticResource/slick/slick.css,/resource/EA_StaticResource/slick/slick-theme.css,/resource/EA_StaticResource/css/main.css,/resource/EA_StaticResource/assets/styles/salesforce-lightning-design-system-vf.css" scripts="/resource/EA_StaticResource/jquery/jquery.js,/resource/EA_StaticResource/slick/slick.min.js" afterScriptsLoaded="{!c.getData}"/>
 
    <style>
        .spacer-pull-to-load-more{
        height:100% !important;
        }
        .filter-container {
        margin-top: 50px;
        margin-left: 20px;
        margin-bottom: 10px;
        }
        .theme_space{
        padding-top:20px;
        }
        .nav-pills li {
        display: block;
        float: left;
        margin: 0;
        position: relative;
        width: 49.5%;
        background-color:#fff;
        }
        .nav-pills>li+li {
        margin-left:0px;
        }
        .nav-pills>li.active>a, .nav-pills>li.active>a:focus, .nav-pills>li.active>a:hover {
        color: #fff;
        background-color: #337ab7;
        }
        .nav>li>a {
        position: relative;
        display: block;
        padding: 10px 15px;
        }
        .nav-pills>li>a {
        width: auto;
        }
        .list-inline>li {
        width: 32%;
        float: left;
        padding-left: 20px;
        }
        
        
        .slds ul {
        list-style: none;
        margin-left: 0px;
        }
        
    </style>
    <aura:if isTrue="{!v.showtabs}">
     <div class=" navbar-fixed-top " >
              <ul class="nav nav-pills" >
                  <li  aura:id="myaction" class="active_class" onclick="{!c.callMyAction}" style="border:1px #303030 solid;" >{!$Label.c.EA_MyActionsTab_Title}</li>
                  <li aura:id="themes" class="inactive_class" onclick="{!c.callShowSwipe}" style="border:1px #303030 solid;" >{!$Label.c.EA_ThemeTab_Title}</li>
              </ul>
        </div>
    </aura:if>
        <div class="slds">
    
    <div>
     <aura:if isTrue="{!v.MyActions}">
           <c:EA_MyAction_Component /> 
    </aura:if>
    <aura:if isTrue="{!v.showAllthemebutton}">
      <div class="filter-container">
                <div aura:id="themeFilter" class="theme_space" onclick="{!c.callFilterComponent}"  >
                     <span class="tilteTheme">{!v.selectedfilter}</span>&nbsp;
                    <aura:if isTrue="{!v.showdownarrow}">
                      <img src="/resource/EA_StaticResource/images/down.svg" height="10" width="10"/></aura:if>
                    <aura:if isTrue="{!v.showuparrow}">
                       <img src="/resource/EA_StaticResource/images/uparrow.svg" height="7" width="7"/> </aura:if>
         		</div>
        </div>  
</aura:if>
    <aura:if isTrue="{!v.showswipe}">
                 
        <div class="carousel">
            <aura:iteration items="{!v.activities}" var="activity">
                <div class="container">
                   
             <c:EA_Activity_Detail_Component activity="{!activity}" showcontent="{!v.showDetailCard}"  themeColors="{!v.themeColors}" themeName="{!v.showAllthemebutton}"  showswipecard="{!v.showswipe}" detailPage="{!v.detailpage}"/></div>
            </aura:iteration>
        </div>
   </aura:if> 
   <aura:if isTrue="{!v.showfilter}">
       <div class="slds">
     	<c:EverydayAction_Filter_Component temp="{!v.selectedfilter}"/>
           </div>
   </aura:if>
     <aura:if isTrue="{!v.detailpage}">
        <!--c:demo_testEA EAactivityid="{!v.selectedactivityId}"/--> 
        <div class="carousel" style="margin-top:50px;">
         <aura:iteration items="{!v.activityDetail}" var="activity">
                <div class="container">
                 
             		<c:EA_Activity_Detail_Component activity="{!activity}"  EAactivityid="{!v.selectedactivityId}"  themeColors="{!v.themeColors}" showswipecard="{!v.showswipe}" detailPage="{!v.detailpage}"  themeName="{!v.showAllthemebutton}" /> 
               </div>
            </aura:iteration>
         </div>
        
    </aura:if>
        
        <aura:if isTrue="{!v.showfeedback}">
            <c:EA_FeedBack_comp activityId="{!v.activityId}" team_memberId="{!v.memberid}" participant_rating="{!v.participant_rating}"></c:EA_FeedBack_comp>
        </aura:if>
          <aura:if isTrue="{!v.showtodoactpage}">
            <c:EA_ToDoActivityPage activityId="{!v.activityId}"  themeColors="{!v.themeColors}"></c:EA_ToDoActivityPage>
        </aura:if>
            </div>
            
            <aura:if isTrue="{!v.showInvitation}">
                <c:EA_AcceptDec_comp activityId="{!v.activityId}" teamid="{!v.memberid}"/>
            </aura:if>
            
         <aura:if isTrue="{!v.showchatter}">
            
          <c:EA_chatteEmail_component activityDetail="{!v.activityForShare}"/> 
            
        </aura:if>
    </div>
</aura:component>