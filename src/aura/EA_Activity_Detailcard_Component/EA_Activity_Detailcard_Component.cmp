<aura:component controller="EA_ControllerClass">
    <aura:attribute name="activities" type="EA_Wrapper_Class.EA_RecentlyCompletedUsers[]"/>
    <aura:attribute name="activityDetail" type="Everyday_Activity__c[]"/>
    <aura:attribute name="booleanValue" type="List"/>
    <aura:attribute name="activityForShare" type="Everyday_Activity__c"/>
    <aura:attribute name="selectedfilter" type="string" default="All Themes"/>
    <aura:attribute name="showAllthemebutton" type="boolean" default="false"/>
    <aura:attribute name="showInvitation" type="boolean" default="false"/>
    <aura:attribute name="showswipe" type="boolean" default="false"/>
    <aura:attribute name="showfilter" type="boolean" default="false"/>
    <aura:attribute name="detailpage" type="boolean" default="false"/>
    <aura:attribute name="selectedactivityId" type="string"/>
    <aura:attribute name="memberid" type="string"/>
    <aura:attribute name="participant_rating" type="integer"/>
    <aura:attribute name="MyActions" type="boolean" default="true"/>
    <aura:attribute name="themeColors" type="Map" />
    <aura:attribute name="showdownarrow" type="boolean" default="false"/>
    <aura:attribute name="showtabs" type="boolean" default="true"/>
    <aura:attribute name="showuparrow" type="boolean" default="false"/>
    <aura:attribute name="showfeedback" type="boolean" default="false"/>
    <aura:attribute name="showDetailCard" type="boolean" default="false"/>
    <aura:attribute name="showchatter" type="boolean" default="false"/>
    <aura:attribute name="pagename" type="string"/>
    <aura:attribute name="index" type="integer" default="0"/>
    <aura:attribute name="pageIndex" type="integer"/>
    <aura:attribute name="showspinner" type="Boolean" default="true"/>
   
    

    <aura:attribute name="activityId" type="string" />
    <aura:handler event="c:EA_Feedback_Event" action="{!c.showFeedback}"/> 
    
    <aura:attribute name="showtodoactpage" type="boolean" default="false" />
    <aura:handler event="c:EA_ToDoActivity_Event" action="{!c.showToDoActivityPage}"/> 
    
    <aura:handler event="c:EverydayAction_Active_Filter_Event" action="{!c.applyfilter}"/>
    <aura:handler event="c:EverydayAction_Filter_Cancel_Event" action="{!c.cancelfilter}"/> 
    <aura:handler event="c:EA_Detailpage_Event" action="{!c.gotoDetail}"/> 
    <aura:handler event="c:EA_Accept_Event" action="{!c.gotoInvitation}"/>
    <!--<aura:handler name="init" value="{!this}" action="{!c.getData}" />-->
    
    <ltng:require styles="/resource/EA_StaticResource/css/bootstrap.3.3.css,/resource/EA_StaticResource/slick/slick.css,/resource/EA_StaticResource/slick/slick-theme.css,/resource/EA_StaticResource/css/main.css,/resource/EA_StaticResource/assets/styles/salesforce-lightning-design-system-vf.css" scripts="/resource/EA_StaticResource/jquery/jquery.js,/resource/EA_StaticResource/slick/slick.min.js" afterScriptsLoaded="{!c.getData}"/>
    <!--aura:handler name="init" value="{!this}" action="{!c.callSlick}"/-->
    <aura:handler event="c:EA_Decline" action="{!c.gotoDetail2}"/>
    <aura:handler event="c:EA_Showshare_Event" action="{!c.showShareComp}"/>
    <aura:handler event="c:EA_Back_Event" action="{!c.showPrevious}"/>
    <aura:attribute name="showLoading" type="boolean" default="false"/>
    <style>
        .outer_sec{
    /*padding-top:2px;*/
    height:100%;
    display:none;
    
}
        .outer_sec2{
    /*padding-top:2px;*/
    height:100%;
    display:none;
    
}

        .filter-container {
        margin-top: 50px;
        margin-left: 20px;
        margin-bottom: 10px;
        }
        .theme_space{
        padding-top:20px;
        }
        .nav-pills li {
        display: block;
        float: left;
        margin: 0;
        position: relative;
        width: 49.5%;
        background-color:#fff;
        }
        .nav-pills>li+li {
        margin-left:0px;
        }
        .nav-pills>li.active>a, .nav-pills>li.active>a:focus, .nav-pills>li.active>a:hover {
        color: #fff;
        background-color: #337ab7;
        }
        .nav>li>a {
        position: relative;
        display: block;
        padding: 10px 15px;
        }
        .nav-pills>li>a {
        width: auto;
        }
        .list-inline>li {
        width: 32%;
        float: left;
        padding-left: 20px;
        }
        
        .slds ul {
        list-style: none;
        margin-left: 0px;
        }
        
        .slds .slds-fade-in-open {
        background-color: black;
        opacity: 0.5;
        visibility: visible;
        -webkit-transition: opacity 0.1s linear;
        transition: opacity 0.1s linear;
        }
        .slds .slds-spinner--small {
        width: 32px;
        height: 32px;
        margin-left: 40%;
        }
        .uiSpinner.spinner {
            margin-top: 68px;
            margin-bottom: -74px;
		}
             .outer_sec1{
    /*padding-top:2px;*/
    height:100%;
    display:show;
    
}
    </style>
    <div class="outer_sec1">
         <center><img style="width:10%;top:50%;position:absolute;" src="/resource/EA_StaticResource/assets/images/spinners/slds_spinner.gif"></img></center> 
    </div>
   <div class="outer_sec2"> 
    <aura:if isTrue="{!v.showtabs}">
        <div class=" navbar-fixed-top " >
            <ul class="nav nav-pills" >
                <li  aura:id="myaction" class="active_class" onclick="{!c.callMyAction}">{!$Label.c.EA_MyActionsTab_Title}</li>
                <li aura:id="themes" class="inactive_class" onclick="{!c.callShowSwipe}">{!$Label.c.EA_ThemeTab_Title}</li>
            </ul>
        </div>
    </aura:if>
    <div class="slds">
         
        <div>
            
            <aura:if isTrue="{!v.MyActions}">
                <c:EA_MyAction_Component /> 
            </aura:if>
            <aura:if isTrue="{!v.showspinner}"><center><img style="width:10%;position: absolute;top:50%;" src="/resource/EA_StaticResource/assets/images/spinners/slds_spinner.gif"></img></center></aura:if>
                        
            <aura:if isTrue="{!v.showAllthemebutton}">
                <div class="filter-container">
                    <div aura:id="themeFilter" class="theme_space" onclick="{!c.callFilterComponent}"  >
                        <span class="tilteTheme">{!v.selectedfilter}</span>&nbsp;
                        <aura:if isTrue="{!v.showdownarrow}">
                            <img src="/resource/EA_StaticResource/images/down_60.png" height="10" width="10"/></aura:if>
                        <aura:if isTrue="{!v.showuparrow}">
                            <img src="/resource/EA_StaticResource/images/up_60.png" height="7" width="7"/> </aura:if>
                    </div>
                </div>  
            </aura:if>
            <aura:if isTrue="{!v.showswipe}">
                <div class="carousel">
                    <aura:iteration items="{!v.activities}" var="activity" indexvar="indexval" start="{!v.index}">
                        <div class="container">
                            <c:EA_Activity_Detail_Component activity="{!activity}" showcontent="{!v.showDetailCard}"  themeColors="{!v.themeColors}" themeName="{!v.showAllthemebutton}"  showswipecard="{!v.showswipe}" detailPage="{!v.detailpage}" booleanValue="{!v.booleanValue}"/>
                        </div>
                    </aura:iteration>
                </div>
            </aura:if> 
            <aura:if isTrue="{!v.showfilter}">
                <div class="slds">
                    <c:EverydayAction_Filter_Component temp="{!v.selectedfilter}"/>
                </div>
            </aura:if>
            <aura:if isTrue="{!v.detailpage}">
                <div class="carousel" style="margin-top:50px;">
                    <aura:iteration items="{!v.activities}" var="activity">
                        <div class="container">
                            <c:EA_Activity_Detail_Component activity="{!activity}" showcontent="{!v.showDetailCard}"  themeColors="{!v.themeColors}" themeName="{!v.showAllthemebutton}"   showswipecard="{!v.showswipe}" detailPage="{!v.detailpage}" index="{!v.index}" pageIndex="{!v.pageIndex}" />
                        </div>
                    </aura:iteration> 
                </div>
                
            </aura:if>
            
            <aura:if isTrue="{!v.showfeedback}">
                <c:EA_FeedBack_comp activityId="{!v.activityId}" team_memberId="{!v.memberid}" participant_rating="{!v.participant_rating}" pagename="{!v.pagename}" index="{!v.index}" pageIndex="{!v.pageIndex}"></c:EA_FeedBack_comp>
            </aura:if>
            <aura:if isTrue="{!v.showtodoactpage}">
                <c:EA_ToDoActivityPage activityId="{!v.activityId}"  themeColors="{!v.themeColors}" pagename="{!v.pagename}" index="{!v.index}"  pageIndex="{!v.pageIndex}"></c:EA_ToDoActivityPage>
            </aura:if>
        </div>
        
        <aura:if isTrue="{!v.showInvitation}">
            <c:EA_AcceptDec_comp activityId="{!v.activityId}" teamid="{!v.memberid}"/>
        </aura:if>
        
        <aura:if isTrue="{!v.showchatter}">
            <c:EA_chatteEmail_component activityDetail="{!v.activityForShare}" pagename="{!v.pagename}" index="{!v.index}" activityId="{!v.selectedactivityId}" pageIndex="{!v.pageIndex}"/> 
        </aura:if>
        <aura:if isTrue="{!v.showDetailCard}">
            <c:EA_Activity_Detailpage_Component EAactivityid="{!v.selectedactivityId}" pagename="{!v.pagename}" index="{!v.index}" pageIndex="{!v.pageIndex}" themeColors="{!v.themeColors}" />
        </aura:if>
        
        <aura:if isTrue="{!v.showLoading}">
            <div class="slds-modal slds-fade-in-open" style="height:736px;" aria-hidden="false" role="dialog" data-aura-rendered-by="1191:c">
                <div class="slds-modal__container" data-aura-rendered-by="1192:c">
                    <div class="slds-spinner--small">
                        <img src="/resource/EA_StaticResource/assets/images/spinners/slds_spinner.gif" alt="Loading..." />
                    </div>
                </div>
            </div>
        </aura:if>
    </div>
   </div> 
</aura:component>