<aura:component controller="EA_ControllerClass">
    <!--<ltng:require styles="/resource/Lightning_designing_style/assets/styles/salesforce-lightning-design-system.min.css" />-->
    <ltng:require styles="{!$Resource.Lightning_designing_style +'/assets/styles/salesforce-lightning-design-system.min.css'}" />
    <ltng:require styles="/resource/Slick_latest/slick/slick.css,/resource/Slick_latest/slick/slick-theme.css" scripts="/resource/Jquery_3_1_1/jquery-3.1.1.min.js,/resource/Slick_latest/slick/slick.min.js" afterScriptsLoaded="{!c.getData}"/>
     <ltng:require styles="{!join(',',
                          !$Resource.Lightning_designing_style +'/assets/styles/salesforce-lightning-design-system.min.css',
                          !$Resource.Slick_latest +'/slick/slick.css',
                          !$Resource.Slick_latest +'/slick/slick-theme.css'
                          )}"
                  scripts="{!join(',',
                           !$Resource.Jquery_3_1_1 +'/jquery-3.1.1.min.js',
                           !$Resource.Slick_latest +'/slick/slick.min.js'
                           )}"
                  afterScriptsLoaded="{!c.getData}"/>
    <aura:attribute name="activities" type="EA_Wrapper_Class.EA_RecentlyCompletedUsers[]"/>
    <aura:attribute name="activityDetail" type="Everyday_Activity__c[]"/>
    <aura:attribute name="booleanValue" type="List"/>
    <aura:attribute name="themeColorsForFeedback" type="string"/>
    <aura:attribute name="activityForShare" type="Everyday_Activity__c"/>
    <aura:attribute name="selectedfilter" type="string" default="All Themes"/>
    <aura:attribute name="showAllthemebutton" type="boolean" default="false"/>
    <aura:attribute name="showInvitation" type="boolean" default="false"/>
    <aura:attribute name="showswipe" type="boolean" default="false"/>
    <aura:attribute name="showfilter" type="boolean" default="false"/>
    <aura:attribute name="detailpage" type="boolean" default="false"/>
    <aura:attribute name="selectedactivityId" type="string"/>
    <aura:attribute name="memberid" type="string"/>
    <aura:attribute name="participant_rating" type="integer"/>
    <aura:attribute name="MyActions" type="boolean" default="true"/>
    <aura:attribute name="themeColors" type="Map" />
    <aura:attribute name="showdownarrow" type="boolean" default="false"/>
    <aura:attribute name="showtabs" type="boolean" default="true"/>
    <aura:attribute name="showuparrow" type="boolean" default="false"/>
    <aura:attribute name="showfeedback" type="boolean" default="false"/>
    <aura:attribute name="showDetailCard" type="boolean" default="false"/>
    <aura:attribute name="showchatter" type="boolean" default="false"/>
    <aura:attribute name="pagename" type="string"/>
    <aura:attribute name="index" type="integer" default="0" />
    <aura:attribute name="pageIndex" type="integer"/>
    <aura:attribute name="showspinner" type="Boolean" default="true"/>
    <aura:attribute name="activityId" type="string" />
    <aura:handler event="c:EA_Feedback_Event" action="{!c.showFeedback}"/> 
    <aura:attribute name="showtodoactpage" type="boolean" default="false" />
    <aura:handler event="c:EA_ToDoActivity_Event" action="{!c.showToDoActivityPage}"/> 
    <aura:handler event="c:EverydayAction_Active_Filter_Event" action="{!c.applyfilter}"/>
    <aura:handler event="c:EverydayAction_Filter_Cancel_Event" action="{!c.cancelfilter}"/> 
    <aura:handler event="c:EA_Detailpage_Event" action="{!c.gotoDetail}"/> 
    <aura:handler event="c:EA_Accept_Event" action="{!c.gotoInvitation}"/>
    <!--<aura:handler name="init" value="{!this}" action="{!c.getData}" />-->
    <!--aura:handler name="init" value="{!this}" action="{!c.callSlick}"/-->
    <aura:handler event="c:EA_Decline" action="{!c.gotoDetail2}"/>
    <aura:handler event="c:EA_Showshare_Event" action="{!c.showShareComp}"/>
    <aura:handler event="c:EA_Back_Event" action="{!c.showPrevious}"/>
    <aura:attribute name="showLoading" type="boolean" default="false"/>
    <aura:handler event="aura:waiting" action="{!c.showSpinner}"/>
    <aura:handler event="aura:doneWaiting" action="{!c.hideSpinner}"/> 
    
    <div class="outer_sec2"> 
        <div class="spinner-location"><ui:spinner aura:id="spinner" /></div>
        <aura:if isTrue="{!v.showtabs}">
            <div class="slds-tabs--default">
                <ul class="slds-tabs--default__nav menu_ul" role="tablist">
                    <li aura:id="myaction" class="slds-tabs--default__item slds-text-title--caps menu_li li_1" title="Item One" role="presentation"><a class="slds-tabs--default__link" href="javascript:void(0);" role="tab" tabindex="0" aria-selected="true" aria-controls="tab-default-1" id="tab-default-1__item" onclick="{!c.callMyAction}">{!$Label.c.EA_MyActionsTab_Title}</a></li>
                    <li aura:id="themes" class="slds-tabs--default__item slds-text-title--caps menu_li li_2" title="Item Two" role="presentation"><a class="slds-tabs--default__link" href="" role="tab" tabindex="-1" aria-selected="false" aria-controls="tab-default-2" id="tab-default-2__item" onclick="{!c.callShowSwipe}">{!$Label.c.EA_ThemeTab_Title}</a></li>
                </ul>
            </div>
        </aura:if>
        <div class="slds">
            <div>
                <aura:if isTrue="{!v.MyActions}">
                    <c:EA_MyAction_Component /> 
                </aura:if>
                <aura:if isTrue="{!v.showAllthemebutton}">
                    <div class="filter-container">
                        <div aura:id="themeFilter" class="theme_space" onclick="{!c.callFilterComponent}"  >
                            <span class="slds-text-heading--small tilteTheme">{!v.selectedfilter}</span>&nbsp;
                            <aura:if isTrue="{!v.showdownarrow}">
                                <img src="/resource/Lightning_designing_style/assets/icons/utility/chevrondown_60.png" height="20" width="20"/></aura:if>
                            <aura:if isTrue="{!v.showuparrow}">
                                <img src="/resource/Lightning_designing_style/assets/icons/utility/chevronup_60.png" height="20" width="20"/> </aura:if>
                        </div>
                    </div>  
                </aura:if>
                <aura:if isTrue="{!v.showswipe}">
                    <div class="carousel">
                        <aura:iteration items="{!v.activities}" var="activity" indexvar="indexval" start="{!v.index}">
                            <div class="container">
                                <c:EA_Activity_Detail_Component activity="{!activity}" showcontent="{!v.showDetailCard}"  themeColors="{!v.themeColors}" themeName="{!v.showAllthemebutton}"  showswipecard="{!v.showswipe}" detailPage="{!v.detailpage}" booleanValue="{!v.booleanValue}"/>
                            </div>
                        </aura:iteration>
                    </div>
                </aura:if> 
                <aura:if isTrue="{!v.showfilter}">
                    <div class="slds">
                        <c:EverydayAction_Filter_Component temp="{!v.selectedfilter}"/>
                    </div>
                </aura:if>
                <aura:if isTrue="{!v.detailpage}">
                    <div class="carousel" style="margin-top:50px;">
                        <aura:iteration items="{!v.activities}" var="activity">
                            <div class="container">
                                <c:EA_Activity_Detail_Component activity="{!activity}" showcontent="{!v.showDetailCard}"  themeColors="{!v.themeColors}" themeName="{!v.showAllthemebutton}"   showswipecard="{!v.showswipe}" detailPage="{!v.detailpage}" index="{!v.index}" pageIndex="{!v.pageIndex}" />
                            </div>
                        </aura:iteration> 
                    </div>
                </aura:if>
                <aura:if isTrue="{!v.showfeedback}">
                    <c:EA_FeedBack_comp activityId="{!v.activityId}" themeColorsForFeedback="{!v.themeColorsForFeedback}" team_memberId="{!v.memberid}" participant_rating="{!v.participant_rating}" pagename="{!v.pagename}" index="{!v.index}" pageIndex="{!v.pageIndex}"></c:EA_FeedBack_comp>
                </aura:if>
                <aura:if isTrue="{!v.showtodoactpage}">
                    <c:EA_ToDoActivityPage activityId="{!v.activityId}"  themeColors="{!v.themeColors}" pagename="{!v.pagename}" index="{!v.index}"  pageIndex="{!v.pageIndex}" booleanValue="{!v.booleanValue}"></c:EA_ToDoActivityPage>
                </aura:if>
            </div>
            <aura:if isTrue="{!v.showInvitation}">
                <c:EA_AcceptDec_comp activityId="{!v.activityId}" teamid="{!v.memberid}"/>
            </aura:if>
            <aura:if isTrue="{!v.showchatter}">
                <c:EA_chatteEmail_component activityDetail="{!v.activityForShare}" pagename="{!v.pagename}" index="{!v.index}" activityId="{!v.selectedactivityId}" pageIndex="{!v.pageIndex}"/> 
            </aura:if>
            <aura:if isTrue="{!v.showDetailCard}">
                <c:EA_Activity_Detailpage_Component EAactivityid="{!v.selectedactivityId}" pagename="{!v.pagename}" index="{!v.index}" pageIndex="{!v.pageIndex}" themeColors="{!v.themeColors}" booleanValue="{!v.booleanValue}"/>
            </aura:if>
            <aura:if isTrue="{!v.showLoading}">
                <div class="slds-modal slds-fade-in-open" style="height:736px;" aria-hidden="false" role="dialog" data-aura-rendered-by="1191:c">
                    <div class="slds-modal__container" data-aura-rendered-by="1192:c">
                        <div class="slds-spinner--small">
                            <img src="Lightning_designing_style/assets/images/spinners/slds_spinner.gif" alt="Loading..." />
                        </div>
                    </div>
                </div>
            </aura:if>
        </div>
    </div> 
</aura:component>